var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function N(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,N(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),N(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=N(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=N(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return N(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function P(e,t,n){if(e==null)return e;var r=[],i=0;return N(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var I=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},L={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=L,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,I)}catch(e){I(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.0`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function P(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?P(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var F=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},z=[],ee=-1;function B(e){return{current:e}}function V(e){0>ee||(e.current=z[ee],z[ee]=null,ee--)}function H(e,t){ee++,z[ee]=e.current,e.current=t}var U=B(null),W=B(null),G=B(null),K=B(null);function te(e,t){switch(H(G,t),H(W,e),H(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nf(t),e=rf(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}V(U),H(U,e)}function ne(){V(U),V(W),V(G)}function re(e){e.memoizedState!==null&&H(K,e);var t=U.current,n=rf(t,e.type);t!==n&&(H(W,e),H(U,n))}function ie(e){W.current===e&&(V(U),V(W)),K.current===e&&(V(K),mp._currentValue=R)}var ae,oe;function q(e){if(ae===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ae=t&&t[1]||``,oe=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ae+e+oe}var se=!1;function ce(e,t){if(!e||se)return``;se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{se=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?q(n):``}function le(e,t){switch(e.tag){case 26:case 27:case 5:return q(e.type);case 16:return q(`Lazy`);case 13:return e.child!==t&&t!==null?q(`Suspense Fallback`):q(`Suspense`);case 19:return q(`SuspenseList`);case 0:case 15:return ce(e.type,!1);case 11:return ce(e.type.render,!1);case 1:return ce(e.type,!0);case 31:return q(`Activity`);default:return``}}function ue(e){try{var t=``,n=null;do t+=le(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var de=Object.prototype.hasOwnProperty,fe=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,me=t.unstable_shouldYield,he=t.unstable_requestPaint,J=t.unstable_now,ge=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,ye=t.unstable_NormalPriority,be=t.unstable_LowPriority,xe=t.unstable_IdlePriority,Se=t.log,Ce=t.unstable_setDisableYieldValue,we=null,Te=null;function Ee(e){if(typeof Se==`function`&&Ce(e),Te&&typeof Te.setStrictMode==`function`)try{Te.setStrictMode(we,e)}catch{}}var De=Math.clz32?Math.clz32:Ae,Oe=Math.log,ke=Math.LN2;function Ae(e){return e>>>=0,e===0?32:31-(Oe(e)/ke|0)|0}var je=256,Me=262144,Ne=4194304;function Pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Pe(n))):i=Pe(o):i=Pe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Pe(n))):i=Pe(o)):i=Pe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Le(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var e=Ne;return Ne<<=1,!(Ne&62914560)&&(Ne=4194304),e}function ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Be(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ve(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-De(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&He(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function He(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-De(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Ue(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-De(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function We(e,t){var n=t&-t;return n=n&42?1:Ge(n),(n&(e.suspendedLanes|t))===0?n:0}function Ge(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function qe(){var e=L.p;return e===0?(e=window.event,e===void 0?32:Ap(e.type)):e}function Je(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ye=Math.random().toString(36).slice(2),Xe=`__reactFiber$`+Ye,Ze=`__reactProps$`+Ye,Qe=`__reactContainer$`+Ye,$e=`__reactEvents$`+Ye,et=`__reactListeners$`+Ye,tt=`__reactHandles$`+Ye,nt=`__reactResources$`+Ye,rt=`__reactMarker$`+Ye;function it(e){delete e[Xe],delete e[Ze],delete e[$e],delete e[et],delete e[tt]}function at(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qe]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Df(e);e!==null;){if(n=e[Xe])return n;e=Df(e)}return t}e=n,n=e.parentNode}return null}function ot(e){if(e=e[Xe]||e[Qe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function st(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ct(e){var t=e[nt];return t||=e[nt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function lt(e){e[rt]=!0}var ut=new Set,dt={};function ft(e,t){pt(e,t),pt(e+`Capture`,t)}function pt(e,t){for(dt[e]=t,e=0;e<t.length;e++)ut.add(t[e])}var mt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),ht={},gt={};function _t(e){return de.call(gt,e)?!0:de.call(ht,e)?!1:mt.test(e)?gt[e]=!0:(ht[e]=!0,!1)}function vt(e,t,n){if(_t(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function yt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function bt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function xt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function St(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ct(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wt(e){if(!e._valueTracker){var t=St(e)?`checked`:`value`;e._valueTracker=Ct(e,t,``+e[t])}}function Tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=St(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Et(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Dt=/[\n"\\]/g;function Ot(e){return e.replace(Dt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function kt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+xt(t)):e.value!==``+xt(t)&&(e.value=``+xt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):jt(e,o,xt(n)):jt(e,o,xt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+xt(s):e.removeAttribute(`name`)}function At(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){wt(e);return}n=n==null?``:``+xt(n),t=t==null?n:``+xt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),wt(e)}function jt(e,t,n){t===`number`&&Et(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Mt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+xt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nt(e,t,n){if(t!=null&&(t=``+xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+xt(n)}function Pt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=xt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),wt(e)}function Ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var It=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Lt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||It.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Rt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Lt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Lt(e,o,t[o])}function zt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Bt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Vt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ht(e){return Vt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Ut(){}var Wt=null;function Gt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kt=null,qt=null;function Jt(e){var t=ot(e);if(t&&(e=t.stateNode)){var n=e[Ze]||null;a:switch(e=t.stateNode,t.type){case`input`:if(kt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Ot(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ze]||null;if(!a)throw Error(i(90));kt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Tt(r)}break a;case`textarea`:Nt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Mt(e,!!n.multiple,t,!1)}}}var Yt=!1;function Xt(e,t,n){if(Yt)return e(t,n);Yt=!0;try{return e(t)}finally{if(Yt=!1,(Kt!==null||qt!==null)&&(Au(),Kt&&(t=Kt,e=qt,qt=Kt=null,Jt(t),e)))for(t=0;t<e.length;t++)Jt(e[t])}}function Zt(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ze]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var Qt=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),$t=!1;if(Qt)try{var en={};Object.defineProperty(en,`passive`,{get:function(){$t=!0}}),window.addEventListener(`test`,en,en),window.removeEventListener(`test`,en,en)}catch{$t=!1}var tn=null,nn=null,rn=null;function an(){if(rn)return rn;var e,t=nn,n=t.length,r,i=`value`in tn?tn.value:tn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return rn=i.slice(e,1<r?1-r:void 0)}function on(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sn(){return!0}function cn(){return!1}function ln(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?sn:cn,this.isPropagationStopped=cn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(un),fn=h({},un,{view:0,detail:0}),pn=ln(fn),mn,hn,gn,_n=h({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==gn&&(gn&&e.type===`mousemove`?(mn=e.screenX-gn.screenX,hn=e.screenY-gn.screenY):hn=mn=0,gn=e),mn)},movementY:function(e){return`movementY`in e?e.movementY:hn}}),vn=ln(_n),yn=h({},_n,{dataTransfer:0}),Y=ln(yn),bn=h({},fn,{relatedTarget:0}),xn=ln(bn),Sn=h({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Cn=ln(Sn),wn=h({},un,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),Tn=ln(wn),En=h({},un,{data:0}),Dn=ln(En),On={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},kn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},An={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=An[e])?!!t[e]:!1}function Mn(){return jn}var Nn=h({},fn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=on(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?kn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return e.type===`keypress`?on(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?on(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),Pn=ln(Nn),Fn=h({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),In=ln(Fn),Ln=h({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),Rn=ln(Ln),zn=h({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bn=ln(zn),Vn=h({},_n,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hn=ln(Vn),Un=h({},un,{newState:0,oldState:0}),Wn=ln(Un),Gn=[9,13,27,32],Kn=Qt&&`CompositionEvent`in window,qn=null;Qt&&`documentMode`in document&&(qn=document.documentMode);var Jn=Qt&&`TextEvent`in window&&!qn,Yn=Qt&&(!Kn||qn&&8<qn&&11>=qn),Xn=` `,Zn=!1;function Qn(e,t){switch(e){case`keyup`:return Gn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function $n(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var er=!1;function tr(e,t){switch(e){case`compositionend`:return $n(t);case`keypress`:return t.which===32?(Zn=!0,Xn):null;case`textInput`:return e=t.data,e===Xn&&Zn?null:e;default:return null}}function nr(e,t){if(er)return e===`compositionend`||!Kn&&Qn(e,t)?(e=an(),rn=nn=tn=null,er=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Yn&&t.locale!==`ko`?null:t.data;default:return null}}var rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!rr[e.type]:t===`textarea`}function ar(e,t,n,r){Kt?qt?qt.push(r):qt=[r]:Kt=r,t=Bd(t,`onChange`),0<t.length&&(n=new dn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var or=null,sr=null;function cr(e){Md(e,0)}function lr(e){var t=st(e);if(Tt(t))return e}function ur(e,t){if(e===`change`)return t}var dr=!1;if(Qt){var fr;if(Qt){var pr=`oninput`in document;if(!pr){var mr=document.createElement(`div`);mr.setAttribute(`oninput`,`return;`),pr=typeof mr.oninput==`function`}fr=pr}else fr=!1;dr=fr&&(!document.documentMode||9<document.documentMode)}function hr(){or&&(or.detachEvent(`onpropertychange`,gr),sr=or=null)}function gr(e){if(e.propertyName===`value`&&lr(sr)){var t=[];ar(t,sr,e,Gt(e)),Xt(cr,t)}}function _r(e,t,n){e===`focusin`?(hr(),or=t,sr=n,or.attachEvent(`onpropertychange`,gr)):e===`focusout`&&hr()}function vr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return lr(sr)}function yr(e,t){if(e===`click`)return lr(t)}function br(e,t){if(e===`input`||e===`change`)return lr(t)}function xr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Sr=typeof Object.is==`function`?Object.is:xr;function Cr(e,t){if(Sr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!de.call(t,i)||!Sr(e[i],t[i]))return!1}return!0}function wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tr(e,t){var n=wr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=wr(n)}}function Er(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Er(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Et(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Et(e.document)}return t}function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var kr=Qt&&`documentMode`in document&&11>=document.documentMode,Ar=null,jr=null,Mr=null,Nr=!1;function Pr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nr||Ar==null||Ar!==Et(r)||(r=Ar,`selectionStart`in r&&Or(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&Cr(Mr,r)||(Mr=r,r=Bd(jr,`onSelect`),0<r.length&&(t=new dn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Ir={animationend:Fr(`Animation`,`AnimationEnd`),animationiteration:Fr(`Animation`,`AnimationIteration`),animationstart:Fr(`Animation`,`AnimationStart`),transitionrun:Fr(`Transition`,`TransitionRun`),transitionstart:Fr(`Transition`,`TransitionStart`),transitioncancel:Fr(`Transition`,`TransitionCancel`),transitionend:Fr(`Transition`,`TransitionEnd`)},Lr={},Rr={};Qt&&(Rr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),`TransitionEvent`in window||delete Ir.transitionend.transition);function zr(e){if(Lr[e])return Lr[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rr)return Lr[e]=t[n];return e}var Br=zr(`animationend`),Vr=zr(`animationiteration`),Hr=zr(`animationstart`),Ur=zr(`transitionrun`),Wr=zr(`transitionstart`),Gr=zr(`transitioncancel`),Kr=zr(`transitionend`),qr=new Map,Jr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Jr.push(`scrollEnd`);function X(e,t){qr.set(e,t),ft(t,[e])}var Yr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Xr=[],Zr=0,Qr=0;function Z(){for(var e=Zr,t=Qr=Zr=0;t<e;){var n=Xr[t];Xr[t++]=null;var r=Xr[t];Xr[t++]=null;var i=Xr[t];Xr[t++]=null;var a=Xr[t];if(Xr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ti(n,i,a)}}function $r(e,t,n,r){Xr[Zr++]=e,Xr[Zr++]=t,Xr[Zr++]=n,Xr[Zr++]=r,Qr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Q(e,t,n,r){return $r(e,t,n,r),ni(e)}function ei(e,t){return $r(e,null,null,t),ni(e)}function ti(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-De(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ni(e){if(50<xu)throw xu=0,Su=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $={};function ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ri(e,t,n,r)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ai(e)&&(s=1);else if(typeof e==`string`)s=ap(e,n,U.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=ii(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ii(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ii(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ii(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ii(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function di(e){var t=ii(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=ii(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:ue(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:ue(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],bi=0,xi=null,Si=1,Ci=``;function wi(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function Ti(e,t,n){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,xi=e;var r=Si;e=Ci;var i=32-De(r)-1;r&=~(1<<i),n+=1;var a=32-De(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-De(t)+i|n<<i|r,Ci=a+e}else Si=1<<a|n<<i|r,Ci=e}function Ei(e){e.return!==null&&(wi(e,1),Ti(e,1,0))}function Di(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===xi;)xi=yi[--bi],yi[bi]=null,Ci=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null}function Oi(e,t){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,Si=t.id,Ci=t.overflow,xi=e}var ki=null,Ai=null,ji=!1,Mi=null,Ni=!1,Pi=Error(i(519));function Fi(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``));throw Vi(mi(t,e)),Pi}function Ii(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Xe]=e,t[Ze]=r,n){case`dialog`:Nd(`cancel`,t),Nd(`close`,t);break;case`iframe`:case`object`:case`embed`:Nd(`load`,t);break;case`video`:case`audio`:for(n=0;n<Ad.length;n++)Nd(Ad[n],t);break;case`source`:Nd(`error`,t);break;case`img`:case`image`:case`link`:Nd(`error`,t),Nd(`load`,t);break;case`details`:Nd(`toggle`,t);break;case`input`:Nd(`invalid`,t),At(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Nd(`invalid`,t);break;case`textarea`:Nd(`invalid`,t),Pt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Kd(t.textContent,n)?(r.popover!=null&&(Nd(`beforetoggle`,t),Nd(`toggle`,t)),r.onScroll!=null&&Nd(`scroll`,t),r.onScrollEnd!=null&&Nd(`scrollend`,t),r.onClick!=null&&(t.onclick=Ut),t=!0):t=!1,t||Fi(e,!0)}function Li(e){for(ki=e.return;ki;)switch(ki.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:ki=ki.return}}function Ri(e){if(e!==ki)return!1;if(!ji)return Li(e),ji=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||af(e.type,e.memoizedProps)),n=!n),n&&Ai&&Fi(e),Li(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=Ef(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=Ef(e)}else t===27?(t=Ai,mf(e.type)?(e=Tf,Tf=null,Ai=e):Ai=t):Ai=ki?wf(e.stateNode.nextSibling):null;return!0}function zi(){Ai=ki=null,ji=!1}function Bi(){var e=Mi;return e!==null&&(su===null?su=e:su.push.apply(su,e),Mi=null),e}function Vi(e){Mi===null?Mi=[e]:Mi.push(e)}var Hi=B(null),Ui=null,Wi=null;function Gi(e,t,n){H(Hi,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=Hi.current,V(Hi)}function qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ji(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Yi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Sr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===K.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[mp]:e.push(mp))}a=a.return}e!==null&&Ji(t,e,n,r),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!Sr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ui=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qi(e){return ea(Ui,e)}function $i(e,t){return Ui===null&&Zi(e),ea(e,t)}function ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(i(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},na=t.unstable_scheduleCallback,ra=t.unstable_NormalPriority,ia={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aa(){return{controller:new ta,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&na(ra,function(){e.controller.abort()})}var sa=null,ca=0,la=0,ua=null;function da(e,t){if(sa===null){var n=sa=[];ca=0,la=Sd(),ua={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ca++,t.then(fa,fa),t}function fa(){if(--ca===0&&sa!==null){ua!==null&&(ua.status=`fulfilled`);var e=sa;sa=null,la=0,ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ma=I.S;I.S=function(e,t){uu=J(),typeof t==`object`&&t&&typeof t.then==`function`&&da(e,t),ma!==null&&ma(e,t)};var ha=B(null);function ga(){var e=ha.current;return e===null?Gl.pooledCache:e}function _a(e,t){t===null?H(ha,ha.current):H(ha,t.pool)}function va(){var e=ga();return e===null?null:{parent:ia._currentValue,pool:e}}var ya=Error(i(460)),ba=Error(i(474)),xa=Error(i(542)),Sa={then:function(){}};function Ca(e){return e=e.status,e===`fulfilled`||e===`rejected`}function wa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ut,Ut),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Oa(e),e;default:if(typeof t.status==`string`)t.then(Ut,Ut);else{if(e=Gl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Oa(e),e}throw Ea=t,ya}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ea=e,ya):e}}var Ea=null;function Da(){if(Ea===null)throw Error(i(459));var e=Ea;return Ea=null,e}function Oa(e){if(e===ya||e===xa)throw Error(i(483))}var ka=null,Aa=0;function ja(e){var t=Aa;return Aa+=1,ka===null&&(ka=[]),wa(ka,e,t)}function Ma(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Na(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Pa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Ta(i)===t.type)?(t=a(t,n.props),Ma(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),Ma(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=ci(t.type,t.key,t.props,null,e.mode,n),Ma(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case O:return t=Ta(t),f(e,t,n)}if(F(t)||M(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ja(t),n);if(t.$$typeof===C)return f(e,$i(e,t),n);Na(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Ta(n),p(e,t,n,r)}if(F(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ja(n),r);if(n.$$typeof===C)return p(e,t,$i(e,n),r);Na(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Ta(r),m(e,t,n,r,i)}if(F(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ja(r),i);if(r.$$typeof===C)return m(e,t,n,$i(t,r),i);Na(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ji&&wi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ji&&wi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ji&&wi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ji&&wi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ji&&wi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ji&&wi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Ta(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ma(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),Ma(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Ta(o),b(e,r,o,c)}if(F(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ja(o),c);if(o.$$typeof===C)return b(e,r,$i(e,o),c);Na(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Aa=0;var i=b(e,t,n,r);return ka=null,i}catch(t){if(t===ya||t===xa)throw t;var a=ii(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Fa=Pa(!0),Ia=Pa(!1),La=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Va(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ni(e),ti(e,null,n),t}return $r(e,r,t,n),ni(e)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ue(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wa=!1;function Ga(){if(Wa){var e=ua;if(e!==null)throw e}}function Ka(e,t,n,r){Wa=!1;var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(ql&f)===f:(r&f)===f){f!==0&&f===la&&(Wa=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:La=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),tu|=o,e.lanes=o,e.memoizedState=d}}function qa(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ja(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qa(n[e],t)}var Ya=B(null),Xa=B(0);function Za(e,t){e=$l,H(Xa,e),H(Ya,t),$l=e|t.baseLanes}function Qa(){H(Xa,$l),H(Ya,Ya.current)}function $a(){$l=Xa.current,V(Ya),V(Xa)}var eo=B(null),to=null;function no(e){var t=e.alternate;H(so,so.current&1),H(eo,e),to===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(to=e)}function ro(e){H(so,so.current),H(eo,e),to===null&&(to=e)}function io(e){e.tag===22?(H(so,so.current),H(eo,e),to===null&&(to=e)):ao(e)}function ao(){H(so,so.current),H(eo,eo.current)}function oo(e){V(eo),to===e&&(to=null),V(so)}var so=B(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xf(n)||Sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=0,uo=null,fo=null,po=null,mo=!1,ho=!1,go=!1,_o=0,vo=0,yo=null,bo=0;function xo(){throw Error(i(321))}function So(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,a){return lo=a,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Hs:Us,go=!1,a=n(r,i),go=!1,ho&&(a=To(t,n,r,i)),wo(e),a}function wo(e){I.H=Vs;var t=fo!==null&&fo.next!==null;if(lo=0,po=fo=uo=null,mo=!1,vo=0,yo=null,t)throw Error(i(300));e===null||oc||(e=e.dependencies,e!==null&&Xi(e)&&(oc=!0))}function To(e,t,n,r){uo=e;var a=0;do{if(ho&&(yo=null),vo=0,ho=!1,25<=a)throw Error(i(301));if(a+=1,po=fo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}I.H=Ws,o=t(n,r)}while(ho);return o}function Eo(){var e=I.H,t=e.useState()[0];return t=typeof t.then==`function`?No(t):t,e=e.useState()[0],(fo===null?null:fo.memoizedState)!==e&&(uo.flags|=1024),t}function Do(){var e=_o!==0;return _o=0,e}function Oo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ko(e){if(mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mo=!1}lo=0,po=fo=uo=null,ho=!1,vo=_o=0,yo=null}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return po===null?uo.memoizedState=po=e:po=po.next=e,po}function jo(){if(fo===null){var e=uo.alternate;e=e===null?null:e.memoizedState}else e=fo.next;var t=po===null?uo.memoizedState:po.next;if(t!==null)po=t,fo=e;else{if(e===null)throw uo.alternate===null?Error(i(467)):Error(i(310));fo=e,e={memoizedState:fo.memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},po===null?uo.memoizedState=po=e:po=po.next=e}return po}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(e){var t=vo;return vo+=1,yo===null&&(yo=[]),e=wa(yo,e,t),t=uo,(po===null?t.memoizedState:po.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Hs:Us),e}function Po(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return No(e);if(e.$$typeof===C)return Qi(e)}throw Error(i(438,String(e)))}function Fo(e){var t=null,n=uo.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=uo.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Mo(),uo.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Io(e,t){return typeof t==`function`?t(e):t}function Lo(e){var t=jo();return Ro(t,fo,e)}function Ro(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(lo&f)===f:(ql&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===la&&(d=!0);else if((lo&p)===p){u=u.next,p===la&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,uo.lanes|=p,tu|=p;f=u.action,go&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,uo.lanes|=f,tu|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Sr(o,e.memoizedState)&&(oc=!0,d&&(n=ua,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function zo(e){var t=jo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Sr(o,t.memoizedState)||(oc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(e,t,n){var r=uo,a=jo(),o=ji;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Sr((fo||a).memoizedState,n);if(s&&(a.memoizedState=n,oc=!0),a=a.queue,ps(Uo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||po!==null&&po.memoizedState.tag&1){if(r.flags|=2048,cs(9,{destroy:void 0},Ho.bind(null,r,a,n,t),null),Gl===null)throw Error(i(349));o||lo&127||Vo(r,t,n)}return n}function Vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=uo.updateQueue,t===null?(t=Mo(),uo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ho(e,t,n,r){t.value=n,t.getSnapshot=r,Wo(t)&&Go(e)}function Uo(e,t,n){return n(function(){Wo(t)&&Go(e)})}function Wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sr(e,n)}catch{return!0}}function Go(e){var t=ei(e,2);t!==null&&Tu(t,e,2)}function Ko(e){var t=Ao();if(typeof e==`function`){var n=e;if(e=n(),go){Ee(!0);try{n()}finally{Ee(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t}function qo(e,t,n,r){return e.baseState=n,Ro(e,fo,typeof r==`function`?r:Io)}function Jo(e,t,n,r,a){if(Rs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};I.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Yo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Yo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),c=I.S;c!==null&&c(o,s),Xo(e,t,s)}catch(n){Qo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),I.T=a}}else try{a=n(i,r),Xo(e,t,a)}catch(n){Qo(e,t,n)}}function Xo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Zo(e,t,n)},function(n){return Qo(e,t,n)}):Zo(e,t,n)}function Zo(e,t,n){t.status=`fulfilled`,t.value=n,$o(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Yo(e,n)))}function Qo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,$o(t),t=t.next;while(t!==r)}e.action=null}function $o(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function es(e,t){return t}function ts(e,t){if(ji){var n=Gl.formState;if(n!==null){a:{var r=uo;if(ji){if(Ai){b:{for(var i=Ai,a=Ni;i.nodeType!==8;){if(!a){i=null;break b}if(i=wf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ai=wf(i.nextSibling),r=i.data===`F!`;break a}}Fi(r)}r=!1}r&&(t=n[0])}}return n=Ao(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n.queue=r,n=Fs.bind(null,uo,r),r.dispatch=n,r=Ko(!1),a=Ls.bind(null,uo,!1,r.queue),r=Ao(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Jo.bind(null,uo,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ns(e){var t=jo();return rs(t,fo,e)}function rs(e,t,n){if(t=Ro(e,t,es)[0],e=Lo(Io)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=No(t)}catch(e){throw e===ya?xa:e}else r=t;t=jo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(uo.flags|=2048,cs(9,{destroy:void 0},os.bind(null,i,n),null)),[r,a,e]}function os(e,t){e.action=t}function ss(e){var t=jo(),n=fo;if(n!==null)return rs(t,n,e);jo(),t=t.memoizedState,n=jo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function cs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=uo.updateQueue,t===null&&(t=Mo(),uo.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ls(){return jo().memoizedState}function us(e,t,n,r){var i=Ao();uo.flags|=e,i.memoizedState=cs(1|t,{destroy:void 0},n,r===void 0?null:r)}function ds(e,t,n,r){var i=jo();r=r===void 0?null:r;var a=i.memoizedState.inst;fo!==null&&r!==null&&So(r,fo.memoizedState.deps)?i.memoizedState=cs(t,a,n,r):(uo.flags|=e,i.memoizedState=cs(1|t,a,n,r))}function fs(e,t){us(8390656,8,e,t)}function ps(e,t){ds(2048,8,e,t)}function ms(e){uo.flags|=4;var t=uo.updateQueue;if(t===null)t=Mo(),uo.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function hs(e){var t=jo().memoizedState;return ms({ref:t,nextImpl:e}),function(){if(Wl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gs(e,t){return ds(4,2,e,t)}function _s(e,t){return ds(4,4,e,t)}function vs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ys(e,t,n){n=n==null?null:n.concat([e]),ds(4,4,vs.bind(null,t,e),n)}function bs(){}function xs(e,t){var n=jo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=jo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&So(t,r[1]))return r[0];if(r=e(),go){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return n===void 0||lo&1073741824&&!(ql&261930)?e.memoizedState=t:(e.memoizedState=n,e=wu(),uo.lanes|=e,tu|=e,n)}function ws(e,t,n,r){return Sr(n,t)?n:Ya.current===null?!(lo&42)||lo&1073741824&&!(ql&261930)?(oc=!0,e.memoizedState=n):(e=wu(),uo.lanes|=e,tu|=e,t):(e=Cs(e,n,r),Sr(e,t)||(oc=!0),e)}function Ts(e,t,n,r,i){var a=L.p;L.p=a!==0&&8>a?a:8;var o=I.T,s={};I.T=s,Ls(e,!1,t,n);try{var c=i(),l=I.S;if(l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`){var u=pa(c,r);Is(e,t,u,Cu(e))}else Is(e,t,r,Cu(e))}catch(n){Is(e,t,{then:function(){},status:`rejected`,reason:n},Cu())}finally{L.p=a,o!==null&&s.types!==null&&(o.types=s.types),I.T=o}}function Es(){}function Ds(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Os(e).queue;Ts(e,a,t,R,n===null?Es:function(){return ks(e),n(r)})}function Os(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ks(e){var t=Os(e);t.next===null&&(t=e.alternate.memoizedState),Is(e,t.next.queue,{},Cu())}function As(){return Qi(mp)}function js(){return jo().memoizedState}function Ms(){return jo().memoizedState}function Ns(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Cu();e=Ba(n);var r=Va(t,e,n);r!==null&&(Tu(r,t,n),Ha(r,t,n)),t={cache:aa()},e.payload=t;return}t=t.return}}function Ps(e,t,n){var r=Cu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)?zs(t,n):(n=Q(e,t,n,r),n!==null&&(Tu(n,e,r),Bs(n,t,r)))}function Fs(e,t,n){var r=Cu();Is(e,t,n,r)}function Is(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))zs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Sr(s,o))return $r(e,t,i,0),Gl===null&&Z(),!1}catch{}if(n=Q(e,t,i,r),n!==null)return Tu(n,e,r),Bs(n,t,r),!0}return!1}function Ls(e,t,n,r){if(r={lane:2,revertLane:Sd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(i(479))}else t=Q(e,n,r,2),t!==null&&Tu(t,e,2)}function Rs(e){var t=e.alternate;return e===uo||t!==null&&t===uo}function zs(e,t){ho=mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bs(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ue(e,n)}}var Vs={readContext:Qi,use:Po,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useInsertionEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useSyncExternalStore:xo,useId:xo,useHostTransitionStatus:xo,useFormState:xo,useActionState:xo,useOptimistic:xo,useMemoCache:xo,useCacheRefresh:xo};Vs.useEffectEvent=xo;var Hs={readContext:Qi,use:Po,useCallback:function(e,t){return Ao().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:fs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),us(4194308,4,vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){us(4,2,e,t)},useMemo:function(e,t){var n=Ao();t=t===void 0?null:t;var r=e();if(go){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ao();if(n!==void 0){var i=n(t);if(go){Ee(!0);try{n(t)}finally{Ee(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ps.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){var t=Ao();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,n=Fs.bind(null,uo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:bs,useDeferredValue:function(e,t){var n=Ao();return Cs(n,e,t)},useTransition:function(){var e=Ko(!1);return e=Ts.bind(null,uo,e.queue,!0,!1),Ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=uo,a=Ao();if(ji){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Gl===null)throw Error(i(349));ql&127||Vo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,fs(Uo.bind(null,r,o,e),[e]),r.flags|=2048,cs(9,{destroy:void 0},Ho.bind(null,r,o,n,t),null),n},useId:function(){var e=Ao(),t=Gl.identifierPrefix;if(ji){var n=Ci,r=Si;n=(r&~(1<<32-De(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=_o++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=bo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:As,useFormState:ts,useActionState:ts,useOptimistic:function(e){var t=Ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ls.bind(null,uo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fo,useCacheRefresh:function(){return Ao().memoizedState=Ns.bind(null,uo)},useEffectEvent:function(e){var t=Ao(),n={impl:e};return t.memoizedState=n,function(){if(Wl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Us={readContext:Qi,use:Po,useCallback:xs,useContext:Qi,useEffect:ps,useImperativeHandle:ys,useInsertionEffect:gs,useLayoutEffect:_s,useMemo:Ss,useReducer:Lo,useRef:ls,useState:function(){return Lo(Io)},useDebugValue:bs,useDeferredValue:function(e,t){var n=jo();return ws(n,fo.memoizedState,e,t)},useTransition:function(){var e=Lo(Io)[0],t=jo().memoizedState;return[typeof e==`boolean`?e:No(e),t]},useSyncExternalStore:Bo,useId:js,useHostTransitionStatus:As,useFormState:ns,useActionState:ns,useOptimistic:function(e,t){var n=jo();return qo(n,fo,e,t)},useMemoCache:Fo,useCacheRefresh:Ms};Us.useEffectEvent=hs;var Ws={readContext:Qi,use:Po,useCallback:xs,useContext:Qi,useEffect:ps,useImperativeHandle:ys,useInsertionEffect:gs,useLayoutEffect:_s,useMemo:Ss,useReducer:zo,useRef:ls,useState:function(){return zo(Io)},useDebugValue:bs,useDeferredValue:function(e,t){var n=jo();return fo===null?Cs(n,e,t):ws(n,fo.memoizedState,e,t)},useTransition:function(){var e=zo(Io)[0],t=jo().memoizedState;return[typeof e==`boolean`?e:No(e),t]},useSyncExternalStore:Bo,useId:js,useHostTransitionStatus:As,useFormState:ss,useActionState:ss,useOptimistic:function(e,t){var n=jo();return fo===null?(n.baseState=e,[e,n.queue.dispatch]):qo(n,fo,e,t)},useMemoCache:Fo,useCacheRefresh:Ms};Ws.useEffectEvent=hs;function Gs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ks={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cu(),i=Ba(r);i.payload=t,n!=null&&(i.callback=n),t=Va(e,i,r),t!==null&&(Tu(t,e,r),Ha(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cu(),i=Ba(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Va(e,i,r),t!==null&&(Tu(t,e,r),Ha(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cu(),r=Ba(n);r.tag=2,t!=null&&(r.callback=t),t=Va(e,r,n),t!==null&&(Tu(t,e,n),Ha(t,e,n))}};function qs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Cr(n,r)||!Cr(i,a):!0}function Js(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ks.enqueueReplaceState(t,t.state,null)}function Ys(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Xs(e){Yr(e)}function Zs(e){console.error(e)}function Qs(e){Yr(e)}function $s(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ec(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function tc(e,t,n){return n=Ba(n),n.tag=3,n.payload={element:null},n.callback=function(){$s(e,t)},n}function nc(e){return e=Ba(e),e.tag=3,e}function rc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ec(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){ec(t,n,r),typeof i!=`function`&&(pu===null?pu=new Set([this]):pu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function ic(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Yi(t,n,a,!0),n=eo.current,n!==null){switch(n.tag){case 31:case 13:return to===null?Lu():n.alternate===null&&eu===0&&(eu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),nd(e,r,a)),!1;case 22:return n.flags|=65536,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),nd(e,r,a)),!1}throw Error(i(435,n.tag))}return nd(e,r,a),Lu(),!1}if(ji)return t=eo.current,t===null?(r!==Pi&&(t=Error(i(423),{cause:r}),Vi(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=tc(e.stateNode,r,a),Ua(e,a),eu!==4&&(eu=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Pi&&(e=Error(i(422),{cause:r}),Vi(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),ou===null?ou=[o]:ou.push(o),eu!==4&&(eu=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=tc(n.stateNode,r,e),Ua(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(pu===null||!pu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=nc(a),rc(a,e,n,r),Ua(n,a),!1}n=n.return}while(n!==null);return!1}var ac=Error(i(461)),oc=!1;function sc(e,t,n,r){t.child=e===null?Ia(t,null,n,r):Fa(t,e.child,n,r)}function cc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Zi(t),r=Co(e,t,n,o,a,i),s=Do(),e!==null&&!oc?(Oo(e,t,i),Mc(e,t,i)):(ji&&s&&Ei(t),t.flags|=1,sc(e,t,r,i),t.child)}function lc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ai(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,uc(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Nc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Cr:n,n(o,r)&&e.ref===t.ref)return Mc(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function uc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Cr(a,r)&&e.ref===t.ref)if(oc=!1,t.pendingProps=r=a,Nc(e,i))e.flags&131072&&(oc=!0);else return t.lanes=e.lanes,Mc(e,t,i)}return vc(e,t,n,r,i)}function dc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return pc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_a(t,a===null?null:a.cachePool),a===null?Qa():Za(t,a),io(t);else return r=t.lanes=536870912,pc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&_a(t,null),Qa(),ao(t)):(_a(t,a.cachePool),Za(t,a),ao(t),t.memoizedState=null);return sc(e,t,i,n),t.child}function fc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pc(e,t,n,r,i){var a=ga();return a=a===null?null:{parent:ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&_a(t,null),Qa(),io(t),e!==null&&Yi(e,t,r,!0),t.childLanes=i,null}function mc(e,t){return t=Dc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hc(e,t,n){return Fa(t,e.child,null,n),e=mc(t,t.pendingProps),e.flags|=2,oo(t),t.memoizedState=null,e}function gc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ji){if(r.mode===`hidden`)return e=mc(t,r),t.lanes=536870912,fc(null,e);if(ro(t),(e=Ai)?(e=bf(e,Ni),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return mc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ro(t),a)if(t.flags&256)t.flags&=-257,t=hc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(oc||Yi(e,t,n,!1),a=(n&e.childLanes)!==0,oc||a){if(r=Gl,r!==null&&(s=We(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,ei(e,s),Tu(r,e,s),ac;Lu(),t=hc(e,t,n)}else e=o.treeContext,Ai=wf(s.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=mc(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _c(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vc(e,t,n,r,i){return Zi(t),n=Co(e,t,n,r,void 0,i),r=Do(),e!==null&&!oc?(Oo(e,t,i),Mc(e,t,i)):(ji&&r&&Ei(t),t.flags|=1,sc(e,t,n,i),t.child)}function yc(e,t,n,r,i,a){return Zi(t),t.updateQueue=null,n=To(t,r,n,i),wo(e),r=Do(),e!==null&&!oc?(Oo(e,t,a),Mc(e,t,a)):(ji&&r&&Ei(t),t.flags|=1,sc(e,t,n,a),t.child)}function bc(e,t,n,r,i){if(Zi(t),t.stateNode===null){var a=$,o=n.contextType;typeof o==`object`&&o&&(a=Qi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ks,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ra(t),o=n.contextType,a.context=typeof o==`object`&&o?Qi(o):$,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Gs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ks.enqueueReplaceState(a,a.state,null),Ka(t,r,a,i),Ga(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ys(n,s);a.props=c;var l=a.context,u=n.contextType;o=$,typeof u==`object`&&u&&(o=Qi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Js(t,a,r,o),La=!1;var f=t.memoizedState;a.state=f,Ka(t,r,a,i),Ga(),l=t.memoizedState,s||f!==l||La?(typeof d==`function`&&(Gs(t,n,d,r),l=t.memoizedState),(c=La||qs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,za(e,t),o=t.memoizedProps,u=Ys(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=$,typeof l==`object`&&l&&(c=Qi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Js(t,a,r,c),La=!1,f=t.memoizedState,a.state=f,Ka(t,r,a,i),Ga();var p=t.memoizedState;o!==d||f!==p||La||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof s==`function`&&(Gs(t,n,s,r),p=t.memoizedState),(u=La||qs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,_c(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Fa(t,e.child,null,i),t.child=Fa(t,null,n,i)):sc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Mc(e,t,i),e}function xc(e,t,n,r){return zi(),t.flags|=256,sc(e,t,n,r),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:va()}}function wc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=iu),e}function Tc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(so.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ji){if(a?no(t):ao(t),(e=Ai)?(e=bf(e,Ni),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return Sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(ao(t),a=t.mode,c=Dc({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Cc(n),r.childLanes=wc(e,s,n),t.memoizedState=Sc,fc(null,r)):(no(t),Ec(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(no(t),t.flags&=-257,t=Oc(e,t,n)):t.memoizedState===null?(ao(t),c=r.fallback,a=t.mode,r=Dc({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Fa(t,e.child,null,n),r=t.child,r.memoizedState=Cc(n),r.childLanes=wc(e,s,n),t.memoizedState=Sc,t=fc(null,r)):(ao(t),t.child=e.child,t.flags|=128,t=null);else if(no(t),Sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Vi({value:r,source:null,stack:null}),t=Oc(e,t,n)}else if(oc||Yi(e,t,n,!1),s=(n&e.childLanes)!==0,oc||s){if(s=Gl,s!==null&&(r=We(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ei(e,r),Tu(s,e,r),ac;xf(c)||Lu(),t=Oc(e,t,n)}else xf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ai=wf(c.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=Ec(t,r.children),t.flags|=4096);return t}return a?(ao(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,fc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Cc(n):(a=c.cachePool,a===null?a=va():(l=ia._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=wc(e,s,n),t.memoizedState=Sc,fc(e.child,r)):(no(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ec(e,t){return t=Dc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Dc(e,t){return e=ii(22,e,null,t),e.lanes=0,e}function Oc(e,t,n){return Fa(t,e.child,null,n),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qi(e.return,t,n)}function Ac(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function jc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=so.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,H(so,o),sc(e,t,r,n),r=ji?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&co(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ac(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&co(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ac(t,!0,n,null,a,r);break;case`together`:Ac(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Mc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tu|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Xi(e))):!0}function Pc(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),Gi(t,ia,e.memoizedState.cache),zi();break;case 27:case 5:re(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ro(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(no(t),e=Mc(e,t,n),e===null?null:e.sibling):Tc(e,t,n):(no(t),t.flags|=128,null);no(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Yi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return jc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(so,so.current),r)break;return null;case 22:return t.lanes=0,dc(e,t,n,t.pendingProps);case 24:Gi(t,ia,e.memoizedState.cache)}return Mc(e,t,n)}function Fc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)oc=!0;else{if(!Nc(e,n)&&!(t.flags&128))return oc=!1,Pc(e,t,n);oc=!!(e.flags&131072)}else oc=!1,ji&&t.flags&1048576&&Ti(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e==`function`)ai(e)?(r=Ys(e,r),t.tag=1,t=bc(null,t,e,r,n)):(t.tag=0,t=vc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=cc(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=lc(null,t,e,r,n);break a}}throw t=P(e)||e,Error(i(306,t,``))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ys(r,t.pendingProps),bc(e,t,r,a,n);case 3:a:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,za(e,t),Ka(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Gi(t,ia,r),r!==o.cache&&Ji(t,[ia],n,!0),Ga(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=xc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Vi(a),t=xc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ai=wf(e.firstChild),ki=t,ji=!0,Mi=null,Ni=!0,n=Ia(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),r===a){t=Mc(e,t,n);break a}sc(e,t,r,n)}t=t.child}return t;case 26:return _c(e,t),e===null?(n=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ji||(n=t.type,e=t.pendingProps,r=tf(G.current).createElement(n),r[Xe]=t,r[Ze]=e,Yd(r,n,e),lt(r),t.stateNode=r):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),e===null&&ji&&(r=t.stateNode=Of(t.type,t.pendingProps,G.current),ki=t,Ni=!0,a=Ai,mf(t.type)?(Tf=a,Ai=wf(r.firstChild)):Ai=a),sc(e,t,t.pendingProps.children,n),_c(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ji&&((a=r=Ai)&&(r=vf(r,t.type,t.pendingProps,Ni),r===null?a=!1:(t.stateNode=r,ki=t,Ai=wf(r.firstChild),Ni=!1,a=!0)),a||Fi(t)),re(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,af(a,o)?r=null:s!==null&&af(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Co(e,t,Eo,null,null,n),mp._currentValue=a),_c(e,t),sc(e,t,r,n),t.child;case 6:return e===null&&ji&&((e=n=Ai)&&(n=yf(n,t.pendingProps,Ni),n===null?e=!1:(t.stateNode=n,ki=t,Ai=null,e=!0)),e||Fi(t)),null;case 13:return Tc(e,t,n);case 4:return te(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fa(t,null,r,n):sc(e,t,r,n),t.child;case 11:return cc(e,t,t.type,t.pendingProps,n);case 7:return sc(e,t,t.pendingProps,n),t.child;case 8:return sc(e,t,t.pendingProps.children,n),t.child;case 12:return sc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Gi(t,t.type,r.value),sc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Zi(t),a=Qi(a),r=r(a),t.flags|=1,sc(e,t,r,n),t.child;case 14:return lc(e,t,t.type,t.pendingProps,n);case 15:return uc(e,t,t.type,t.pendingProps,n);case 19:return jc(e,t,n);case 31:return gc(e,t,n);case 22:return dc(e,t,n,t.pendingProps);case 24:return Zi(t),r=Qi(ia),e===null?(a=ga(),a===null&&(a=Gl,o=aa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ra(t),Gi(t,ia,a)):((e.lanes&n)!==0&&(za(e,t),Ka(t,null,null,n),Ga()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Gi(t,ia,r),r!==a.cache&&Ji(t,[ia],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gi(t,ia,r))),sc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ic(e){e.flags|=4}function Lc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Pu())e.flags|=8192;else throw Ea=Sa,ba}else e.flags&=-16777217}function Rc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!op(t))if(Pu())e.flags|=8192;else throw Ea=Sa,ba}function zc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Re(),e.lanes|=t,au|=t)}function Bc(e,t){if(!ji)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hc(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vc(t),null;case 1:return Vc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ki(ia),ne(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ri(t)?Ic(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi())),Vc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Ic(t),o===null?(Vc(t),Lc(t,a,null,r,n)):(Vc(t),Rc(t,o))):o?o===e.memoizedState?(Vc(t),t.flags&=-16777217):(Ic(t),Vc(t),Rc(t,o)):(e=e.memoizedProps,e!==r&&Ic(t),Vc(t),Lc(t,a,e,r,n)),null;case 27:if(ie(t),n=G.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Vc(t),null}e=U.current,Ri(t)?Ii(t,e):(e=Of(a,r,n),t.stateNode=e,Ic(t))}return Vc(t),null;case 5:if(ie(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Vc(t),null}if(o=U.current,Ri(t))Ii(t,o);else{var s=tf(G.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[Xe]=t,o[Ze]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Yd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Ic(t)}}return Vc(t),Lc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=G.current,Ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=ki,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Kd(e.nodeValue,n)),e||Fi(t,!0)}else e=tf(e).createTextNode(r),e[Xe]=t,t.stateNode=e}return Vc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ri(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[Xe]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vc(t),e=!1}else n=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(oo(t),t):(oo(t),null);if(t.flags&128)throw Error(i(558))}return Vc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[Xe]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vc(t),a=!1}else a=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(oo(t),t):(oo(t),null)}return oo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),zc(t,t.updateQueue),Vc(t),null);case 4:return ne(),e===null&&Id(t.stateNode.containerInfo),Vc(t),null;case 10:return Ki(t.type),Vc(t),null;case 19:if(V(so),r=t.memoizedState,r===null)return Vc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Bc(r,!1);else{if(eu!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=co(e),o!==null){for(t.flags|=128,Bc(r,!1),e=o.updateQueue,t.updateQueue=e,zc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return H(so,so.current&1|2),ji&&wi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&J()>du&&(t.flags|=128,a=!0,Bc(r,!1),t.lanes=4194304)}else{if(!a)if(e=co(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,zc(t,e),Bc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ji)return Vc(t),null}else 2*J()-r.renderingStartTime>du&&n!==536870912&&(t.flags|=128,a=!0,Bc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Vc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=J(),e.sibling=null,n=so.current,H(so,a?n&1|2:n&1),ji&&wi(t,r.treeForkCount),e);case 22:case 23:return oo(t),$a(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Vc(t),t.subtreeFlags&6&&(t.flags|=8192)):Vc(t),n=t.updateQueue,n!==null&&zc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&V(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(ia),Vc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Uc(e,t){switch(Di(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(ia),ne(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ie(t),null;case 31:if(t.memoizedState!==null){if(oo(t),t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(oo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(so),null;case 4:return ne(),null;case 10:return Ki(t.type),null;case 22:case 23:return oo(t),$a(),e!==null&&V(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(ia),null;case 25:return null;default:return null}}function Wc(e,t){switch(Di(t),t.tag){case 3:Ki(ia),ne();break;case 26:case 27:case 5:ie(t);break;case 4:ne();break;case 31:t.memoizedState!==null&&oo(t);break;case 13:oo(t);break;case 19:V(so);break;case 10:Ki(t.type);break;case 22:case 23:oo(t),$a(),e!==null&&V(ha);break;case 24:Ki(ia)}}function Gc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){td(t,t.return,e)}}function Kc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){td(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){td(t,t.return,e)}}function qc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ja(t,n)}catch(t){td(e,e.return,t)}}}function Jc(e,t,n){n.props=Ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){td(e,t,n)}}function Yc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){td(e,t,n)}}function Xc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){td(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){td(e,t,n)}else n.current=null}function Zc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){td(e,e.return,t)}}function Qc(e,t,n){try{var r=e.stateNode;Xd(r,e.type,n,t),r[Ze]=t}catch(t){td(e,e.return,t)}}function $c(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mf(e.type)||e.tag===4}function el(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ut));else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}function rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Yd(t,r,n),t[Xe]=e,t[Ze]=n}catch(t){td(e,e.return,t)}}var il=!1,al=!1,ol=!1,sl=typeof WeakSet==`function`?WeakSet:Set,cl=null;function ll(e,t){if(e=e.containerInfo,$d=Cp,e=Dr(e),Or(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(ef={focusedElem:e,selectionRange:n},Cp=!1,cl=t;cl!==null;)if(t=cl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,cl=e;else for(;cl!==null;){switch(t=cl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ys(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){td(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_f(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:_f(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,cl=e;break}cl=t.return}}function ul(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Tl(e,n),r&4&&Gc(5,n);break;case 1:if(Tl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){td(n,n.return,e)}else{var i=Ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){td(n,n.return,e)}}r&64&&qc(n),r&512&&Yc(n,n.return);break;case 3:if(Tl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ja(e,t)}catch(e){td(n,n.return,e)}}break;case 27:t===null&&r&4&&rl(n);case 26:case 5:Tl(e,n),t===null&&r&4&&Zc(n),r&512&&Yc(n,n.return);break;case 12:Tl(e,n);break;case 31:Tl(e,n),r&4&&gl(e,n);break;case 13:Tl(e,n),r&4&&_l(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ad.bind(null,n),Cf(e,n))));break;case 22:if(r=n.memoizedState!==null||il,!r){t=t!==null&&t.memoizedState!==null||al,i=il;var a=al;il=r,(al=t)&&!a?Dl(e,n,(n.subtreeFlags&8772)!=0):Tl(e,n),il=i,al=a}break;case 30:break;default:Tl(e,n)}}function dl(e){var t=e.alternate;t!==null&&(e.alternate=null,dl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&it(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fl=null,pl=!1;function ml(e,t,n){for(n=n.child;n!==null;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(Te&&typeof Te.onCommitFiberUnmount==`function`)try{Te.onCommitFiberUnmount(we,n)}catch{}switch(n.tag){case 26:al||Xc(n,t),ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:al||Xc(n,t);var r=fl,i=pl;mf(n.type)&&(fl=n.stateNode,pl=!1),ml(e,t,n),kf(n.stateNode),fl=r,pl=i;break;case 5:al||Xc(n,t);case 6:if(r=fl,i=pl,fl=null,ml(e,t,n),fl=r,pl=i,fl!==null)if(pl)try{(fl.nodeType===9?fl.body:fl.nodeName===`HTML`?fl.ownerDocument.body:fl).removeChild(n.stateNode)}catch(e){td(n,t,e)}else try{fl.removeChild(n.stateNode)}catch(e){td(n,t,e)}break;case 18:fl!==null&&(pl?(e=fl,hf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Yp(e)):hf(fl,n.stateNode));break;case 4:r=fl,i=pl,fl=n.stateNode.containerInfo,pl=!0,ml(e,t,n),fl=r,pl=i;break;case 0:case 11:case 14:case 15:Kc(2,n,t),al||Kc(4,n,t),ml(e,t,n);break;case 1:al||(Xc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Jc(n,t,r)),ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:al=(r=al)||n.memoizedState!==null,ml(e,t,n),al=r;break;default:ml(e,t,n)}}function gl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yp(e)}catch(e){td(t,t.return,e)}}}function _l(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yp(e)}catch(e){td(t,t.return,e)}}function vl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sl),t;default:throw Error(i(435,e.tag))}}function yl(e,t){var n=vl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=od.bind(null,e,t);t.then(r,r)}})}function bl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(mf(c.type)){fl=c.stateNode,pl=!1;break a}break;case 5:fl=c.stateNode,pl=!1;break a;case 3:case 4:fl=c.stateNode.containerInfo,pl=!0;break a}c=c.return}if(fl===null)throw Error(i(160));hl(o,s,a),fl=null,pl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sl(t,e),t=t.sibling}var xl=null;function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bl(t,e),Cl(e),r&4&&(Kc(3,e,e.return),Gc(3,e),Kc(5,e,e.return));break;case 1:bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),r&64&&il&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=xl;if(bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[rt]||o[Xe]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Yd(o,r,n),o[Xe]=e,lt(o),r=o;break a;case`link`:var s=rp(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Yd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=rp(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Yd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[Xe]=e,lt(o),r=o}e.stateNode=r}else ip(a,e.type,e.stateNode);else e.stateNode=Qf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Qc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?ip(a,e.type,e.stateNode):Qf(a,r,e.memoizedProps))}break;case 27:bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),n!==null&&r&4&&Qc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),e.flags&32){a=e.stateNode;try{Ft(a,``)}catch(t){td(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Qc(e,a,n===null?a:n.memoizedProps)),r&1024&&(ol=!0);break;case 6:if(bl(t,e),Cl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){td(e,e.return,t)}}break;case 3:if(np=null,a=xl,xl=Mf(t.containerInfo),bl(t,e),xl=a,Cl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yp(t.containerInfo)}catch(t){td(e,e.return,t)}ol&&(ol=!1,wl(e));break;case 4:r=xl,xl=Mf(e.stateNode.containerInfo),bl(t,e),Cl(e),xl=r;break;case 12:bl(t,e),Cl(e);break;case 31:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 13:bl(t,e),Cl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lu=J()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=il,d=al;if(il=u||a,al=d||l,bl(t,e),al=d,il=u,Cl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||il||al||El(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){td(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){td(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?gf(m,!0):gf(l.stateNode,!1)}catch(e){td(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,yl(e,n))));break;case 19:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 30:break;case 21:break;default:bl(t,e),Cl(e)}}function Cl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if($c(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode,o=el(e);nl(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Ft(s,``),n.flags&=-33);var c=el(e);nl(e,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=el(e);tl(e,u,l);break;default:throw Error(i(161))}}catch(t){td(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ul(e,t.alternate,t),t=t.sibling}function El(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kc(4,t,t.return),El(t);break;case 1:Xc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Jc(t,t.return,n),El(t);break;case 27:kf(t.stateNode);case 26:case 5:Xc(t,t.return),El(t);break;case 22:t.memoizedState===null&&El(t);break;case 30:El(t);break;default:El(t)}e=e.sibling}}function Dl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Dl(i,a,n),Gc(4,a);break;case 1:if(Dl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){td(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)qa(c[i],s)}catch(e){td(r,r.return,e)}}n&&o&64&&qc(a),Yc(a,a.return);break;case 27:rl(a);case 26:case 5:Dl(i,a,n),n&&r===null&&o&4&&Zc(a),Yc(a,a.return);break;case 12:Dl(i,a,n);break;case 31:Dl(i,a,n),n&&o&4&&gl(i,a);break;case 13:Dl(i,a,n),n&&o&4&&_l(i,a);break;case 22:a.memoizedState===null&&Dl(i,a,n),Yc(a,a.return);break;case 30:break;default:Dl(i,a,n)}t=t.sibling}}function Ol(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oa(n))}function kl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e))}function Al(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jl(e,t,n,r),t=t.sibling}function jl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Al(e,t,n,r),i&2048&&Gc(9,t);break;case 1:Al(e,t,n,r);break;case 3:Al(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e)));break;case 12:if(i&2048){Al(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){td(t,t.return,e)}}else Al(e,t,n,r);break;case 31:Al(e,t,n,r);break;case 13:Al(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Al(e,t,n,r):(a._visibility|=2,Ml(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Al(e,t,n,r):Nl(e,t),i&2048&&Ol(o,t);break;case 24:Al(e,t,n,r),i&2048&&kl(t.alternate,t);break;default:Al(e,t,n,r)}}function Ml(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Ml(a,o,s,c,i),Gc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Ml(a,o,s,c,i)):u._visibility&2?Ml(a,o,s,c,i):Nl(a,o),i&&l&2048&&Ol(o.alternate,o);break;case 24:Ml(a,o,s,c,i),i&&l&2048&&kl(o.alternate,o);break;default:Ml(a,o,s,c,i)}t=t.sibling}}function Nl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Nl(n,r),i&2048&&Ol(r.alternate,r);break;case 24:Nl(n,r),i&2048&&kl(r.alternate,r);break;default:Nl(n,r)}t=t.sibling}}var Pl=8192;function Fl(e,t,n){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)Il(e,t,n),e=e.sibling}function Il(e,t,n){switch(e.tag){case 26:Fl(e,t,n),e.flags&Pl&&e.memoizedState!==null&&sp(n,xl,e.memoizedState,e.memoizedProps);break;case 5:Fl(e,t,n);break;case 3:case 4:var r=xl;xl=Mf(e.stateNode.containerInfo),Fl(e,t,n),xl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,Fl(e,t,n),Pl=r):Fl(e,t,n));break;default:Fl(e,t,n)}}function Ll(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Vl(r,e)}Ll(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zl(e),e=e.sibling}function zl(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&Kc(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):Rl(e);break;default:Rl(e)}}function Bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Vl(r,e)}Ll(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kc(8,t,t.return),Bl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function Vl(e,t){for(;cl!==null;){var n=cl;switch(n.tag){case 0:case 11:case 15:Kc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,cl=r;else a:for(n=e;cl!==null;){r=cl;var i=r.sibling,a=r.return;if(dl(r),r===n){cl=null;break a}if(i!==null){i.return=a,cl=i;break a}cl=a}}}var Hl={getCacheForType:function(e){var t=Qi(ia),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qi(ia).controller.signal}},Ul=typeof WeakMap==`function`?WeakMap:Map,Wl=0,Gl=null,Kl=null,ql=0,Jl=0,Yl=null,Xl=!1,Zl=!1,Ql=!1,$l=0,eu=0,tu=0,nu=0,ru=0,iu=0,au=0,ou=null,su=null,cu=!1,lu=0,uu=0,du=1/0,fu=null,pu=null,mu=0,hu=null,gu=null,_u=0,vu=0,yu=null,bu=null,xu=0,Su=null;function Cu(){return Wl&2&&ql!==0?ql&-ql:I.T===null?qe():Sd()}function wu(){if(iu===0)if(!(ql&536870912)||ji){var e=Me;Me<<=1,!(Me&3932160)&&(Me=262144),iu=e}else iu=536870912;return e=eo.current,e!==null&&(e.flags|=32),iu}function Tu(e,t,n){(e===Gl&&(Jl===2||Jl===9)||e.cancelPendingCommit!==null)&&(Mu(e,0),ku(e,ql,iu,!1)),Be(e,n),(!(Wl&2)||e!==Gl)&&(e===Gl&&(!(Wl&2)&&(nu|=n),eu===4&&ku(e,ql,iu,!1)),md(e))}function Eu(e,t,n){if(Wl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Ie(e,t),a=r?Bu(e,t):Ru(e,t,!0),o=r;do{if(a===0){Zl&&!r&&ku(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Ou(n)){a=Ru(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=ou;var l=c.current.memoizedState.isDehydrated;if(l&&(Mu(c,s).flags|=256),s=Ru(c,s,!1),s!==2){if(Ql&&!l){c.errorRecoveryDisabledLanes|=o,nu|=o,a=4;break a}o=su,su=a,o!==null&&(su===null?su=o:su.push.apply(su,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Mu(e,0),ku(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ku(r,t,iu,!Xl);break a;case 2:su=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=lu+300-J(),10<a)){if(ku(r,t,iu,!Xl),Fe(r,0,!0)!==0)break a;_u=t,r.timeoutHandle=lf(Du.bind(null,r,n,su,fu,cu,t,iu,nu,au,Xl,o,`Throttled`,-0,0),a);break a}Du(r,n,su,fu,cu,t,iu,nu,au,Xl,o,null,-0,0)}}break}while(1);md(e)}function Du(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut},Il(t,a,d);var m=(a&62914560)===a?lu-J():(a&4194048)===a?uu-J():0;if(m=lp(d,m),m!==null){_u=a,e.cancelPendingCommit=m(qu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),ku(e,a,o,!l);return}}qu(e,t,a,n,r,i,o,s,c)}function Ou(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Sr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ku(e,t,n,r){t&=~ru,t&=~nu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-De(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&He(e,n,t)}function Au(){return Wl&6?!0:(hd(0,!1),!1)}function ju(){if(Kl!==null){if(Jl===0)var e=Kl.return;else e=Kl,Wi=Ui=null,ko(e),ka=null,Aa=0,e=Kl;for(;e!==null;)Wc(e.alternate,e),e=e.return;Kl=null}}function Mu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,uf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_u=0,ju(),Gl=e,Kl=n=oi(e.current,null),ql=t,Jl=0,Yl=null,Xl=!1,Zl=Ie(e,t),Ql=!1,au=iu=ru=nu=tu=eu=0,su=ou=null,cu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-De(r),a=1<<i;t|=e[i],r&=~a}return $l=t,Z(),n}function Nu(e,t){uo=null,I.H=Vs,t===ya||t===xa?(t=Da(),Jl=3):t===ba?(t=Da(),Jl=4):Jl=t===ac?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Yl=t,Kl===null&&(eu=1,$s(e,mi(t,e.current)))}function Pu(){var e=eo.current;return e===null?!0:(ql&4194048)===ql?to===null:(ql&62914560)===ql||ql&536870912?e===to:!1}function Fu(){var e=I.H;return I.H=Vs,e===null?Vs:e}function Iu(){var e=I.A;return I.A=Hl,e}function Lu(){eu=4,Xl||(ql&4194048)!==ql&&eo.current!==null||(Zl=!0),!(tu&134217727)&&!(nu&134217727)||Gl===null||ku(Gl,ql,iu,!1)}function Ru(e,t,n){var r=Wl;Wl|=2;var i=Fu(),a=Iu();(Gl!==e||ql!==t)&&(fu=null,Mu(e,t)),t=!1;var o=eu;a:do try{if(Jl!==0&&Kl!==null){var s=Kl,c=Yl;switch(Jl){case 8:ju(),o=6;break a;case 3:case 2:case 9:case 6:eo.current===null&&(t=!0);var l=Jl;if(Jl=0,Yl=null,Wu(e,s,c,l),n&&Zl){o=0;break a}break;default:l=Jl,Jl=0,Yl=null,Wu(e,s,c,l)}}zu(),o=eu;break}catch(t){Nu(e,t)}while(1);return t&&e.shellSuspendCounter++,Wi=Ui=null,Wl=r,I.H=i,I.A=a,Kl===null&&(Gl=null,ql=0,Z()),o}function zu(){for(;Kl!==null;)Hu(Kl)}function Bu(e,t){var n=Wl;Wl|=2;var r=Fu(),a=Iu();Gl!==e||ql!==t?(fu=null,du=J()+500,Mu(e,t)):Zl=Ie(e,t);a:do try{if(Jl!==0&&Kl!==null){t=Kl;var o=Yl;b:switch(Jl){case 1:Jl=0,Yl=null,Wu(e,t,o,1);break;case 2:case 9:if(Ca(o)){Jl=0,Yl=null,Uu(t);break}t=function(){Jl!==2&&Jl!==9||Gl!==e||(Jl=7),md(e)},o.then(t,t);break a;case 3:Jl=7;break a;case 4:Jl=5;break a;case 7:Ca(o)?(Jl=0,Yl=null,Uu(t)):(Jl=0,Yl=null,Wu(e,t,o,7));break;case 5:var s=null;switch(Kl.tag){case 26:s=Kl.memoizedState;case 5:case 27:var c=Kl;if(s?op(s):c.stateNode.complete){Jl=0,Yl=null;var l=c.sibling;if(l!==null)Kl=l;else{var u=c.return;u===null?Kl=null:(Kl=u,Gu(u))}break b}}Jl=0,Yl=null,Wu(e,t,o,5);break;case 6:Jl=0,Yl=null,Wu(e,t,o,6);break;case 8:ju(),eu=6;break a;default:throw Error(i(462))}}Vu();break}catch(t){Nu(e,t)}while(1);return Wi=Ui=null,I.H=r,I.A=a,Wl=n,Kl===null?(Gl=null,ql=0,Z(),eu):0}function Vu(){for(;Kl!==null&&!me();)Hu(Kl)}function Hu(e){var t=Fc(e.alternate,e,$l);e.memoizedProps=e.pendingProps,t===null?Gu(e):Kl=t}function Uu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=yc(n,t,t.pendingProps,t.type,void 0,ql);break;case 11:t=yc(n,t,t.pendingProps,t.type.render,t.ref,ql);break;case 5:ko(t);default:Wc(n,t),t=Kl=si(t,$l),t=Fc(n,t,$l)}e.memoizedProps=e.pendingProps,t===null?Gu(e):Kl=t}function Wu(e,t,n,r){Wi=Ui=null,ko(t),ka=null,Aa=0;var i=t.return;try{if(ic(e,i,t,n,ql)){eu=1,$s(e,mi(n,e.current)),Kl=null;return}}catch(t){if(i!==null)throw Kl=i,t;eu=1,$s(e,mi(n,e.current)),Kl=null;return}t.flags&32768?(ji||r===1?e=!0:Zl||ql&536870912?e=!1:(Xl=e=!0,(r===2||r===9||r===3||r===6)&&(r=eo.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ku(t,e)):Gu(t)}function Gu(e){var t=e;do{if(t.flags&32768){Ku(t,Xl);return}e=t.return;var n=Hc(t.alternate,t,$l);if(n!==null){Kl=n;return}if(t=t.sibling,t!==null){Kl=t;return}Kl=t=e}while(t!==null);eu===0&&(eu=5)}function Ku(e,t){do{var n=Uc(e.alternate,e);if(n!==null){n.flags&=32767,Kl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Kl=e;return}Kl=e=n}while(e!==null);eu=6,Kl=null}function qu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Qu();while(mu!==0);if(Wl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Qr,Ve(e,n,o,s,c,l),e===Gl&&(Kl=Gl=null,ql=0),gu=t,hu=e,_u=n,vu=o,yu=a,bu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,sd(ye,function(){return $u(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=I.T,I.T=null,a=L.p,L.p=2,s=Wl,Wl|=4;try{ll(e,t,n)}finally{Wl=s,L.p=a,I.T=r}}mu=1,Ju(),Yu(),Xu()}}function Ju(){if(mu===1){mu=0;var e=hu,t=gu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Wl;Wl|=4;try{Sl(t,e);var a=ef,o=Dr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Er(s.ownerDocument.documentElement,s)){if(c!==null&&Or(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Tr(s,h),v=Tr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Cp=!!$d,ef=$d=null}finally{Wl=i,L.p=r,I.T=n}}e.current=t,mu=2}}function Yu(){if(mu===2){mu=0;var e=hu,t=gu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Wl;Wl|=4;try{ul(e,t.alternate,t)}finally{Wl=i,L.p=r,I.T=n}}mu=3}}function Xu(){if(mu===4||mu===3){mu=0,he();var e=hu,t=gu,n=_u,r=bu;t.subtreeFlags&10256||t.flags&10256?mu=5:(mu=0,gu=hu=null,Zu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(pu=null),Ke(n),t=t.stateNode,Te&&typeof Te.onCommitFiberRoot==`function`)try{Te.onCommitFiberRoot(we,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=I.T,i=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=i}}_u&3&&Qu(),md(e),i=e.pendingLanes,n&261930&&i&42?e===Su?xu++:(xu=0,Su=e):xu=0,hd(0,!1)}}function Zu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oa(t)))}function Qu(){return Ju(),Yu(),Xu(),$u()}function $u(){if(mu!==5)return!1;var e=hu,t=vu;vu=0;var n=Ke(_u),r=I.T,a=L.p;try{L.p=32>n?32:n,I.T=null,n=yu,yu=null;var o=hu,s=_u;if(mu=0,gu=hu=null,_u=0,Wl&6)throw Error(i(331));var c=Wl;if(Wl|=4,zl(o.current),jl(o,o.current,s,n),Wl=c,hd(0,!1),Te&&typeof Te.onPostCommitFiberRoot==`function`)try{Te.onPostCommitFiberRoot(we,o)}catch{}return!0}finally{L.p=a,I.T=r,Zu(e,t)}}function ed(e,t,n){t=mi(n,t),t=tc(e.stateNode,t,2),e=Va(e,t,2),e!==null&&(Be(e,2),md(e))}function td(e,t,n){if(e.tag===3)ed(e,e,n);else for(;t!==null;){if(t.tag===3){ed(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(pu===null||!pu.has(r))){e=mi(n,e),n=nc(2),r=Va(t,n,2),r!==null&&(rc(n,r,t,e),Be(r,2),md(r));break}}t=t.return}}function nd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ul;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Ql=!0,i.add(n),e=rd.bind(null,e,t,n),t.then(e,e))}function rd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Gl===e&&(ql&n)===n&&(eu===4||eu===3&&(ql&62914560)===ql&&300>J()-lu?!(Wl&2)&&Mu(e,0):ru|=n,au===ql&&(au=0)),md(e)}function id(e,t){t===0&&(t=Re()),e=ei(e,t),e!==null&&(Be(e,t),md(e))}function ad(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),id(e,n)}function od(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),id(e,n)}function sd(e,t){return fe(e,t)}var cd=null,ld=null,ud=!1,dd=!1,fd=!1,pd=0;function md(e){e!==ld&&e.next===null&&(ld===null?cd=ld=e:ld=ld.next=e),dd=!0,ud||(ud=!0,xd())}function hd(e,t){if(!fd&&dd){fd=!0;do for(var n=!1,r=cd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-De(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,bd(r,a))}else a=ql,a=Fe(r,r===Gl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ie(r,a)||(n=!0,bd(r,a));r=r.next}while(n);fd=!1}}function gd(){_d()}function _d(){dd=ud=!1;var e=0;pd!==0&&cf()&&(e=pd);for(var t=J(),n=null,r=cd;r!==null;){var i=r.next,a=vd(r,t);a===0?(r.next=null,n===null?cd=i:n.next=i,i===null&&(ld=n)):(n=r,(e!==0||a&3)&&(dd=!0)),r=i}mu!==0&&mu!==5||hd(e,!1),pd!==0&&(pd=0)}function vd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-De(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Le(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Gl,n=ql,n=Fe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Jl===2||Jl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&pe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ie(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&pe(r),Ke(n)){case 2:case 8:n=ve;break;case 32:n=ye;break;case 268435456:n=xe;break;default:n=ye}return r=yd.bind(null,e),n=fe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&pe(r),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){if(mu!==0&&mu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qu()&&e.callbackNode!==n)return null;var r=ql;return r=Fe(e,e===Gl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Eu(e,r,t),vd(e,J()),e.callbackNode!=null&&e.callbackNode===n?yd.bind(null,e):null)}function bd(e,t){if(Qu())return null;Eu(e,t,!0)}function xd(){ff(function(){Wl&6?fe(_e,gd):_d()})}function Sd(){if(pd===0){var e=la;e===0&&(e=je,je<<=1,!(je&261888)&&(je=256)),pd=e}return pd}function Cd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Ht(``+e)}function wd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Td(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=Cd((i[Ze]||null).action),o=r.submitter;o&&(t=(t=o[Ze]||null)?Cd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new dn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(pd!==0){var e=o?wd(i,o):new FormData(i);Ds(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?wd(i,o):new FormData(i),Ds(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var Ed=0;Ed<Jr.length;Ed++){var Dd=Jr[Ed],Od=Dd.toLowerCase(),kd=Dd[0].toUpperCase()+Dd.slice(1);X(Od,`on`+kd)}X(Br,`onAnimationEnd`),X(Vr,`onAnimationIteration`),X(Hr,`onAnimationStart`),X(`dblclick`,`onDoubleClick`),X(`focusin`,`onFocus`),X(`focusout`,`onBlur`),X(Ur,`onTransitionRun`),X(Wr,`onTransitionStart`),X(Gr,`onTransitionCancel`),X(Kr,`onTransitionEnd`),pt(`onMouseEnter`,[`mouseout`,`mouseover`]),pt(`onMouseLeave`,[`mouseout`,`mouseover`]),pt(`onPointerEnter`,[`pointerout`,`pointerover`]),pt(`onPointerLeave`,[`pointerout`,`pointerover`]),ft(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),ft(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),ft(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),ft(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),ft(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),ft(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Ad=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),jd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Ad));function Md(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Yr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Yr(e)}i.currentTarget=null,a=c}}}}function Nd(e,t){var n=t[$e];n===void 0&&(n=t[$e]=new Set);var r=e+`__bubble`;n.has(r)||(Ld(t,e,2,!1),n.add(r))}function Pd(e,t,n){var r=0;t&&(r|=4),Ld(n,e,r,t)}var Fd=`_reactListening`+Math.random().toString(36).slice(2);function Id(e){if(!e[Fd]){e[Fd]=!0,ut.forEach(function(t){t!==`selectionchange`&&(jd.has(t)||Pd(t,!1,e),Pd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fd]||(t[Fd]=!0,Pd(`selectionchange`,!1,t))}}function Ld(e,t,n,r){switch(Ap(t)){case 2:var i=wp;break;case 8:i=Tp;break;default:i=Ep}n=i.bind(null,t,n,e),i=void 0,!$t||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Rd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=at(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}Xt(function(){var r=a,i=Gt(n),s=[];a:{var c=qr.get(e);if(c!==void 0){var l=dn,u=e;switch(e){case`keypress`:if(on(n)===0)break a;case`keydown`:case`keyup`:l=Pn;break;case`focusin`:u=`focus`,l=xn;break;case`focusout`:u=`blur`,l=xn;break;case`beforeblur`:case`afterblur`:l=xn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=vn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Y;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Rn;break;case Br:case Vr:case Hr:l=Cn;break;case Kr:l=Bn;break;case`scroll`:case`scrollend`:l=pn;break;case`wheel`:l=Hn;break;case`copy`:case`cut`:case`paste`:l=Tn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=In;break;case`toggle`:case`beforetoggle`:l=Wn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=Zt(m,p),g!=null&&d.push(zd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Wt&&(u=n.relatedTarget||n.fromElement)&&(at(u)||u[Qe]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?at(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=vn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=In,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:st(l),h=u==null?c:st(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,at(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Vd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Hd(s,c,l,d,!1),u!==null&&f!==null&&Hd(s,f,u,d,!0)}}a:{if(c=r?st(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=ur;else if(ir(c))if(dr)v=br;else{v=vr;var y=_r}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&zt(r.elementType)&&(v=ur):v=yr;if(v&&=v(e,r)){ar(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&jt(c,`number`,c.value)}switch(y=r?st(r):window,e){case`focusin`:(ir(y)||y.contentEditable===`true`)&&(Ar=y,jr=r,Mr=null);break;case`focusout`:Mr=jr=Ar=null;break;case`mousedown`:Nr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Nr=!1,Pr(s,n,i);break;case`selectionchange`:if(kr)break;case`keydown`:case`keyup`:Pr(s,n,i)}var b;if(Kn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else er?Qn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Yn&&n.locale!==`ko`&&(er||x!==`onCompositionStart`?x===`onCompositionEnd`&&er&&(b=an()):(tn=i,nn=`value`in tn?tn.value:tn.textContent,er=!0)),y=Bd(r,x),0<y.length&&(x=new Dn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=$n(n),b!==null&&(x.data=b)))),(b=Jn?tr(e,n):nr(e,n))&&(x=Bd(r,`onBeforeInput`),0<x.length&&(y=new Dn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Td(s,e,r,n,i)}Md(s,t)})}function zd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Zt(e,n),i!=null&&r.unshift(zd(e,i,a)),i=Zt(e,t),i!=null&&r.push(zd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Vd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=Zt(n,a),l!=null&&o.unshift(zd(n,l,c))):i||(l=Zt(n,a),l!=null&&o.push(zd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ud=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Gd(e){return(typeof e==`string`?e:``+e).replace(Ud,`
`).replace(Wd,``)}function Kd(e,t){return t=Gd(t),Gd(e)===t}function qd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Ft(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Ft(e,``+r);break;case`className`:yt(e,`class`,r);break;case`tabIndex`:yt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:yt(e,n,r);break;case`style`:Rt(e,r,o);break;case`data`:if(t!==`object`){yt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Ht(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&qd(e,t,`name`,a.name,a,null),qd(e,t,`formEncType`,a.formEncType,a,null),qd(e,t,`formMethod`,a.formMethod,a,null),qd(e,t,`formTarget`,a.formTarget,a,null)):(qd(e,t,`encType`,a.encType,a,null),qd(e,t,`method`,a.method,a,null),qd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Ht(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Ut);break;case`onScroll`:r!=null&&Nd(`scroll`,e);break;case`onScrollEnd`:r!=null&&Nd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Ht(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Nd(`beforetoggle`,e),Nd(`toggle`,e),vt(e,`popover`,r);break;case`xlinkActuate`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:vt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Bt.get(n)||n,vt(e,n,r))}}function Jd(e,t,n,r,a,o){switch(n){case`style`:Rt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Ft(e,r):(typeof r==`number`||typeof r==`bigint`)&&Ft(e,``+r);break;case`onScroll`:r!=null&&Nd(`scroll`,e);break;case`onScrollEnd`:r!=null&&Nd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Ut);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[Ze]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):vt(e,n,r)}}}function Yd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Nd(`error`,e),Nd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:qd(e,t,o,s,n,null)}}a&&qd(e,t,`srcSet`,n.srcSet,n,null),r&&qd(e,t,`src`,n.src,n,null);return;case`input`:Nd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:qd(e,t,r,d,n,null)}}At(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Nd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:qd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Mt(e,!!r,n,!0):Mt(e,!!r,t,!1);return;case`textarea`:for(s in Nd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:qd(e,t,s,c,n,null)}Pt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:qd(e,t,l,r,n,null)}return;case`dialog`:Nd(`beforetoggle`,e),Nd(`toggle`,e),Nd(`cancel`,e),Nd(`close`,e);break;case`iframe`:case`object`:Nd(`load`,e);break;case`video`:case`audio`:for(r=0;r<Ad.length;r++)Nd(Ad[r],e);break;case`image`:Nd(`error`,e),Nd(`load`,e);break;case`details`:Nd(`toggle`,e);break;case`embed`:case`source`:case`link`:Nd(`error`,e),Nd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:qd(e,t,u,r,n,null)}return;default:if(zt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Jd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&qd(e,t,c,r,n,null))}function Xd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||qd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&qd(e,t,p,m,r,f)}}kt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||qd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&qd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Mt(e,!!n,n?[]:``,!1):Mt(e,!!n,t,!0)):Mt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:qd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&qd(e,t,s,a,r,o)}Nt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:qd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:qd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&qd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:qd(e,t,u,p,r,m)}return;default:if(zt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Jd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Jd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&qd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||qd(e,t,f,p,r,m)}function Zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Qd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var $d=null,ef=null;function tf(e){return e.nodeType===9?e:e.ownerDocument}function nf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function rf(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function af(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sf=null;function cf(){var e=window.event;return e&&e.type===`popstate`?e===sf?!1:(sf=e,!0):(sf=null,!1)}var lf=typeof setTimeout==`function`?setTimeout:void 0,uf=typeof clearTimeout==`function`?clearTimeout:void 0,df=typeof Promise==`function`?Promise:void 0,ff=typeof queueMicrotask==`function`?queueMicrotask:df===void 0?lf:function(e){return df.resolve(null).then(e).catch(pf)};function pf(e){setTimeout(function(){throw e})}function mf(e){return e===`head`}function hf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Yp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)kf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,kf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[rt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&kf(e.ownerDocument.body);n=i}while(n);Yp(t)}function gf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function _f(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:_f(n),it(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function vf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[rt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=wf(e.nextSibling),e===null)break}return null}function yf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=wf(e.nextSibling),e===null))return null;return e}function bf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=wf(e.nextSibling),e===null))return null;return e}function xf(e){return e.data===`$?`||e.data===`$~`}function Sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function Cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function wf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Tf=null;function Ef(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return wf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Of(e,t,n){switch(t=tf(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function kf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);it(e)}var Af=new Map,jf=new Set;function Mf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nf=L.d;L.d={f:Pf,r:Ff,D:Rf,C:zf,L:Bf,m:Vf,X:Uf,S:Hf,M:Wf};function Pf(){var e=Nf.f(),t=Au();return e||t}function Ff(e){var t=ot(e);t!==null&&t.tag===5&&t.type===`form`?ks(t):Nf.r(e)}var If=typeof document>`u`?null:document;function Lf(e,t,n){var r=If;if(r&&typeof t==`string`&&t){var i=Ot(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),jf.has(i)||(jf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Yd(t,`link`,e),lt(t),r.head.appendChild(t)))}}function Rf(e){Nf.D(e),Lf(`dns-prefetch`,e,null)}function zf(e,t){Nf.C(e,t),Lf(`preconnect`,e,t)}function Bf(e,t,n){Nf.L(e,t,n);var r=If;if(r&&e&&t){var i=`link[rel="preload"][as="`+Ot(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Ot(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Ot(n.imageSizes)+`"]`)):i+=`[href="`+Ot(e)+`"]`;var a=i;switch(t){case`style`:a=Kf(e);break;case`script`:a=Xf(e)}Af.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Af.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(qf(a))||t===`script`&&r.querySelector(Zf(a))||(t=r.createElement(`link`),Yd(t,`link`,e),lt(t),r.head.appendChild(t)))}}function Vf(e,t){Nf.m(e,t);var n=If;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Ot(r)+`"][href="`+Ot(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Xf(e)}if(!Af.has(a)&&(e=h({rel:`modulepreload`,href:e},t),Af.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Zf(a)))return}r=n.createElement(`link`),Yd(r,`link`,e),lt(r),n.head.appendChild(r)}}}function Hf(e,t,n){Nf.S(e,t,n);var r=If;if(r&&e){var i=ct(r).hoistableStyles,a=Kf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(qf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Af.get(a))&&ep(e,n);var c=o=r.createElement(`link`);lt(c),Yd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,$f(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Uf(e,t){Nf.X(e,t);var n=If;if(n&&e){var r=ct(n).hoistableScripts,i=Xf(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=h({src:e,async:!0},t),(t=Af.get(i))&&tp(e,t),a=n.createElement(`script`),lt(a),Yd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Wf(e,t){Nf.M(e,t);var n=If;if(n&&e){var r=ct(n).hoistableScripts,i=Xf(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=Af.get(i))&&tp(e,t),a=n.createElement(`script`),lt(a),Yd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Gf(e,t,n,r){var a=(a=G.current)?Mf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Kf(n.href),n=ct(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Kf(n.href);var o=ct(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(qf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Af.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Af.set(e,n),o||Yf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Xf(n),n=ct(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kf(e){return`href="`+Ot(e)+`"`}function qf(e){return`link[rel="stylesheet"][`+e+`]`}function Jf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Yf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Yd(t,`link`,n),lt(t),e.head.appendChild(t))}function Xf(e){return`[src="`+Ot(e)+`"]`}function Zf(e){return`script[async]`+e}function Qf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Ot(n.href)+`"]`);if(r)return t.instance=r,lt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),lt(r),Yd(r,`style`,a),$f(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Kf(n.href);var o=e.querySelector(qf(a));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;r=Jf(n),(a=Af.get(a))&&ep(r,a),o=(e.ownerDocument||e).createElement(`link`),lt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Yd(o,`link`,r),t.state.loading|=4,$f(o,n.precedence,e),t.instance=o;case`script`:return o=Xf(n.src),(a=e.querySelector(Zf(o)))?(t.instance=a,lt(a),a):(r=n,(a=Af.get(o))&&(r=h({},n),tp(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),lt(a),Yd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,$f(r,n.precedence,e));return t.instance}function $f(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ep(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function tp(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var np=null;function rp(e,t,n){if(np===null){var r=new Map,i=np=new Map;i.set(n,r)}else i=np,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[rt]||a[Xe]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function ip(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function ap(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function op(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function sp(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Kf(r.href),a=t.querySelector(qf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=up.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,lt(a);return}a=t.ownerDocument||t,r=Jf(r),(i=Af.get(i))&&ep(r,i),a=a.createElement(`link`),lt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Yd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=up.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var cp=0;function lp(e,t){return e.stylesheets&&e.count===0&&fp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&fp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&cp===0&&(cp=62500*Qd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>cp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dp=null;function fp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dp=new Map,t.forEach(pp,e),dp=null,up.call(e))}function pp(e,t){if(!(t.state.loading&4)){var n=dp.get(e);if(n)var r=n.get(null);else{n=new Map,dp.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=up.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var mp={$$typeof:C,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function hp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function gp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new hp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ii(3,null,null,t),e.current=a,a.stateNode=e,t=aa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ra(a),e}function _p(e){return e?(e=$,e):$}function vp(e,t,n,r,i,a){i=_p(i),r.context===null?r.context=i:r.pendingContext=i,r=Ba(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Va(e,r,t),n!==null&&(Tu(n,e,t),Ha(n,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bp(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function xp(e){if(e.tag===13||e.tag===31){var t=ei(e,67108864);t!==null&&Tu(t,e,67108864),bp(e,67108864)}}function Sp(e){if(e.tag===13||e.tag===31){var t=Cu();t=Ge(t);var n=ei(e,t);n!==null&&Tu(n,e,t),bp(e,t)}}var Cp=!0;function wp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=2,Ep(e,t,n,r)}finally{L.p=a,I.T=i}}function Tp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=8,Ep(e,t,n,r)}finally{L.p=a,I.T=i}}function Ep(e,t,n,r){if(Cp){var i=Dp(r);if(i===null)Rd(e,t,r,Op,n),zp(e,r);else if(Vp(i,e,t,n,r))r.stopPropagation();else if(zp(e,r),t&4&&-1<Rp.indexOf(e)){for(;i!==null;){var a=ot(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Pe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-De(o);s.entanglements[1]|=c,o&=~c}md(a),!(Wl&6)&&(du=J()+500,hd(0,!1))}}break;case 31:case 13:s=ei(a,2),s!==null&&Tu(s,a,2),Au(),bp(a,2)}if(a=Dp(r),a===null&&Rd(e,t,r,Op,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Rd(e,t,r,null,n)}}function Dp(e){return e=Gt(e),kp(e)}var Op=null;function kp(e){if(Op=null,e=at(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Op=e,null}function Ap(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ge()){case _e:return 2;case ve:return 8;case ye:case be:return 32;case xe:return 268435456;default:return 32}default:return 32}}var jp=!1,Mp=null,Np=null,Pp=null,Fp=new Map,Ip=new Map,Lp=[],Rp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function zp(e,t){switch(e){case`focusin`:case`focusout`:Mp=null;break;case`dragenter`:case`dragleave`:Np=null;break;case`mouseover`:case`mouseout`:Pp=null;break;case`pointerover`:case`pointerout`:Fp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Ip.delete(t.pointerId)}}function Bp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ot(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vp(e,t,n,r,i){switch(t){case`focusin`:return Mp=Bp(Mp,e,t,n,r,i),!0;case`dragenter`:return Np=Bp(Np,e,t,n,r,i),!0;case`mouseover`:return Pp=Bp(Pp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Fp.set(a,Bp(Fp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Ip.set(a,Bp(Ip.get(a)||null,e,t,n,r,i)),!0}return!1}function Hp(e){var t=at(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,Je(e.priority,function(){Sp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,Je(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wt=r,n.target.dispatchEvent(r),Wt=null}else return t=ot(n),t!==null&&xp(t),e.blockedOn=n,!1;t.shift()}return!0}function Wp(e,t,n){Up(e)&&n.delete(t)}function Gp(){jp=!1,Mp!==null&&Up(Mp)&&(Mp=null),Np!==null&&Up(Np)&&(Np=null),Pp!==null&&Up(Pp)&&(Pp=null),Fp.forEach(Wp),Ip.forEach(Wp)}function Kp(e,n){e.blockedOn===n&&(e.blockedOn=null,jp||(jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gp)))}var qp=null;function Jp(e){qp!==e&&(qp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===e&&(qp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(kp(r||n)===null)continue;break}var a=ot(n);a!==null&&(e.splice(t,3),t-=3,Ds(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Yp(e){function t(t){return Kp(t,e)}Mp!==null&&Kp(Mp,e),Np!==null&&Kp(Np,e),Pp!==null&&Kp(Pp,e),Fp.forEach(t),Ip.forEach(t);for(var n=0;n<Lp.length;n++){var r=Lp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lp.length&&(n=Lp[0],n.blockedOn===null);)Hp(n),n.blockedOn===null&&Lp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ze]||null;if(typeof a==`function`)o||Jp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[Ze]||null)s=o.formAction;else if(kp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Jp(n)}}}function Xp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Zp(e){this._internalRoot=e}Qp.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Cu();vp(n,r,e,t,null,null)},Qp.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vp(e.current,2,null,e,null,null),Au(),t[Qe]=null}};function Qp(e){this._internalRoot=e}Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lp.length&&t!==0&&t<Lp[n].priority;n++);Lp.splice(n,0,e),n===0&&Hp(e)}};var $p=n.version;if($p!==`19.2.0`)throw Error(i(527,$p,`19.2.0`));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var em={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:I,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{we=tm.inject(em),Te=tm}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Xs,s=Zs,c=Qs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=gp(e,1,!1,null,null,n,r,null,o,s,c,Xp),e[Qe]=t.current,Id(e),new Zp(t)}})),g=c(o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))()),_=c(u(),1),v=`modulepreload`,y=function(e){return`/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var S=`popstate`;function C(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return O(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:k(t)}return j(t,n,null,e)}function w(e,t){if(e===!1||e==null)throw Error(t)}function T(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function E(){return Math.random().toString(36).substring(2,10)}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?A(t):t,state:n,key:t&&t.key||r||E()}}function k({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function A(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=O(h.location,e,t);n&&n(r,e),l=u()+1;let d=D(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=O(h.location,e,t);n&&n(r,e),l=u();let i=D(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return M(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(S,d),c=e,()=>{i.removeEventListener(S,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function M(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),w(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:k(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function N(e,t,n=`/`){return P(e,t,n,!1)}function P(e,t,n,r){let i=typeof t==`string`?A(t):t,a=ae(i.pathname||`/`,n);if(a==null)return null;let o=I(e);R(o);let s=null;for(let e=0;s==null&&e<o.length;++e){let t=ie(a);s=te(o[e],t,r)}return s}function F(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function I(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;w(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=de([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(w(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),I(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:G(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of L(e.path))a(e,t,!0,n)}),t}function L(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=L(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function R(e){e.sort((e,t)=>e.score===t.score?K(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var z=/^:[\w-]+$/,ee=3,B=2,V=1,H=10,U=-2,W=e=>e===`*`;function G(e,t){let n=e.split(`/`),r=n.length;return n.some(W)&&(r+=U),t&&(r+=B),n.filter(e=>!W(e)).reduce((e,t)=>e+(z.test(t)?ee:t===``?V:H),r)}function K(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function te(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=ne({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=ne({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:de([a,u.pathname]),pathnameBase:fe(de([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=de([a,u.pathnameBase]))}return o}function ne(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=re(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function re(e,t=!1,n=!0){T(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ie(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return T(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ae(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}function oe(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?A(e):e;return{pathname:n?n.startsWith(`/`)?n:q(n,t):t,search:pe(r),hash:me(i)}}function q(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function se(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ce(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function le(e){let t=ce(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ue(e,t,n,r=!1){let i;typeof e==`string`?i=A(e):(i={...e},w(!i.pathname||!i.pathname.includes(`?`),se(`?`,`pathname`,`search`,i)),w(!i.pathname||!i.pathname.includes(`#`),se(`#`,`pathname`,`hash`,i)),w(!i.search||!i.search.includes(`#`),se(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=oe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var de=e=>e.join(`/`).replace(/\/\/+/g,`/`),fe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),pe=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,me=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function he(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var J=_.createContext(null);J.displayName=`DataRouter`;var ge=_.createContext(null);ge.displayName=`DataRouterState`,_.createContext(!1);var _e=_.createContext({isTransitioning:!1});_e.displayName=`ViewTransition`;var ve=_.createContext(new Map);ve.displayName=`Fetchers`;var ye=_.createContext(null);ye.displayName=`Await`;var be=_.createContext(null);be.displayName=`Navigation`;var xe=_.createContext(null);xe.displayName=`Location`;var Se=_.createContext({outlet:null,matches:[],isDataRoute:!1});Se.displayName=`Route`;var Ce=_.createContext(null);Ce.displayName=`RouteError`;function we(e,{relative:t}={}){w(Te(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=_.useContext(be),{hash:i,pathname:a,search:o}=Pe(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:de([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Te(){return _.useContext(xe)!=null}function Ee(){return w(Te(),`useLocation() may be used only in the context of a <Router> component.`),_.useContext(xe).location}var De=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Oe(e){_.useContext(be).static||_.useLayoutEffect(e)}function ke(){let{isDataRoute:e}=_.useContext(Se);return e?Ze():Ae()}function Ae(){w(Te(),`useNavigate() may be used only in the context of a <Router> component.`);let e=_.useContext(J),{basename:t,navigator:n}=_.useContext(be),{matches:r}=_.useContext(Se),{pathname:i}=Ee(),a=JSON.stringify(le(r)),o=_.useRef(!1);return Oe(()=>{o.current=!0}),_.useCallback((r,s={})=>{if(T(o.current,De),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=ue(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:de([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var je=_.createContext(null);function Me(e){let t=_.useContext(Se).outlet;return _.useMemo(()=>t&&_.createElement(je.Provider,{value:e},t),[t,e])}function Ne(){let{matches:e}=_.useContext(Se),t=e[e.length-1];return t?t.params:{}}function Pe(e,{relative:t}={}){let{matches:n}=_.useContext(Se),{pathname:r}=Ee(),i=JSON.stringify(le(n));return _.useMemo(()=>ue(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function Fe(e,t){return Ie(e,t)}function Ie(e,t,n,r,i){w(Te(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=_.useContext(be),{matches:o}=_.useContext(Se),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;$e(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Ee(),p;if(t){let e=typeof t==`string`?A(t):t;w(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=N(e,{pathname:h});T(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),T(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Ve(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:de([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:de([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&v?_.createElement(xe.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},v):v}function Le(){let e=Xe(),t=he(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=_.createElement(_.Fragment,null,_.createElement(`p`,null,` Hey developer `),_.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,_.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,_.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),_.createElement(_.Fragment,null,_.createElement(`h2`,null,`Unexpected Application Error!`),_.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?_.createElement(`pre`,{style:i},n):null,o)}var Re=_.createElement(Le,null),ze=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){return this.state.error===void 0?this.props.children:_.createElement(Se.Provider,{value:this.props.routeContext},_.createElement(Ce.Provider,{value:this.state.error,children:this.props.component}))}};function Be({routeContext:e,match:t,children:n}){let r=_.useContext(J);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Se.Provider,{value:e},n)}function Ve(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);w(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,i,l)=>{let u,d=!1,f=null,p=null;n&&(u=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||Re,s&&(c<0&&l===0?($e(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===l&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,l+1)),h=()=>{let t;return t=u?f:d?p:i.route.Component?_.createElement(i.route.Component,null):i.route.element?i.route.element:e,_.createElement(Be,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||l===0)?_.createElement(ze,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):h()},null)}function He(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ue(e){let t=_.useContext(J);return w(t,He(e)),t}function We(e){let t=_.useContext(ge);return w(t,He(e)),t}function Ge(e){let t=_.useContext(Se);return w(t,He(e)),t}function Ke(e){let t=Ge(e),n=t.matches[t.matches.length-1];return w(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qe(){return Ke(`useRouteId`)}function Je(){return We(`useNavigation`).navigation}function Ye(){let{matches:e,loaderData:t}=We(`useMatches`);return _.useMemo(()=>e.map(e=>F(e,t)),[e,t])}function Xe(){let e=_.useContext(Ce),t=We(`useRouteError`),n=Ke(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Ze(){let{router:e}=Ue(`useNavigate`),t=Ke(`useNavigate`),n=_.useRef(!1);return Oe(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{T(n.current,De),n.current&&(typeof r==`number`?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Qe={};function $e(e,t,n){!t&&!Qe[e]&&(Qe[e]=!0,T(!1,n))}_.memo(et);function et({routes:e,future:t,state:n,unstable_onError:r}){return Ie(e,void 0,n,r,t)}function tt({to:e,replace:t,state:n,relative:r}){w(Te(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=_.useContext(be);T(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=_.useContext(Se),{pathname:o}=Ee(),s=ke(),c=ue(e,le(a),o,r===`path`),l=JSON.stringify(c);return _.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function nt(e){return Me(e.context)}function rt(e){w(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function it({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1}){w(!Te(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let o=e.replace(/^\/*/,`/`),s=_.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n==`string`&&(n=A(n));let{pathname:c=`/`,search:l=``,hash:u=``,state:d=null,key:f=`default`}=n,p=_.useMemo(()=>{let e=ae(c,o);return e==null?null:{location:{pathname:e,search:l,hash:u,state:d,key:f},navigationType:r}},[o,c,l,u,d,f,r]);return T(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:_.createElement(be.Provider,{value:s},_.createElement(xe.Provider,{children:t,value:p}))}function at({children:e,location:t}){return Fe(ot(e),t)}function ot(e,t=[]){let n=[];return _.Children.forEach(e,(e,r)=>{if(!_.isValidElement(e))return;let i=[...t,r];if(e.type===_.Fragment){n.push.apply(n,ot(e.props.children,i));return}w(e.type===rt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),w(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ot(e.props.children,i)),n.push(a)}),n}var st=`get`,ct=`application/x-www-form-urlencoded`;function lt(e){return e!=null&&typeof e.tagName==`string`}function ut(e){return lt(e)&&e.tagName.toLowerCase()===`button`}function dt(e){return lt(e)&&e.tagName.toLowerCase()===`form`}function ft(e){return lt(e)&&e.tagName.toLowerCase()===`input`}function pt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mt(e,t){return e.button===0&&(!t||t===`_self`)&&!pt(e)}function ht(e=``){return new URLSearchParams(typeof e==`string`||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}function gt(e,t){let n=ht(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}var _t=null;function vt(){if(_t===null)try{new FormData(document.createElement(`form`),0),_t=!1}catch{_t=!0}return _t}var yt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function bt(e){return e!=null&&!yt.has(e)?(T(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ct}"`),null):e}function xt(e,t){let n,r,i,a,o;if(dt(e)){let o=e.getAttribute(`action`);r=o?ae(o,t):null,n=e.getAttribute(`method`)||st,i=bt(e.getAttribute(`enctype`))||ct,a=new FormData(e)}else if(ut(e)||ft(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ae(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||st,i=bt(e.getAttribute(`formenctype`))||bt(o.getAttribute(`enctype`))||ct,a=new FormData(o,e),!vt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(lt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=st,r=null,i=ct,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function St(e,t){if(e===!1||e==null)throw Error(t)}function Ct(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&ae(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function wt(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tt(e){return e!=null&&typeof e.page==`string`}function Et(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Dt(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await wt(r,n);return e.links?e.links():[]}return[]}));return Mt(r.flat(1).filter(Et).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Ot(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function kt(e,t,{includeHydrateFallback:n}={}){return At(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function At(e){return[...new Set(e)]}function jt(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Mt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Tt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(jt(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Nt(){let e=_.useContext(J);return St(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function Pt(){let e=_.useContext(ge);return St(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var Ft=_.createContext(void 0);Ft.displayName=`FrameworkContext`;function It(){let e=_.useContext(Ft);return St(e,`You must render this element inside a <HydratedRouter> element`),e}function Lt(e,t){let n=_.useContext(Ft),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=_.useRef(null);_.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),_.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:Rt(s,p),onBlur:Rt(c,m),onMouseEnter:Rt(l,p),onMouseLeave:Rt(u,m),onTouchStart:Rt(d,p)}]:[a,f,{}]:[!1,f,{}]}function Rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function zt({page:e,...t}){let{router:n}=Nt(),r=_.useMemo(()=>N(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(Vt,{page:e,matches:r,...t}):null}function Bt(e){let{manifest:t,routeModules:n}=It(),[r,i]=_.useState([]);return _.useEffect(()=>{let r=!1;return Dt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function Vt({page:e,matches:t,...n}){let r=Ee(),{manifest:i,routeModules:a}=It(),{basename:o}=Nt(),{loaderData:s,matches:c}=Pt(),l=_.useMemo(()=>Ot(e,t,c,i,r,`data`),[e,t,c,i,r]),u=_.useMemo(()=>Ot(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=Ct(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=_.useMemo(()=>kt(u,i),[u,i]),p=Bt(u);return _.createElement(_.Fragment,null,d.map(e=>_.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>_.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>_.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function Ht(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var Ut=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{Ut&&(window.__reactRouterVersion=`7.9.5`)}catch{}function Wt({basename:e,children:t,window:n}){let r=_.useRef();r.current??=C({window:n,v5Compat:!0});let i=r.current,[a,o]=_.useState({action:i.action,location:i.location}),s=_.useCallback(e=>{_.startTransition(()=>o(e))},[o]);return _.useLayoutEffect(()=>i.listen(s),[i,s]),_.createElement(it,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}function Gt({basename:e,children:t,history:n}){let[r,i]=_.useState({action:n.action,location:n.location}),a=_.useCallback(e=>{_.startTransition(()=>i(e))},[i]);return _.useLayoutEffect(()=>n.listen(a),[n,a]),_.createElement(it,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}Gt.displayName=`unstable_HistoryRouter`;var Kt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=_.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,...d},f){let{basename:p}=_.useContext(be),m=typeof c==`string`&&Kt.test(c),h,g=!1;if(typeof c==`string`&&m&&(h=c,Ut))try{let e=new URL(window.location.href),t=c.startsWith(`//`)?new URL(e.protocol+c):new URL(c),n=ae(t.pathname,p);t.origin===e.origin&&n!=null?c=n+t.search+t.hash:g=!0}catch{T(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=we(c,{relative:r}),[y,b,x]=Lt(n,d),S=en(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u});function C(t){e&&e(t),t.defaultPrevented||S(t)}let w=_.createElement(`a`,{...d,...x,href:h||v,onClick:g||i?e:C,ref:Ht(f,b),target:s,"data-discover":!m&&t===`render`?`true`:void 0});return y&&!m?_.createElement(_.Fragment,null,w,_.createElement(zt,{page:v})):w});qt.displayName=`Link`;var Jt=_.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=Pe(a,{relative:c.relative}),d=Ee(),f=_.useContext(ge),{navigator:p,basename:m}=_.useContext(be),h=f!=null&&fn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,v=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=ae(y,m)||y);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=v===g||!r&&v.startsWith(g)&&v.charAt(b)===`/`,S=y!=null&&(y===g||!r&&y.startsWith(g)&&y.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return _.createElement(qt,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});Jt.displayName=`NavLink`;var Yt=_.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=st,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...f},p)=>{let m=an(),h=on(s,{relative:l}),g=o.toLowerCase()===`get`?`get`:`post`,v=typeof s==`string`&&Kt.test(s);return _.createElement(`form`,{ref:p,method:g,action:h,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o;m(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d})},...f,"data-discover":!v&&e===`render`?`true`:void 0})});Yt.displayName=`Form`;function Xt({getKey:e,storageKey:t,...n}){let r=_.useContext(Ft),{basename:i}=_.useContext(be),a=Ee(),o=Ye();un({getKey:e,storageKey:t});let s=_.useMemo(()=>{if(!r||!e)return null;let t=ln(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return _.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||sn)}, ${JSON.stringify(s)})`}})}Xt.displayName=`ScrollRestoration`;function Zt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qt(e){let t=_.useContext(J);return w(t,Zt(e)),t}function $t(e){let t=_.useContext(ge);return w(t,Zt(e)),t}function en(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=ke(),c=Ee(),l=Pe(e,{relative:a});return _.useCallback(u=>{if(mt(u,t)){u.preventDefault();let t=n===void 0?k(c)===k(l):n;s(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,s,l,n,r,t,e,i,a,o])}function tn(e){T(typeof URLSearchParams<`u`,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(ht(e)),n=_.useRef(!1),r=Ee(),i=_.useMemo(()=>gt(r.search,n.current?null:t.current),[r.search]),a=ke(),o=_.useCallback((e,t)=>{let r=ht(typeof e==`function`?e(new URLSearchParams(i)):e);n.current=!0,a(`?`+r,t)},[a,i]);return[i,o]}var nn=0,rn=()=>`__${String(++nn)}__`;function an(){let{router:e}=Qt(`useSubmit`),{basename:t}=_.useContext(be),n=qe();return _.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:c,body:l}=xt(r,t);if(i.navigate===!1){let t=i.fetcherKey||rn();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function on(e,{relative:t}={}){let{basename:n}=_.useContext(be),r=_.useContext(Se);w(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...Pe(e||`.`,{relative:t})},o=Ee();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:de([n,a.pathname])),k(a)}var sn=`react-router-scroll-positions`,cn={};function ln(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ae(e.pathname,n)||e.pathname},t)),i??=e.key,i}function un({getKey:e,storageKey:t}={}){let{router:n}=Qt(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=$t(`useScrollRestoration`),{basename:a}=_.useContext(be),o=Ee(),s=Ye(),c=Je();_.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),dn(_.useCallback(()=>{if(c.state===`idle`){let t=ln(o,s,a,e);cn[t]=window.scrollY}try{sessionStorage.setItem(t||sn,JSON.stringify(cn))}catch(e){T(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(_.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||sn);e&&(cn=JSON.parse(e))}catch{}},[t]),_.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(cn,()=>window.scrollY,e?(t,n)=>ln(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),_.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{T(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function dn(e,t){let{capture:n}=t||{};_.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function fn(e,{relative:t}={}){let n=_.useContext(_e);w(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qt(`useViewTransitionState`),i=Pe(e,{relative:t});if(!n.isTransitioning)return!1;let a=ae(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ae(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ne(i.pathname,o)!=null||ne(i.pathname,a)!=null}
/**
* @license lucide-react v0.548.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
var pn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),mn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),hn=e=>{let t=mn(e);return t.charAt(0).toUpperCase()+t.slice(1)},gn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),_n=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},vn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},yn=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...vn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gn(`lucide`,i),...!a&&!_n(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),Y=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(yn,{ref:i,iconNode:t,className:gn(`lucide-${pn(hn(e))}`,`lucide-${e}`,n),...r}));return n.displayName=hn(e),n},bn=Y(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),xn=Y(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Sn=Y(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Cn=Y(`baby`,[[`path`,{d:`M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5`,key:`1u7htd`}],[`path`,{d:`M15 12h.01`,key:`1k8ypt`}],[`path`,{d:`M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1`,key:`11xh7x`}],[`path`,{d:`M9 12h.01`,key:`157uk2`}]]),wn=Y(`ban`,[[`path`,{d:`M4.929 4.929 19.07 19.071`,key:`196cmz`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Tn=Y(`bell`,[[`path`,{d:`M10.268 21a2 2 0 0 0 3.464 0`,key:`vwvbt9`}],[`path`,{d:`M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326`,key:`11g9vi`}]]),En=Y(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),Dn=Y(`briefcase`,[[`path`,{d:`M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16`,key:`jecpp`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`6`,rx:`2`,key:`i6l2r4`}]]),On=Y(`building-2`,[[`path`,{d:`M10 12h4`,key:`a56b0p`}],[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2`,key:`secmi2`}],[`path`,{d:`M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16`,key:`16ra0t`}]]),kn=Y(`building`,[[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M12 6h.01`,key:`1vi96p`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M16 6h.01`,key:`1x0f13`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M8 6h.01`,key:`1dz90k`}],[`path`,{d:`M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3`,key:`cabbwy`}],[`rect`,{x:`4`,y:`2`,width:`16`,height:`20`,rx:`2`,key:`1uxh74`}]]),An=Y(`bus`,[[`path`,{d:`M8 6v6`,key:`18i7km`}],[`path`,{d:`M15 6v6`,key:`1sg6z9`}],[`path`,{d:`M2 12h19.6`,key:`de5uta`}],[`path`,{d:`M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3`,key:`1wwztk`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}],[`path`,{d:`M9 18h5`,key:`lrx6i`}],[`circle`,{cx:`16`,cy:`18`,r:`2`,key:`1v4tcr`}]]),jn=Y(`calendar-days`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M16 18h.01`,key:`kzsmim`}]]),Mn=Y(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Nn=Y(`chart-column`,[[`path`,{d:`M3 3v16a2 2 0 0 0 2 2h16`,key:`c24i48`}],[`path`,{d:`M18 17V9`,key:`2bz60n`}],[`path`,{d:`M13 17V5`,key:`1frdt8`}],[`path`,{d:`M8 17v-3`,key:`17ska0`}]]),Pn=Y(`chart-pie`,[[`path`,{d:`M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z`,key:`pzmjnu`}],[`path`,{d:`M21.21 15.89A10 10 0 1 1 8 2.83`,key:`k2fpak`}]]),Fn=Y(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),In=Y(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Ln=Y(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),Rn=Y(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),zn=Y(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),Bn=Y(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Vn=Y(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),Hn=Y(`clipboard-check`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`m9 14 2 2 4-4`,key:`df797q`}]]),Un=Y(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Wn=Y(`coffee`,[[`path`,{d:`M10 2v2`,key:`7u0qdc`}],[`path`,{d:`M14 2v2`,key:`6buw04`}],[`path`,{d:`M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1`,key:`pwadti`}],[`path`,{d:`M6 2v2`,key:`colzsn`}]]),Gn=Y(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),Kn=Y(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),qn=Y(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),Jn=Y(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Yn=Y(`file-spreadsheet`,[[`path`,{d:`M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z`,key:`1rqfz7`}],[`path`,{d:`M14 2v4a2 2 0 0 0 2 2h4`,key:`tnqrlb`}],[`path`,{d:`M8 13h2`,key:`yr2amv`}],[`path`,{d:`M14 13h2`,key:`un5t4a`}],[`path`,{d:`M8 17h2`,key:`2yhykz`}],[`path`,{d:`M14 17h2`,key:`10kma7`}]]),Xn=Y(`file-text`,[[`path`,{d:`M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z`,key:`1rqfz7`}],[`path`,{d:`M14 2v4a2 2 0 0 0 2 2h4`,key:`tnqrlb`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),Zn=Y(`graduation-cap`,[[`path`,{d:`M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z`,key:`j76jl0`}],[`path`,{d:`M22 10v6`,key:`1lu8f3`}],[`path`,{d:`M6 12.5V16a6 3 0 0 0 12 0v-3.5`,key:`1r8lef`}]]),Qn=Y(`grid-3x3`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M3 9h18`,key:`1pudct`}],[`path`,{d:`M3 15h18`,key:`5xshup`}],[`path`,{d:`M9 3v18`,key:`fh3hqa`}],[`path`,{d:`M15 3v18`,key:`14nvp0`}]]),$n=Y(`hash`,[[`line`,{x1:`4`,x2:`20`,y1:`9`,y2:`9`,key:`4lhtct`}],[`line`,{x1:`4`,x2:`20`,y1:`15`,y2:`15`,key:`vyu0kd`}],[`line`,{x1:`10`,x2:`8`,y1:`3`,y2:`21`,key:`1ggp8o`}],[`line`,{x1:`16`,x2:`14`,y1:`3`,y2:`21`,key:`weycgp`}]]),er=Y(`heart`,[[`path`,{d:`M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5`,key:`mvr1a0`}]]),tr=Y(`indian-rupee`,[[`path`,{d:`M6 3h12`,key:`ggurg9`}],[`path`,{d:`M6 8h12`,key:`6g4wlu`}],[`path`,{d:`m6 13 8.5 8`,key:`u1kupk`}],[`path`,{d:`M6 13h3`,key:`wdp6ag`}],[`path`,{d:`M9 13c6.667 0 6.667-10 0-10`,key:`1nkvk2`}]]),nr=Y(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),rr=Y(`key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),ir=Y(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),ar=Y(`layout-grid`,[[`rect`,{width:`7`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`1g98yp`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`3`,rx:`1`,key:`6d4xhi`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`14`,rx:`1`,key:`nxv5o0`}],[`rect`,{width:`7`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`1bb6yr`}]]),or=Y(`layout-dashboard`,[[`rect`,{width:`7`,height:`9`,x:`3`,y:`3`,rx:`1`,key:`10lvy0`}],[`rect`,{width:`7`,height:`5`,x:`14`,y:`3`,rx:`1`,key:`16une8`}],[`rect`,{width:`7`,height:`9`,x:`14`,y:`12`,rx:`1`,key:`1hutg5`}],[`rect`,{width:`7`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`ldoo1y`}]]),sr=Y(`list`,[[`path`,{d:`M3 5h.01`,key:`18ugdj`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M3 19h.01`,key:`noohij`}],[`path`,{d:`M8 5h13`,key:`1pao27`}],[`path`,{d:`M8 12h13`,key:`1za7za`}],[`path`,{d:`M8 19h13`,key:`m83p4d`}]]),cr=Y(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),lr=Y(`lock-open`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 9.9-1`,key:`1mm8w8`}]]),ur=Y(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),dr=Y(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),fr=Y(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),pr=Y(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),mr=Y(`menu`,[[`path`,{d:`M4 5h16`,key:`1tepv9`}],[`path`,{d:`M4 12h16`,key:`1lakjw`}],[`path`,{d:`M4 19h16`,key:`1djgab`}]]),hr=Y(`moon`,[[`path`,{d:`M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401`,key:`kfwtm`}]]),gr=Y(`palette`,[[`path`,{d:`M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z`,key:`e79jfc`}],[`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`,fill:`currentColor`,key:`1okk4w`}],[`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`,fill:`currentColor`,key:`f64h9f`}],[`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`,fill:`currentColor`,key:`qy21gx`}],[`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`fotxhn`}]]),_r=Y(`pause`,[[`rect`,{x:`14`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`kaeet6`}],[`rect`,{x:`5`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`1wsw3u`}]]),vr=Y(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),yr=Y(`percent`,[[`line`,{x1:`19`,x2:`5`,y1:`5`,y2:`19`,key:`1x9vlm`}],[`circle`,{cx:`6.5`,cy:`6.5`,r:`2.5`,key:`4mh3h7`}],[`circle`,{cx:`17.5`,cy:`17.5`,r:`2.5`,key:`1mdrzq`}]]),br=Y(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),xr=Y(`plane`,[[`path`,{d:`M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z`,key:`1v9wt8`}]]),Sr=Y(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),Cr=Y(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),wr=Y(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),Tr=Y(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),Er=Y(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Dr=Y(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Or=Y(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),kr=Y(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Ar=Y(`sliders-vertical`,[[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M12 21v-9`,key:`17s77i`}],[`path`,{d:`M12 8V3`,key:`13r4qs`}],[`path`,{d:`M17 16h4`,key:`h1uq16`}],[`path`,{d:`M19 12V3`,key:`o1uvq1`}],[`path`,{d:`M19 21v-5`,key:`qua636`}],[`path`,{d:`M3 14h4`,key:`bcjad9`}],[`path`,{d:`M5 10V3`,key:`cb8scm`}],[`path`,{d:`M5 21v-7`,key:`1w1uti`}]]),jr=Y(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),Mr=Y(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Nr=Y(`sun`,[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]]),Pr=Y(`sunrise`,[[`path`,{d:`M12 2v8`,key:`1q4o3n`}],[`path`,{d:`m4.93 10.93 1.41 1.41`,key:`2a7f42`}],[`path`,{d:`M2 18h2`,key:`j10viu`}],[`path`,{d:`M20 18h2`,key:`wocana`}],[`path`,{d:`m19.07 10.93-1.41 1.41`,key:`15zs5n`}],[`path`,{d:`M22 22H2`,key:`19qnx5`}],[`path`,{d:`m8 6 4-4 4 4`,key:`ybng9g`}],[`path`,{d:`M16 18a4 4 0 0 0-8 0`,key:`1lzouq`}]]),Fr=Y(`sunset`,[[`path`,{d:`M12 10V2`,key:`16sf7g`}],[`path`,{d:`m4.93 10.93 1.41 1.41`,key:`2a7f42`}],[`path`,{d:`M2 18h2`,key:`j10viu`}],[`path`,{d:`M20 18h2`,key:`wocana`}],[`path`,{d:`m19.07 10.93-1.41 1.41`,key:`15zs5n`}],[`path`,{d:`M22 22H2`,key:`19qnx5`}],[`path`,{d:`m16 6-4 4-4-4`,key:`6wukr`}],[`path`,{d:`M16 18a4 4 0 0 0-8 0`,key:`1lzouq`}]]),Ir=Y(`tag`,[[`path`,{d:`M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z`,key:`vktsd0`}],[`circle`,{cx:`7.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`kqv944`}]]),Lr=Y(`target`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`circle`,{cx:`12`,cy:`12`,r:`6`,key:`1vlfrh`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}]]),Rr=Y(`timer`,[[`line`,{x1:`10`,x2:`14`,y1:`2`,y2:`2`,key:`14vaq8`}],[`line`,{x1:`12`,x2:`15`,y1:`14`,y2:`11`,key:`17fdiu`}],[`circle`,{cx:`12`,cy:`14`,r:`8`,key:`1e1u0o`}]]),zr=Y(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Br=Y(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),Vr=Y(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Hr=Y(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Ur=Y(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Wr=Y(`user-cog`,[[`path`,{d:`M10 15H6a4 4 0 0 0-4 4v2`,key:`1nfge6`}],[`path`,{d:`m14.305 16.53.923-.382`,key:`1itpsq`}],[`path`,{d:`m15.228 13.852-.923-.383`,key:`eplpkm`}],[`path`,{d:`m16.852 12.228-.383-.923`,key:`13v3q0`}],[`path`,{d:`m16.852 17.772-.383.924`,key:`1i8mnm`}],[`path`,{d:`m19.148 12.228.383-.923`,key:`1q8j1v`}],[`path`,{d:`m19.53 18.696-.382-.924`,key:`vk1qj3`}],[`path`,{d:`m20.772 13.852.924-.383`,key:`n880s0`}],[`path`,{d:`m20.772 16.148.924.383`,key:`1g6xey`}],[`circle`,{cx:`18`,cy:`15`,r:`3`,key:`gjjjvw`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Gr=Y(`user-plus`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`19`,x2:`19`,y1:`8`,y2:`14`,key:`1bvyxn`}],[`line`,{x1:`22`,x2:`16`,y1:`11`,y2:`11`,key:`1shjgl`}]]),Kr=Y(`user-x`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`17`,x2:`22`,y1:`8`,y2:`13`,key:`3nzzx3`}],[`line`,{x1:`22`,x2:`17`,y1:`8`,y2:`13`,key:`1swrse`}]]),qr=Y(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Jr=Y(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),X=Y(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Yr=Y(`zap`,[[`path`,{d:`M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z`,key:`1xq2db`}]]),Xr=null,Zr=()=>{if(Xr)return Xr;let e=document.createElement(`div`);return e.id=`toast-container`,e.className=`fixed top-4 right-4 z-50 space-y-2`,document.body.appendChild(e),Xr=e,e},Qr=(e,t=`info`)=>{let n=Zr(),r=document.createElement(`div`);r.className=`${{success:`bg-green-500`,error:`bg-red-500`,info:`bg-blue-500`,warning:`bg-yellow-500`}[t]||`bg-blue-500`} text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-right`,r.innerHTML=`<span>${e}</span>`,n.appendChild(r),setTimeout(()=>{r.style.animation=`fade-out 0.3s ease-out`,setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},300)},3e3)};const Z={success:e=>Qr(e,`success`),error:e=>Qr(e,`error`),info:e=>Qr(e,`info`),warning:e=>Qr(e,`warning`)};var $r=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Q=c(o(((e,t)=>{t.exports=$r()}))()),ei=({schools:e,currentSchoolId:t,onSwitch:n})=>{let[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(!1),s=(0,_.useRef)(null);(0,_.useEffect)(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&i(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let c=e?.find(e=>e.school_id===t)||e?.[0],l=async e=>{if(e.school_id===t){i(!1);return}o(!0);try{await n(e),i(!1),Z.success(` Switched to ${e.school_name}`),localStorage.setItem(`lastSelectedSchoolId`,e.school_id)}catch(e){Z.error(`Failed to switch school. Please try again.`),console.error(`Switch school error:`,e)}finally{o(!1)}};return!e||e.length<=1?c?(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 px-4 py-2 bg-white rounded-xl border border-gray-200`,children:[(0,Q.jsx)(On,{className:`w-4 h-4 text-gray-600`}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700 truncate max-w-[200px]`,children:c.school_name})]}):null:(0,Q.jsxs)(`div`,{className:`relative`,ref:s,children:[(0,Q.jsxs)(`button`,{onClick:()=>i(!r),className:`flex items-center gap-3 px-4 py-2.5 bg-white rounded-xl border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md transition-all min-w-[200px] max-w-[300px]`,children:[(0,Q.jsx)(`div`,{className:`flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center`,children:(0,Q.jsx)(On,{className:`w-5 h-5 text-white`})}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0 text-left`,children:[(0,Q.jsx)(`p`,{className:`text-sm font-semibold text-gray-900 truncate`,children:c?.school_name||`Select School`}),c?.city&&(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500 truncate`,children:[c.city,c.state?`, ${c.state}`:``]})]}),(0,Q.jsx)(In,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${r?`rotate-180`:``}`})]}),r&&(0,Q.jsxs)(`div`,{className:`absolute top-full mt-2 right-0 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50 overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-gray-50 border-b border-gray-200`,children:(0,Q.jsx)(`p`,{className:`text-xs font-semibold text-gray-600 uppercase tracking-wide`,children:`Switch School`})}),(0,Q.jsxs)(`div`,{className:`max-h-[400px] overflow-y-auto`,children:[a&&(0,Q.jsx)(`div`,{className:`p-4 flex items-center justify-center`,children:(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin text-blue-600`})}),e.map(e=>(0,Q.jsx)(`button`,{onClick:()=>l(e),disabled:a,className:`w-full text-left p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${e.school_id===t?`bg-blue-50`:``} ${a?`opacity-50 cursor-not-allowed`:``}`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,Q.jsx)(`div`,{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${e.school_id===t?`bg-blue-600 text-white`:`bg-gray-100 text-gray-600`}`,children:(0,Q.jsx)(On,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mb-1`,children:[(0,Q.jsx)(`p`,{className:`font-semibold text-gray-900 truncate`,children:e.school_name}),e.school_id===t&&(0,Q.jsx)(Bn,{className:`w-4 h-4 text-blue-600 flex-shrink-0`})]}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-600 mb-1`,children:[`Code: `,e.school_code]}),(e.city||e.state)&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 text-xs text-gray-500`,children:[(0,Q.jsx)(pr,{className:`w-3 h-3`}),(0,Q.jsxs)(`span`,{children:[e.city,e.city&&e.state?`, `:``,e.state]})]}),e.role&&(0,Q.jsx)(`span`,{className:`inline-block mt-1 px-2 py-0.5 text-xs font-semibold rounded-full ${e.role===`principal`?`bg-purple-100 text-purple-700`:e.role===`vice_principal`?`bg-indigo-100 text-indigo-700`:`bg-blue-100 text-blue-700`}`,children:e.role===`principal`?`Principal`:e.role===`vice_principal`?`Vice Principal`:`Admin`})]})]})},e.school_id))]})]})]})},ti=`http://localhost:4001`,ni=()=>localStorage.getItem(`schoolAdmin_token`),$=async(e,t={})=>{let n=ni(),r={headers:{"Content-Type":`application/json`,...n&&{Authorization:`Bearer ${n}`},...t.headers},...t};try{let t=await fetch(`${ti}${e}`,r),n=await t.json();return t.status===401?(localStorage.removeItem(`schoolAdmin_token`),localStorage.removeItem(`schoolAdmin_info`),window.location.href=`/login`,null):n}catch(e){throw console.error(`API Error:`,e),e}};const ri={login:e=>$(`/api/school-auth/login`,{method:`POST`,body:JSON.stringify(e)}),logout:()=>$(`/api/school-auth/logout`,{method:`POST`}),me:()=>$(`/api/school-auth/me`),changePassword:e=>$(`/api/school-auth/change-password`,{method:`POST`,body:JSON.stringify(e)}),getSchool:()=>$(`/api/school-auth/school`)},ii={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/students${t?`?${t}`:``}`)},getById:e=>$(`/api/students/${e}`),getStats:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/students/stats${t?`?${t}`:``}`)},getNextAdmissionNumber:e=>$(`/api/students/next-admission-number${e?`?prefix=${e}`:``}`),create:e=>$(`/api/students`,{method:`POST`,body:JSON.stringify(e)}),update:(e,t)=>$(`/api/students/${e}`,{method:`PUT`,body:JSON.stringify(t)}),delete:(e,t=!1)=>$(`/api/students/${e}${t?`?permanent=true`:``}`,{method:`DELETE`}),addParent:(e,t)=>$(`/api/students/${e}/parents`,{method:`POST`,body:JSON.stringify(t)}),updateParent:(e,t,n)=>$(`/api/students/${e}/parents/${t}`,{method:`PUT`,body:JSON.stringify(n)}),deleteParent:(e,t)=>$(`/api/students/${e}/parents/${t}`,{method:`DELETE`}),promote:e=>$(`/api/students/promote`,{method:`POST`,body:JSON.stringify(e)}),export:(e={})=>{let t=new URLSearchParams(e).toString(),n=localStorage.getItem(`schoolAdmin_token`);return fetch(`http://localhost:4001/api/students/export${t?`?${t}`:``}`,{headers:{Authorization:`Bearer ${n}`}}).then(e=>e.blob())},getImportTemplate:()=>{let e=localStorage.getItem(`schoolAdmin_token`);return fetch(`http://localhost:4001/api/students/import-template`,{headers:{Authorization:`Bearer ${e}`}}).then(e=>e.blob())},import:e=>$(`/api/students/import`,{method:`POST`,body:JSON.stringify(e)}),getAcademicMapping:e=>$(`/api/students/${e}/academic-mapping`),updateClassSection:(e,t)=>$(`/api/students/${e}/class-section`,{method:`PUT`,body:JSON.stringify(t)})},ai={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/teachers${t?`?${t}`:``}`)},getStats:()=>$(`/api/teachers/stats`),getById:e=>$(`/api/teachers/${e}`),create:e=>$(`/api/teachers`,{method:`POST`,body:JSON.stringify(e)}),update:(e,t)=>$(`/api/teachers/${e}`,{method:`PUT`,body:JSON.stringify(t)}),delete:e=>$(`/api/teachers/${e}`,{method:`DELETE`}),changeStatus:(e,t)=>$(`/api/teachers/${e}/status`,{method:`POST`,body:JSON.stringify(t)}),getSubjects:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/teachers/${e}/subjects${n?`?${n}`:``}`)},assignSubject:(e,t)=>$(`/api/teachers/${e}/subjects`,{method:`POST`,body:JSON.stringify(t)}),bulkAssignSubjects:(e,t)=>$(`/api/teachers/${e}/subjects/bulk`,{method:`POST`,body:JSON.stringify(t)}),removeSubject:(e,t)=>$(`/api/teachers/${e}/subjects/${t}`,{method:`DELETE`}),getLeaveTypes:()=>$(`/api/teachers/leave-types`),createLeaveType:e=>$(`/api/teachers/leave-types`,{method:`POST`,body:JSON.stringify(e)}),getAllLeaveApplications:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/teachers/leave-applications${t?`?${t}`:``}`)},getLeaveBalance:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/teachers/${e}/leave-balance${n?`?${n}`:``}`)},getLeaveApplications:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/teachers/${e}/leave-applications${n?`?${n}`:``}`)},applyLeave:(e,t)=>$(`/api/teachers/${e}/leave-applications`,{method:`POST`,body:JSON.stringify(t)}),processLeave:(e,t,n)=>$(`/api/teachers/${e}/leave-applications/${t}`,{method:`POST`,body:JSON.stringify(n)}),getAttendance:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/teachers/${e}/attendance${n?`?${n}`:``}`)},getAttendanceSummary:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/teachers/attendance/summary${t?`?${t}`:``}`)},markAttendance:e=>$(`/api/teachers/attendance/mark`,{method:`POST`,body:JSON.stringify(e)}),getQualifications:e=>$(`/api/teachers/${e}/qualifications`),addQualification:(e,t)=>$(`/api/teachers/${e}/qualifications`,{method:`POST`,body:JSON.stringify(t)}),deleteQualification:(e,t)=>$(`/api/teachers/${e}/qualifications/${t}`,{method:`DELETE`}),getExperiences:e=>$(`/api/teachers/${e}/experience`),addExperience:(e,t)=>$(`/api/teachers/${e}/experience`,{method:`POST`,body:JSON.stringify(t)}),deleteExperience:(e,t)=>$(`/api/teachers/${e}/experience/${t}`,{method:`DELETE`}),getDocuments:e=>$(`/api/teachers/${e}/documents`),addDocument:(e,t)=>$(`/api/teachers/${e}/documents`,{method:`POST`,body:JSON.stringify(t)}),verifyDocument:(e,t,n)=>$(`/api/teachers/${e}/documents/${t}/verify`,{method:`PATCH`,body:JSON.stringify(n)}),deleteDocument:(e,t)=>$(`/api/teachers/${e}/documents/${t}`,{method:`DELETE`}),createLogin:(e,t)=>$(`/api/teachers/${e}/create-login`,{method:`POST`,body:JSON.stringify(t)}),resetPassword:(e,t)=>$(`/api/teachers/${e}/reset-password`,{method:`POST`,body:JSON.stringify(t)}),toggleLoginAccess:(e,t)=>$(`/api/teachers/${e}/toggle-login`,{method:`POST`,body:JSON.stringify(t)}),getAuditLogs:e=>$(`/api/teachers/${e}/audit-logs`),bulkImport:e=>$(`/api/teachers/import`,{method:`POST`,body:JSON.stringify(e)}),export:(e=`json`)=>$(`/api/teachers/export?format=${e}`)},oi={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments${t?`?${t}`:``}`)},getByTeacher:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments/by-teacher${t?`?${t}`:``}`)},getBySubject:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments/by-subject${t?`?${t}`:``}`)},getByClass:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments/by-class${t?`?${t}`:``}`)},getVacant:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments/vacant${t?`?${t}`:``}`)},getWorkload:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subject-assignments/workload${t?`?${t}`:``}`)},checkConflicts:e=>$(`/api/subject-assignments/check-conflicts`,{method:`POST`,body:JSON.stringify(e)}),assign:e=>$(`/api/subject-assignments`,{method:`POST`,body:JSON.stringify(e)}),bulkAssignToTeacher:e=>$(`/api/subject-assignments/bulk-to-teacher`,{method:`POST`,body:JSON.stringify(e)}),bulkAssignToClasses:e=>$(`/api/subject-assignments/bulk-to-classes`,{method:`POST`,body:JSON.stringify(e)}),transfer:e=>$(`/api/subject-assignments/transfer`,{method:`POST`,body:JSON.stringify(e)}),copyToSession:e=>$(`/api/subject-assignments/copy-to-session`,{method:`POST`,body:JSON.stringify(e)}),update:(e,t)=>$(`/api/subject-assignments/${e}`,{method:`PATCH`,body:JSON.stringify(t)}),delete:e=>$(`/api/subject-assignments/${e}`,{method:`DELETE`}),bulkDelete:e=>$(`/api/subject-assignments/bulk-delete`,{method:`POST`,body:JSON.stringify(e)})},si={getAll:()=>$(`/api/classes`),getById:e=>$(`/api/classes/${e}`),create:e=>$(`/api/classes`,{method:`POST`,body:JSON.stringify(e)}),update:(e,t)=>$(`/api/classes/${e}`,{method:`PATCH`,body:JSON.stringify(t)}),delete:e=>$(`/api/classes/${e}`,{method:`DELETE`})},ci={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/academic-sessions${t?`?${t}`:``}`)},getById:e=>$(`/api/academic-sessions/${e}`),getCurrent:()=>$(`/api/academic-sessions/current`),create:e=>$(`/api/academic-sessions`,{method:`POST`,body:JSON.stringify(e)}),update:(e,t)=>$(`/api/academic-sessions/${e}`,{method:`PUT`,body:JSON.stringify(t)}),delete:e=>$(`/api/academic-sessions/${e}`,{method:`DELETE`}),setCurrent:e=>$(`/api/academic-sessions/${e}/set-current`,{method:`POST`})},li={getGrades:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/class-config/grades${t?`?${t}`:``}`)},createGrade:e=>$(`/api/class-config/grades`,{method:`POST`,body:JSON.stringify(e)}),updateGrade:(e,t)=>$(`/api/class-config/grades/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteGrade:e=>$(`/api/class-config/grades/${e}`,{method:`DELETE`}),getSections:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/class-config/sections${t?`?${t}`:``}`)},createSection:e=>$(`/api/class-config/sections`,{method:`POST`,body:JSON.stringify(e)}),updateSection:(e,t)=>$(`/api/class-config/sections/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteSection:e=>$(`/api/class-config/sections/${e}`,{method:`DELETE`}),getClassSections:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/class-config/class-sections${t?`?${t}`:``}`)},createClassSection:e=>$(`/api/class-config/class-sections`,{method:`POST`,body:JSON.stringify(e)}),bulkCreateClassSections:e=>$(`/api/class-config/class-sections/bulk`,{method:`POST`,body:JSON.stringify(e)}),updateClassSection:(e,t)=>$(`/api/class-config/class-sections/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteClassSection:e=>$(`/api/class-config/class-sections/${e}`,{method:`DELETE`}),copyClassSections:e=>$(`/api/class-config/class-sections/copy`,{method:`POST`,body:JSON.stringify(e)})},ui={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subjects${t?`?${t}`:``}`)},create:e=>$(`/api/subjects`,{method:`POST`,body:JSON.stringify(e)}),bulkCreate:e=>$(`/api/subjects/bulk`,{method:`POST`,body:JSON.stringify({subjects:e})}),update:(e,t)=>$(`/api/subjects/${e}`,{method:`PUT`,body:JSON.stringify(t)}),delete:e=>$(`/api/subjects/${e}`,{method:`DELETE`}),getCurriculum:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/subjects/curriculum${t?`?${t}`:``}`)},assignToClass:e=>$(`/api/subjects/curriculum`,{method:`POST`,body:JSON.stringify(e)}),bulkAssign:e=>$(`/api/subjects/curriculum/bulk`,{method:`POST`,body:JSON.stringify(e)}),copyCurriculum:e=>$(`/api/subjects/curriculum/copy`,{method:`POST`,body:JSON.stringify(e)}),updateAssignment:(e,t)=>$(`/api/subjects/curriculum/${e}`,{method:`PUT`,body:JSON.stringify(t)}),removeFromClass:e=>$(`/api/subjects/curriculum/${e}`,{method:`DELETE`})},di={getTypes:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/fees/types${t?`?${t}`:``}`)},createType:e=>$(`/api/fees/types`,{method:`POST`,body:JSON.stringify(e)}),bulkCreateTypes:e=>$(`/api/fees/types/bulk`,{method:`POST`,body:JSON.stringify({feeTypes:e})}),updateType:(e,t)=>$(`/api/fees/types/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteType:e=>$(`/api/fees/types/${e}`,{method:`DELETE`}),getStructures:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/fees/structures${t?`?${t}`:``}`)},createStructure:e=>$(`/api/fees/structures`,{method:`POST`,body:JSON.stringify(e)}),bulkCreateStructures:e=>$(`/api/fees/structures/bulk`,{method:`POST`,body:JSON.stringify(e)}),updateStructure:(e,t)=>$(`/api/fees/structures/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteStructure:e=>$(`/api/fees/structures/${e}`,{method:`DELETE`}),getDiscounts:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/fees/discounts${t?`?${t}`:``}`)},createDiscount:e=>$(`/api/fees/discounts`,{method:`POST`,body:JSON.stringify(e)}),bulkCreateDiscounts:e=>$(`/api/fees/discounts/bulk`,{method:`POST`,body:JSON.stringify({discounts:e})}),updateDiscount:(e,t)=>$(`/api/fees/discounts/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteDiscount:e=>$(`/api/fees/discounts/${e}`,{method:`DELETE`})},fi={getStats:()=>$(`/api/people/stats`),getRoles:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/people/roles${t?`?${t}`:``}`)},createRole:e=>$(`/api/people/roles`,{method:`POST`,body:JSON.stringify(e)}),updateRole:(e,t)=>$(`/api/people/roles/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteRole:e=>$(`/api/people/roles/${e}`,{method:`DELETE`}),getStaff:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/people/staff${t?`?${t}`:``}`)},createStaff:e=>$(`/api/people/staff`,{method:`POST`,body:JSON.stringify(e)}),updateStaff:(e,t)=>$(`/api/people/staff/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteStaff:e=>$(`/api/people/staff/${e}`,{method:`DELETE`}),getParents:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/people/parents${t?`?${t}`:``}`)},createParent:e=>$(`/api/people/parents`,{method:`POST`,body:JSON.stringify(e)}),updateParent:(e,t)=>$(`/api/people/parents/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteParent:e=>$(`/api/people/parents/${e}`,{method:`DELETE`})},pi={getSettings:()=>$(`/api/class-timings/settings`),saveSettings:e=>$(`/api/class-timings/settings`,{method:`POST`,body:JSON.stringify(e)}),getDayWise:()=>$(`/api/class-timings/day-wise`),getDayWiseWithPeriods:()=>$(`/api/class-timings/day-wise/all-periods`),saveDayWise:e=>$(`/api/class-timings/day-wise`,{method:`POST`,body:JSON.stringify({dayTimings:e})}),getForDate:e=>$(`/api/class-timings/date/${e}`),getTemplates:()=>$(`/api/class-timings/templates`),getTemplateById:e=>$(`/api/class-timings/templates/${e}`),createTemplate:e=>$(`/api/class-timings/templates`,{method:`POST`,body:JSON.stringify(e)}),updateTemplate:(e,t)=>$(`/api/class-timings/templates/${e}`,{method:`PUT`,body:JSON.stringify(t)}),deleteTemplate:e=>$(`/api/class-timings/templates/${e}`,{method:`DELETE`}),savePeriods:(e,t)=>$(`/api/class-timings/templates/${e}/periods`,{method:`POST`,body:JSON.stringify({periods:t})}),saveBreaks:(e,t)=>$(`/api/class-timings/templates/${e}/breaks`,{method:`POST`,body:JSON.stringify({breaks:t})}),getActive:e=>$(`/api/class-timings/active${e?`?date=${e}`:``}`),getExceptions:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/class-timings/exceptions${t?`?${t}`:``}`)},createException:e=>$(`/api/class-timings/exceptions`,{method:`POST`,body:JSON.stringify(e)}),deleteException:e=>$(`/api/class-timings/exceptions/${e}`,{method:`DELETE`}),generateDefault:e=>$(`/api/class-timings/generate-default`,{method:`POST`,body:JSON.stringify(e)})},mi={getAll:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/departments${t?`?${t}`:``}`)},getById:e=>$(`/api/departments/${e}`),create:e=>$(`/api/departments`,{method:`POST`,body:JSON.stringify(e)}),bulkCreate:e=>$(`/api/departments/bulk`,{method:`POST`,body:JSON.stringify({departments:e})}),update:(e,t)=>$(`/api/departments/${e}`,{method:`PUT`,body:JSON.stringify(t)}),delete:e=>$(`/api/departments/${e}`,{method:`DELETE`}),reorder:e=>$(`/api/departments/reorder`,{method:`POST`,body:JSON.stringify({orderedIds:e})})},hi={getTeacher:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/timetable/teacher/${e}${n?`?${n}`:``}`)},getClass:(e,t={})=>{let n=new URLSearchParams(t).toString();return $(`/api/timetable/class/${e}${n?`?${n}`:``}`)},save:e=>$(`/api/timetable`,{method:`POST`,body:JSON.stringify(e)}),bulkSave:(e,t)=>$(`/api/timetable/bulk`,{method:`POST`,body:JSON.stringify({entries:e,academicSessionId:t})}),delete:e=>$(`/api/timetable/${e}`,{method:`DELETE`}),remove:e=>$(`/api/timetable/remove`,{method:`POST`,body:JSON.stringify(e)}),getDaily:e=>{let t=new URLSearchParams(e).toString();return $(`/api/timetable/daily?${t}`)},getSubstitutions:e=>$(`/api/timetable/substitutions?date=${e}`),getAvailableTeachers:e=>{let t=new URLSearchParams(e).toString();return $(`/api/timetable/substitutions/available-teachers?${t}`)},createSubstitution:e=>$(`/api/timetable/substitutions`,{method:`POST`,body:JSON.stringify(e)}),removeSubstitution:e=>$(`/api/timetable/substitutions/${e}`,{method:`DELETE`})},gi={getAll:()=>$(`/api/number-settings`),update:(e,t)=>$(`/api/number-settings/${e}`,{method:`PUT`,body:JSON.stringify(t)}),getNextAdmissionNumber:e=>{let t=e?`?classSectionId=${e}`:``;return $(`/api/number-settings/next-admission-number${t}`)},getNextRollNumber:(e,t)=>{let n=new URLSearchParams;return e&&n.append(`classSectionId`,e),t&&n.append(`academicSessionId`,t),$(`/api/number-settings/next-roll-number?${n.toString()}`)},increment:e=>$(`/api/number-settings/${e}/increment`,{method:`POST`}),reset:(e,t)=>$(`/api/number-settings/${e}/reset`,{method:`POST`,body:JSON.stringify(t)}),bulkGenerate:e=>$(`/api/number-settings/bulk-generate`,{method:`POST`,body:JSON.stringify(e)})},_i={getStats:(e={})=>{let t=new URLSearchParams(e).toString();return $(`/api/dashboard/stats${t?`?${t}`:``}`)},getQuickCounts:()=>$(`/api/dashboard/quick-counts`)};var vi={auth:ri,students:ii,teachers:ai,classes:si,academicSessions:ci,classConfig:li,subjects:ui,fees:di,people:fi,subjectAssignments:oi,classTimings:pi,departments:mi,timetable:hi,numberSettings:gi,dashboard:_i},yi=(0,_.createContext)(null);const bi=({children:e})=>{let[t,n]=(0,_.useState)(null),[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)(!0),[s,c]=(0,_.useState)(null),l=(0,_.useCallback)(async()=>{try{o(!0),c(null);let[e,t]=await Promise.all([ci.getAll(),ci.getCurrent()]);e?.success&&i(e.data||[]),t?.success&&t.data&&n(t.data)}catch(e){console.error(`Error fetching academic sessions:`,e),c(`Failed to load academic sessions`)}finally{o(!1)}},[]);(0,_.useEffect)(()=>{l()},[l]);let u=(0,_.useCallback)(async e=>{try{let t=await ci.setCurrent(e);if(t?.success){let t=r.find(t=>t.id===e);return t&&(n(t),i(t=>t.map(t=>({...t,isCurrent:t.id===e})))),{success:!0}}else return{success:!1,message:t?.message||`Failed to switch session`}}catch(e){return console.error(`Error switching session:`,e),{success:!1,message:`Failed to switch academic session`}}},[r]),d=(0,_.useCallback)(()=>l(),[l]),f={currentSession:t,sessions:r,loading:a,error:s,switchSession:u,refreshSessions:d,sessionId:t?.id};return(0,Q.jsx)(yi.Provider,{value:f,children:e})},xi=()=>{let e=(0,_.useContext)(yi);if(!e)throw Error(`useAcademicSession must be used within an AcademicSessionProvider`);return e};var Si=()=>{let[e,t]=(0,_.useState)(!1),[n,r]=(0,_.useState)(!1),i=(0,_.useRef)(null),a=ke(),{currentSession:o,sessions:s,loading:c,switchSession:l,refreshSessions:u}=xi();(0,_.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&t(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let d=async e=>{if(e.id===o?.id){t(!1);return}try{r(!0);let n=await l(e.id);n.success?(Z.success(`Switched to ${e.name}`),t(!1),window.location.reload()):Z.error(n.message||`Failed to switch session`)}catch(e){console.error(`Error switching session:`,e),Z.error(`Failed to switch academic session`)}finally{r(!1)}},f=e=>{switch(e){case`active`:return(0,Q.jsx)(Bn,{className:`w-3.5 h-3.5 text-green-500`});case`upcoming`:return(0,Q.jsx)(Un,{className:`w-3.5 h-3.5 text-blue-500`});case`completed`:return(0,Q.jsx)(Fn,{className:`w-3.5 h-3.5 text-gray-400`});default:return(0,Q.jsx)(zn,{className:`w-3.5 h-3.5 text-yellow-500`})}},p=e=>{switch(e){case`active`:return`bg-green-50 text-green-700 border-green-200`;case`upcoming`:return`bg-blue-50 text-blue-700 border-blue-200`;case`completed`:return`bg-gray-50 text-gray-600 border-gray-200`;default:return`bg-yellow-50 text-yellow-700 border-yellow-200`}},m=(e,t)=>{let n=new Date(e),r=new Date(t),i=n.getFullYear(),a=r.getFullYear();return i===a?i.toString():`${i}-${a.toString().slice(-2)}`};return c?(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg`,children:[(0,Q.jsx)(cr,{className:`w-4 h-4 animate-spin text-gray-400`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-500`,children:`Loading...`})]}):(0,Q.jsxs)(`div`,{className:`relative`,ref:i,children:[(0,Q.jsxs)(`button`,{onClick:()=>t(!e),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${o?`bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200 hover:border-amber-300`:`bg-gray-50 border-gray-200 hover:border-gray-300`}`,children:[(0,Q.jsx)(`div`,{className:`w-8 h-8 rounded-lg flex items-center justify-center ${o?`bg-amber-100`:`bg-gray-100`}`,children:(0,Q.jsx)(Mn,{className:`w-4 h-4 ${o?`text-amber-600`:`text-gray-500`}`})}),(0,Q.jsx)(`div`,{className:`text-left hidden sm:block`,children:o?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 leading-none`,children:`Academic Session`}),(0,Q.jsx)(`p`,{className:`text-sm font-semibold text-gray-800 leading-tight`,children:o.code||o.name})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 leading-none`,children:`No Session`}),(0,Q.jsx)(`p`,{className:`text-sm font-medium text-gray-600 leading-tight`,children:`Select Session`})]})}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-400 transition-transform ${e?`rotate-180`:``}`})]}),e&&(0,Q.jsxs)(`div`,{className:`absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50 animate-in fade-in slide-in-from-top-2 duration-200`,children:[(0,Q.jsx)(`div`,{className:`px-4 py-2 border-b border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-semibold text-gray-700`,children:`Academic Sessions`}),(0,Q.jsxs)(`button`,{onClick:()=>{t(!1),a(`/settings/academic-sessions`)},className:`flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium`,children:[(0,Q.jsx)(Or,{className:`w-3.5 h-3.5`}),`Manage`]})]})}),(0,Q.jsx)(`div`,{className:`max-h-72 overflow-y-auto py-1`,children:s.length===0?(0,Q.jsxs)(`div`,{className:`px-4 py-6 text-center`,children:[(0,Q.jsx)(Mn,{className:`w-10 h-10 text-gray-300 mx-auto mb-2`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mb-2`,children:`No academic sessions found`}),(0,Q.jsx)(`button`,{onClick:()=>{t(!1),a(`/settings/academic-sessions`)},className:`text-sm text-blue-600 hover:text-blue-700 font-medium`,children:`Create your first session `})]}):s.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>d(e),disabled:n||e.status===`completed`,className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left ${e.id===o?.id?`bg-amber-50`:``} ${e.status===`completed`?`opacity-60`:``}`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${e.id===o?.id?`bg-amber-100`:`bg-gray-100`}`,children:e.id===o?.id?(0,Q.jsx)(Mr,{className:`w-5 h-5 text-amber-500`}):(0,Q.jsx)(Mn,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`p`,{className:`text-sm font-medium text-gray-800 truncate`,children:e.name}),e.id===o?.id&&(0,Q.jsx)(`span`,{className:`text-xs bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded font-medium`,children:`Current`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mt-0.5`,children:[(0,Q.jsx)(`span`,{className:`text-xs font-mono text-gray-500`,children:e.code}),(0,Q.jsx)(`span`,{className:`text-gray-300`,children:``}),(0,Q.jsx)(`span`,{className:`text-xs text-gray-500`,children:m(e.startDate,e.endDate)})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${p(e.status)}`,children:[f(e.status),(0,Q.jsx)(`span`,{className:`capitalize`,children:e.status})]}),e.id===o?.id&&(0,Q.jsx)(Fn,{className:`w-5 h-5 text-amber-500 flex-shrink-0`})]},e.id))}),s.length>0&&(0,Q.jsx)(`div`,{className:`px-4 py-2 border-t border-gray-100 bg-gray-50`,children:(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 text-center`,children:`Click on a session to set it as current`})})]})]})},Ci=()=>{let[e,t]=(0,_.useState)(!0),[n,r]=(0,_.useState)(!1),i=Ee(),a=ke(),[o,s]=(0,_.useState)(()=>{let e=localStorage.getItem(`schoolAdmin_info`);return e?JSON.parse(e):{name:`Admin`,email:`admin@school.edu`,schoolName:`Your School`}}),[c,l]=(0,_.useState)(()=>{let e=localStorage.getItem(`available_schools`);return e?JSON.parse(e):[]}),[u,d]=(0,_.useState)(()=>{let e=localStorage.getItem(`lastSelectedSchoolId`),t=JSON.parse(localStorage.getItem(`schoolAdmin_info`)||`{}`);return e||t.schoolId||null});(0,_.useEffect)(()=>{let e=()=>{let e=localStorage.getItem(`schoolAdmin_info`);e&&s(JSON.parse(e));let t=localStorage.getItem(`available_schools`);t&&l(JSON.parse(t));let n=localStorage.getItem(`lastSelectedSchoolId`);n&&d(n)};return window.addEventListener(`storage`,e),()=>window.removeEventListener(`storage`,e)},[]);let f=async e=>{let t=localStorage.getItem(`schoolAdmin_token`),n=await(await fetch(`http://localhost:4001/api/school-auth/switch-school`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:`Bearer ${t}`},body:JSON.stringify({school_id:e.school_id})})).json();if(n.success){localStorage.setItem(`schoolAdmin_token`,n.token);let e={...o,schoolId:n.school_id,schoolName:n.school.school_name,schoolCode:n.school.school_code,role:n.role};localStorage.setItem(`schoolAdmin_info`,JSON.stringify(e)),s(e),localStorage.setItem(`currentSchool`,JSON.stringify({school_id:n.school_id,school_name:n.school.school_name,school_code:n.school.school_code,role:n.role})),localStorage.setItem(`lastSelectedSchoolId`,n.school_id),d(n.school_id),window.location.reload()}else throw Error(n.message||`Failed to switch school`)},p=[{path:`/dashboard`,icon:or,label:`Dashboard`},{path:`/students`,icon:Jr,label:`Students`},{path:`/teachers`,icon:Ur,label:`Teachers`},{path:`/attendance`,icon:Mn,label:`Attendance`},{path:`/exams`,icon:Hn,label:`Exams & Grades`},{path:`/fees`,icon:tr,label:`Fee Management`},{path:`/reports`,icon:Nn,label:`Reports`},{path:`/settings`,icon:Or,label:`Settings`}];return(0,Q.jsxs)(`div`,{className:`flex h-screen bg-gray-50`,children:[(0,Q.jsxs)(`aside`,{className:`${e?`w-64`:`w-20`} bg-white shadow-lg transition-all duration-300 flex flex-col`,children:[(0,Q.jsx)(`div`,{className:`h-16 flex items-center px-6 border-b border-gray-200`,children:e?(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(On,{className:`text-blue-600 w-8 h-8`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`span`,{className:`text-xl font-bold text-gray-800 block`,children:`School Portal`}),(0,Q.jsx)(`span`,{className:`text-xs text-gray-500 block truncate`,children:o.schoolName})]})]}):(0,Q.jsx)(On,{className:`text-blue-600 w-8 h-8 mx-auto`})}),(0,Q.jsx)(`nav`,{className:`flex-1 p-4 overflow-y-auto`,children:(0,Q.jsx)(`ul`,{className:`space-y-1`,children:p.map(t=>{let n=t.icon,r=i.pathname===t.path;return(0,Q.jsx)(`li`,{children:(0,Q.jsxs)(qt,{to:t.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${r?`bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg`:`text-gray-700 hover:bg-gray-100`}`,children:[(0,Q.jsx)(n,{className:`w-5 h-5 flex-shrink-0`}),e&&(0,Q.jsx)(`span`,{className:`font-medium`,children:t.label})]})},t.path)})})}),e&&(0,Q.jsx)(`div`,{className:`p-4 border-t border-gray-200`,children:(0,Q.jsxs)(qt,{to:`/school-details`,className:`flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition-colors`,children:[(0,Q.jsx)(On,{className:`w-5 h-5 text-gray-600`}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`School Details`})]})}),(0,Q.jsx)(`div`,{className:`p-4 border-t border-gray-200`,children:(0,Q.jsx)(`button`,{onClick:()=>t(!e),className:`w-full flex items-center justify-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:e?(0,Q.jsx)(X,{className:`w-5 h-5`}):(0,Q.jsx)(mr,{className:`w-5 h-5`})})})]}),(0,Q.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden`,children:[(0,Q.jsx)(`header`,{className:`h-16 bg-white shadow-sm border-b border-gray-200 flex items-center px-6`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between w-full`,children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-semibold text-gray-800`,children:p.find(e=>e.path===i.pathname)?.label||`Dashboard`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Si,{}),c.length>0&&(0,Q.jsx)(ei,{schools:c,currentSchoolId:u,onSwitch:f}),(0,Q.jsxs)(`button`,{className:`relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors`,children:[(0,Q.jsx)(Tn,{className:`w-5 h-5`}),(0,Q.jsx)(`span`,{className:`absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full`})]}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`button`,{onClick:()=>r(!n),className:`flex items-center gap-3 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors`,children:[(0,Q.jsx)(`div`,{className:`w-9 h-9 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center`,children:(0,Q.jsx)(`span`,{className:`text-white font-semibold text-sm`,children:o.name.charAt(0).toUpperCase()})}),(0,Q.jsxs)(`div`,{className:`text-left hidden md:block`,children:[(0,Q.jsx)(`p`,{className:`text-sm font-semibold text-gray-800`,children:o.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:o.email})]}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-600`})]}),n&&(0,Q.jsxs)(`div`,{className:`absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50`,children:[(0,Q.jsxs)(qt,{to:`/settings`,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-2.5 text-gray-700 hover:bg-gray-100 transition-colors`,children:[(0,Q.jsx)(qr,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`text-sm font-medium`,children:`Profile Settings`})]}),(0,Q.jsxs)(qt,{to:`/change-password`,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-2.5 text-gray-700 hover:bg-gray-100 transition-colors`,children:[(0,Q.jsx)(Or,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`text-sm font-medium`,children:`Change Password`})]}),(0,Q.jsx)(`hr`,{className:`my-2 border-gray-200`}),(0,Q.jsxs)(`button`,{onClick:()=>{localStorage.removeItem(`schoolAdmin_token`),localStorage.removeItem(`schoolAdmin_info`),a(`/login`)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-red-600 hover:bg-red-50 transition-colors`,children:[(0,Q.jsx)(dr,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`text-sm font-medium`,children:`Logout`})]})]})]})]})]})}),(0,Q.jsx)(`main`,{className:`flex-1 overflow-y-auto p-6 bg-gray-50`,children:(0,Q.jsx)(nt,{})})]})]})},wi=({schools:e,onSelect:t,onClose:n,loading:r})=>{let[i,a]=(0,_.useState)(null);return!e||e.length===0?null:(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-white/20 rounded-xl`,children:(0,Q.jsx)(On,{className:`w-6 h-6 text-white`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-bold text-white`,children:`Select a School`}),(0,Q.jsx)(`p`,{className:`text-blue-100 text-sm`,children:`Choose which school you want to access`})]})]}),(0,Q.jsx)(`button`,{onClick:n,className:`text-white/80 hover:text-white transition-colors`,children:(0,Q.jsx)(X,{className:`w-6 h-6`})})]}),(0,Q.jsx)(`div`,{className:`p-6 overflow-y-auto max-h-[calc(90vh-180px)]`,children:(0,Q.jsx)(`div`,{className:`space-y-3`,children:e.map(e=>(0,Q.jsx)(`button`,{onClick:()=>a(e.school_id),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${i===e.school_id?`border-blue-600 bg-blue-50 shadow-md`:`border-gray-200 hover:border-gray-300 hover:bg-gray-50`}`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,Q.jsx)(`div`,{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center ${i===e.school_id?`bg-blue-600 text-white`:`bg-gray-100 text-gray-600`}`,children:(0,Q.jsx)(On,{className:`w-6 h-6`})}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mb-1`,children:[(0,Q.jsx)(`h3`,{className:`font-bold text-gray-900 truncate`,children:e.school_name}),i===e.school_id&&(0,Q.jsx)(Bn,{className:`w-5 h-5 text-blue-600 flex-shrink-0`})]}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-600 mb-2`,children:[`Code: `,e.school_code]}),(e.city||e.state)&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 text-xs text-gray-500`,children:[(0,Q.jsx)(pr,{className:`w-3 h-3`}),(0,Q.jsxs)(`span`,{children:[e.city,e.city&&e.state?`, `:``,e.state]})]}),e.role&&(0,Q.jsx)(`span`,{className:`inline-block mt-2 px-2 py-1 text-xs font-semibold rounded-full ${e.role===`principal`?`bg-purple-100 text-purple-700`:e.role===`vice_principal`?`bg-indigo-100 text-indigo-700`:`bg-blue-100 text-blue-700`}`,children:e.role===`principal`?`Principal`:e.role===`vice_principal`?`Vice Principal`:`School Admin`})]})]})},e.school_id))})}),(0,Q.jsxs)(`div`,{className:`bg-gray-50 p-6 border-t border-gray-200 flex items-center justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:n,className:`px-6 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-xl font-semibold hover:bg-gray-50 transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>{if(i){let n=e.find(e=>e.school_id===i);t(n)}},disabled:!i||r,className:`px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:r?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin`}),`Loading...`]}):`Continue`})]})]})})},Ti=()=>{let e=window.location.hostname.split(`.`);return e.length>=3?e[0]:null},Ei=()=>{let e=ke(),[t,n]=(0,_.useState)(!1),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(null),[d,f]=(0,_.useState)({email:``,password:``});return(0,Q.jsxs)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4`,children:[(0,Q.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,Q.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,Q.jsx)(`div`,{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-3xl shadow-lg mb-4`,children:(0,Q.jsx)(On,{className:`w-10 h-10 text-white`})}),(0,Q.jsx)(`h1`,{className:`text-3xl font-bold text-gray-900 mb-2`,children:`School Portal`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Sign in to manage your school`})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-xl p-8 border border-gray-100`,children:[(0,Q.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),o(``),i(!0);try{let t=Ti(),n=await fetch(`http://localhost:4001/api/school-auth/login`,{method:`POST`,headers:{"Content-Type":`application/json`,"X-Subdomain":t||``},body:JSON.stringify({...d,tenant:t})}),r=null,a=null;try{let e=await n.text();if(!n.ok)throw Error(`HTTP ${n.status}: ${n.statusText}`);try{r=JSON.parse(e)}catch{throw Error(`Invalid JSON response: ${e.substring(0,100)}`)}if(!r||typeof r!=`object`||!r)throw Error(`Invalid response format from server`);if(r.success!==!0){let e=r.message||`Login failed`;throw Error(e)}if(!r.token||typeof r.token!=`string`||r.token.length===0)throw Error(`No valid token received from server`);a=r.token}catch(e){throw console.error(`Login error:`,e.message),e}localStorage.setItem(`schoolAdmin_token`,a);let o={id:r.user_id||null,name:r.admin?.name||`Admin`,email:r.admin?.email||``,role:r.admin?.role||`admin`,groupId:r.group_id||null,tenant:r.tenant||null,schoolId:r.school_id||null,schoolName:r.school_name||null,mustChangePassword:r.admin?.mustChangePassword||!1,availableSchools:r.available_schools||[]};if(localStorage.setItem(`schoolAdmin_info`,JSON.stringify(o)),r.available_schools&&r.available_schools.length>0&&localStorage.setItem(`available_schools`,JSON.stringify(r.available_schools)),r.available_schools&&r.available_schools.length>1&&r.requiresSchoolSelection){u(r),c(!0),i(!1);return}let s=r.school_id?r.available_schools?.find(e=>e.school_id===r.school_id):r.available_schools?.[0];s&&(localStorage.setItem(`currentSchool`,JSON.stringify({school_id:s.school_id,school_name:s.school_name,school_code:s.school_code,role:s.role})),localStorage.setItem(`lastSelectedSchoolId`,s.school_id)),setTimeout(()=>{i(!1),r.admin&&r.admin.mustChangePassword?e(`/change-password`,{replace:!0}):e(`/dashboard`,{replace:!0})},100)}catch(e){console.error(`Login error:`,e.message),o(e.message||`Failed to login. Please try again.`)}finally{i(!1)}},className:`space-y-6`,children:[a&&(0,Q.jsxs)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3`,children:[(0,Q.jsx)(zn,{className:`w-5 h-5 text-red-600 flex-shrink-0 mt-0.5`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-sm font-semibold text-red-900`,children:`Login Failed`}),(0,Q.jsx)(`p`,{className:`text-sm text-red-700 mt-1`,children:a})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Email Address`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(fr,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:`email`,value:d.email,onChange:e=>f({...d,email:e.target.value}),placeholder:`principal@school.edu`,required:!0,className:`w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none text-gray-900`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(ur,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:t?`text`:`password`,value:d.password,onChange:e=>f({...d,password:e.target.value}),placeholder:`Enter your password`,required:!0,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none text-gray-900`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n(!t),className:`absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors`,children:t?(0,Q.jsx)(qn,{className:`w-5 h-5`}):(0,Q.jsx)(Jn,{className:`w-5 h-5`})})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Remember me`})]}),(0,Q.jsx)(qt,{to:`/forgot-password`,className:`text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors`,children:`Forgot password?`})]}),(0,Q.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full py-3.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:r?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin`}),`Signing in...`]}):`Sign In`})]}),(0,Q.jsx)(`div`,{className:`mt-6 text-center`,children:(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Need help? Contact your school group administrator`})})]}),(0,Q.jsx)(`div`,{className:`text-center mt-6`,children:(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:` 2025 CampusGrid. All rights reserved.`})})]}),s&&l&&(0,Q.jsx)(wi,{schools:l.available_schools||[],onSelect:async t=>{i(!0);try{let n=localStorage.getItem(`schoolAdmin_token`),r=await(await fetch(`http://localhost:4001/api/school-auth/switch-school`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:`Bearer ${n}`},body:JSON.stringify({school_id:t.school_id})})).json();if(r&&r.success&&r.token&&typeof r.token==`string`){localStorage.setItem(`schoolAdmin_token`,r.token);let t=JSON.parse(localStorage.getItem(`schoolAdmin_info`)||`{}`);t.schoolId=r.school_id,t.schoolName=r.school.school_name,t.schoolCode=r.school.school_code,t.role=r.role,localStorage.setItem(`schoolAdmin_info`,JSON.stringify(t)),localStorage.setItem(`currentSchool`,JSON.stringify({school_id:r.school_id,school_name:r.school.school_name,school_code:r.school.school_code,role:r.role})),localStorage.setItem(`lastSelectedSchoolId`,r.school_id),c(!1),e(`/dashboard`)}else o(r.message||`Failed to select school`)}catch(e){console.error(`School selection error:`,e),o(`Failed to select school. Please try again.`)}finally{i(!1)}},onClose:()=>{c(!1),localStorage.removeItem(`schoolAdmin_token`),localStorage.removeItem(`schoolAdmin_info`)},loading:r})]})},Di=()=>{let e=ke(),[t,n]=(0,_.useState)({email:``,newPassword:``,confirmPassword:``}),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(!1),[d,f]=(0,_.useState)(``),[p,m]=(0,_.useState)(0),h=e=>{let t=0;e.length>=8&&t++,e.length>=12&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,m(Math.min(t,5))},g=e=>{let r=e.target.value;n({...t,newPassword:r}),h(r),f(``)},v=async n=>{if(n.preventDefault(),c(!0),f(``),!t.email||!t.newPassword||!t.confirmPassword){f(`All fields are required`),c(!1);return}if(t.newPassword.length<8){f(`Password must be at least 8 characters long`),c(!1);return}if(t.newPassword!==t.confirmPassword){f(`Passwords do not match`),c(!1);return}try{let n=await fetch(`http://localhost:4001/api/school-auth/reset-password-direct`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({email:t.email,newPassword:t.newPassword})}),r=await n.json();if(!n.ok)throw Error(r.message||`Failed to reset password`);u(!0),setTimeout(()=>{e(`/login`)},3e3)}catch(e){console.error(`Reset password error:`,e),f(e.message||`Failed to reset password. Please try again.`)}finally{c(!1)}},y=()=>p<=2?`bg-red-500`:p<=3?`bg-orange-500`:p<=4?`bg-yellow-500`:`bg-green-500`;return(0,Q.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center p-4`,children:(0,Q.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-8 justify-center`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-gradient-to-br from-indigo-600 to-cyan-600 rounded-2xl`,children:(0,Q.jsx)(Zn,{className:`w-8 h-8 text-white`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-900`,children:`CampusGrid`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`School Portal`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl p-8 lg:p-10`,children:[(0,Q.jsxs)(qt,{to:`/login`,className:`inline-flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 mb-6`,children:[(0,Q.jsx)(xn,{className:`w-4 h-4`}),`Back to Login`]}),l?(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(Bn,{className:`w-16 h-16 text-green-600 mx-auto mb-4`}),(0,Q.jsx)(`h2`,{className:`text-2xl font-bold text-gray-900 mb-2`,children:`Password Reset Successful!`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`Your password has been reset successfully. Redirecting to login page...`}),(0,Q.jsx)(qt,{to:`/login`,className:`inline-block bg-gradient-to-r from-indigo-600 to-cyan-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-cyan-700 transition-all`,children:`Go to Login`})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,Q.jsx)(`h2`,{className:`text-3xl font-bold text-gray-900 mb-2`,children:`Reset Password`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Enter your email and create a new password`})]}),(0,Q.jsxs)(`form`,{onSubmit:v,className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Email Address`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none`,children:(0,Q.jsx)(fr,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsx)(`input`,{type:`email`,required:!0,value:t.email,onChange:e=>{n({...t,email:e.target.value}),f(``)},className:`w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none`,placeholder:`admin@yourschool.com`,disabled:s})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none`,children:(0,Q.jsx)(ur,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsx)(`input`,{type:r?`text`:`password`,required:!0,value:t.newPassword,onChange:g,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none`,placeholder:`Enter new password`,disabled:s}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>i(!r),className:`absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600`,children:r?(0,Q.jsx)(qn,{className:`w-5 h-5`}):(0,Q.jsx)(Jn,{className:`w-5 h-5`})})]}),t.newPassword&&(0,Q.jsxs)(`div`,{className:`mt-2`,children:[(0,Q.jsx)(`div`,{className:`flex gap-1 mb-1`,children:[1,2,3,4,5].map(e=>(0,Q.jsx)(`div`,{className:`h-2 flex-1 rounded-full ${e<=p?y():`bg-gray-200`}`},e))}),(0,Q.jsx)(`p`,{className:`text-xs font-medium ${p<=2?`text-red-600`:p<=3?`text-orange-600`:p<=4?`text-yellow-600`:`text-green-600`}`,children:(()=>p<=2?`Weak`:p<=3?`Fair`:p<=4?`Good`:`Strong`)()}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mt-1`,children:`Use at least 8 characters with a mix of letters, numbers, and symbols`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Confirm New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none`,children:(0,Q.jsx)(ur,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsx)(`input`,{type:a?`text`:`password`,required:!0,value:t.confirmPassword,onChange:e=>{n({...t,confirmPassword:e.target.value}),f(``)},className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none`,placeholder:`Confirm new password`,disabled:s}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>o(!a),className:`absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600`,children:a?(0,Q.jsx)(qn,{className:`w-5 h-5`}):(0,Q.jsx)(Jn,{className:`w-5 h-5`})})]}),t.confirmPassword&&t.newPassword!==t.confirmPassword&&(0,Q.jsx)(`p`,{className:`text-xs text-red-600 mt-1`,children:`Passwords do not match`})]}),d&&(0,Q.jsxs)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3`,children:[(0,Q.jsx)(zn,{className:`w-5 h-5 text-red-600 flex-shrink-0 mt-0.5`}),(0,Q.jsx)(`p`,{className:`text-sm text-red-600`,children:d})]}),(0,Q.jsx)(`button`,{type:`submit`,disabled:s||t.newPassword!==t.confirmPassword||t.newPassword.length<8,className:`w-full bg-gradient-to-r from-indigo-600 to-cyan-600 text-white py-4 rounded-xl font-semibold hover:from-indigo-700 hover:to-cyan-700 focus:ring-4 focus:ring-indigo-200 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:s?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin`}),`Resetting Password...`]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(ur,{className:`w-5 h-5`}),`Reset Password`]})})]})]})]}),(0,Q.jsx)(`div`,{className:`mt-6 text-center text-sm text-gray-500`,children:(0,Q.jsxs)(`p`,{children:[`Remember your password?`,` `,(0,Q.jsx)(qt,{to:`/login`,className:`font-semibold text-indigo-600 hover:text-indigo-700`,children:`Sign in`})]})})]})})},Oi=()=>{let e=ke(),[t]=tn(),n=t.get(`token`),r=t.get(`email`),[i,a]=(0,_.useState)({email:r||``,password:``,confirmPassword:``}),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(0);(0,_.useEffect)(()=>{(!n||!r)&&h(`Invalid reset link. Please request a new password reset.`)},[n,r]);let y=e=>{let t=0;e.length>=8&&t++,e.length>=12&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,v(Math.min(t,5))},b=e=>{let t=e.target.value;a({...i,password:t}),y(t)},x=async t=>{if(t.preventDefault(),d(!0),h(``),i.password.length<8){h(`Password must be at least 8 characters long`),d(!1);return}if(i.password!==i.confirmPassword){h(`Passwords do not match`),d(!1);return}try{let t=await fetch(`http://localhost:4001/api/school-auth/reset-password`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({token:n,email:i.email,newPassword:i.password})}),r=await t.json();if(!t.ok)throw Error(r.message||`Failed to reset password`);p(!0),setTimeout(()=>{e(`/login`)},3e3)}catch(e){console.error(`Reset password error:`,e),h(e.message||`Failed to reset password. Please try again.`)}finally{d(!1)}},S=()=>g<=2?`bg-red-500`:g<=3?`bg-orange-500`:g<=4?`bg-yellow-500`:`bg-green-500`;return!n||!r?(0,Q.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center p-4`,children:(0,Q.jsx)(`div`,{className:`w-full max-w-md bg-white rounded-3xl shadow-2xl p-8`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(zn,{className:`w-16 h-16 text-red-500 mx-auto mb-4`}),(0,Q.jsx)(`h2`,{className:`text-2xl font-bold text-gray-900 mb-2`,children:`Invalid Reset Link`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`The password reset link is invalid or has expired. Please request a new one.`}),(0,Q.jsx)(qt,{to:`/forgot-password`,className:`inline-block bg-gradient-to-r from-indigo-600 to-cyan-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-cyan-700 transition-all`,children:`Request New Reset Link`})]})})}):(0,Q.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center p-4`,children:(0,Q.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-8 justify-center`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-gradient-to-br from-indigo-600 to-cyan-600 rounded-2xl`,children:(0,Q.jsx)(Zn,{className:`w-8 h-8 text-white`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-900`,children:`CampusGrid`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`School Portal`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl p-8 lg:p-10`,children:[(0,Q.jsxs)(qt,{to:`/login`,className:`inline-flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 mb-6`,children:[(0,Q.jsx)(xn,{className:`w-4 h-4`}),`Back to Login`]}),f?(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(Bn,{className:`w-16 h-16 text-green-600 mx-auto mb-4`}),(0,Q.jsx)(`h2`,{className:`text-2xl font-bold text-gray-900 mb-2`,children:`Password Reset Successful!`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`Your password has been reset successfully. Redirecting to login page...`}),(0,Q.jsx)(qt,{to:`/login`,className:`inline-block bg-gradient-to-r from-indigo-600 to-cyan-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-cyan-700 transition-all`,children:`Go to Login`})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,Q.jsx)(`h2`,{className:`text-3xl font-bold text-gray-900 mb-2`,children:`Reset Your Password`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Create a new password for your account`})]}),(0,Q.jsxs)(`form`,{onSubmit:x,className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Email Address`}),(0,Q.jsx)(`input`,{type:`email`,value:i.email,readOnly:!0,className:`w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none`,children:(0,Q.jsx)(ur,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsx)(`input`,{type:o?`text`:`password`,required:!0,value:i.password,onChange:b,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none`,placeholder:`Enter new password`,disabled:u}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>s(!o),className:`absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600`,children:o?(0,Q.jsx)(qn,{className:`w-5 h-5`}):(0,Q.jsx)(Jn,{className:`w-5 h-5`})})]}),i.password&&(0,Q.jsxs)(`div`,{className:`mt-2`,children:[(0,Q.jsx)(`div`,{className:`flex gap-1 mb-1`,children:[1,2,3,4,5].map(e=>(0,Q.jsx)(`div`,{className:`h-2 flex-1 rounded-full ${e<=g?S():`bg-gray-200`}`},e))}),(0,Q.jsx)(`p`,{className:`text-xs font-medium ${g<=2?`text-red-600`:g<=3?`text-orange-600`:g<=4?`text-yellow-600`:`text-green-600`}`,children:(()=>g<=2?`Weak`:g<=3?`Fair`:g<=4?`Good`:`Strong`)()}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mt-1`,children:`Use at least 8 characters with a mix of letters, numbers, and symbols`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Confirm New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none`,children:(0,Q.jsx)(ur,{className:`w-5 h-5 text-gray-400`})}),(0,Q.jsx)(`input`,{type:c?`text`:`password`,required:!0,value:i.confirmPassword,onChange:e=>a({...i,confirmPassword:e.target.value}),className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none`,placeholder:`Confirm new password`,disabled:u}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>l(!c),className:`absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600`,children:c?(0,Q.jsx)(qn,{className:`w-5 h-5`}):(0,Q.jsx)(Jn,{className:`w-5 h-5`})})]}),i.confirmPassword&&i.password!==i.confirmPassword&&(0,Q.jsx)(`p`,{className:`text-xs text-red-600 mt-1`,children:`Passwords do not match`})]}),m&&(0,Q.jsxs)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3`,children:[(0,Q.jsx)(zn,{className:`w-5 h-5 text-red-600 flex-shrink-0 mt-0.5`}),(0,Q.jsx)(`p`,{className:`text-sm text-red-600`,children:m})]}),(0,Q.jsx)(`button`,{type:`submit`,disabled:u||i.password!==i.confirmPassword||i.password.length<8,className:`w-full bg-gradient-to-r from-indigo-600 to-cyan-600 text-white py-4 rounded-xl font-semibold hover:from-indigo-700 hover:to-cyan-700 focus:ring-4 focus:ring-indigo-200 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:u?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin`}),`Resetting Password...`]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(ur,{className:`w-5 h-5`}),`Reset Password`]})})]})]})]})]})})};const ki=43200,Ai=3600*24;Ai*7,Ai*365.2425;const ji=Symbol.for(`constructDateFrom`);function Mi(e,t){return typeof e==`function`?e(t):e&&typeof e==`object`&&ji in e?e[ji](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ni(e,t){return Mi(t||e,e)}var Pi={};function Fi(){return Pi}function Ii(e){let t=Ni(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-+n}function Li(e,...t){let n=Mi.bind(null,e||t.find(e=>typeof e==`object`));return t.map(n)}function Ri(e,t){let n=Ni(e)-+Ni(t);return n<0?-1:n>0?1:n}function zi(e){return Mi(e,Date.now())}function Bi(e,t,n){let[r,i]=Li(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function Vi(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Hi(e,t){return Ni(e)-+Ni(t)}function Ui(e,t){let n=Ni(e,t?.in);return n.setHours(23,59,59,999),n}function Wi(e,t){let n=Ni(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Gi(e,t){let n=Ni(e,t?.in);return+Ui(n,t)==+Wi(n,t)}function Ki(e,t,n){let[r,i,a]=Li(n?.in,e,e,t),o=Ri(i,a),s=Math.abs(Bi(i,a));if(s<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*s);let c=Ri(i,a)===-o;Gi(r)&&s===1&&Ri(r,a)===1&&(c=!1);let l=o*(s-+c);return l===0?0:l}function qi(e,t,n){let r=Hi(e,t)/1e3;return Vi(n?.roundingMethod)(r)}var Ji={lessThanXSeconds:{one:`less than a second`,other:`less than {{count}} seconds`},xSeconds:{one:`1 second`,other:`{{count}} seconds`},halfAMinute:`half a minute`,lessThanXMinutes:{one:`less than a minute`,other:`less than {{count}} minutes`},xMinutes:{one:`1 minute`,other:`{{count}} minutes`},aboutXHours:{one:`about 1 hour`,other:`about {{count}} hours`},xHours:{one:`1 hour`,other:`{{count}} hours`},xDays:{one:`1 day`,other:`{{count}} days`},aboutXWeeks:{one:`about 1 week`,other:`about {{count}} weeks`},xWeeks:{one:`1 week`,other:`{{count}} weeks`},aboutXMonths:{one:`about 1 month`,other:`about {{count}} months`},xMonths:{one:`1 month`,other:`{{count}} months`},aboutXYears:{one:`about 1 year`,other:`about {{count}} years`},xYears:{one:`1 year`,other:`{{count}} years`},overXYears:{one:`over 1 year`,other:`over {{count}} years`},almostXYears:{one:`almost 1 year`,other:`almost {{count}} years`}};const Yi=(e,t,n)=>{let r,i=Ji[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?`in `+r:r+` ago`:r};function Xi(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zi={date:Xi({formats:{full:`EEEE, MMMM do, y`,long:`MMMM do, y`,medium:`MMM d, y`,short:`MM/dd/yyyy`},defaultWidth:`full`}),time:Xi({formats:{full:`h:mm:ss a zzzz`,long:`h:mm:ss a z`,medium:`h:mm:ss a`,short:`h:mm a`},defaultWidth:`full`}),dateTime:Xi({formats:{full:`{{date}} 'at' {{time}}`,long:`{{date}} 'at' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var Qi={lastWeek:`'last' eeee 'at' p`,yesterday:`'yesterday at' p`,today:`'today at' p`,tomorrow:`'tomorrow at' p`,nextWeek:`eeee 'at' p`,other:`P`};const $i=(e,t,n,r)=>Qi[e];function ea(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const ta={ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+`st`;case 2:return n+`nd`;case 3:return n+`rd`}return n+`th`},era:ea({values:{narrow:[`B`,`A`],abbreviated:[`BC`,`AD`],wide:[`Before Christ`,`Anno Domini`]},defaultWidth:`wide`}),quarter:ea({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`Q1`,`Q2`,`Q3`,`Q4`],wide:[`1st quarter`,`2nd quarter`,`3rd quarter`,`4th quarter`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:ea({values:{narrow:[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`],abbreviated:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],wide:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`]},defaultWidth:`wide`}),day:ea({values:{narrow:[`S`,`M`,`T`,`W`,`T`,`F`,`S`],short:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],abbreviated:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],wide:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`]},defaultWidth:`wide`}),dayPeriod:ea({values:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`}},defaultFormattingWidth:`wide`})};function na(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?ia(s,e=>e.test(o)):ra(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function ra(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ia(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function aa(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}const oa={ordinalNumber:aa({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:na({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:`any`}),quarter:na({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:na({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:`any`}),day:na({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:`any`}),dayPeriod:na({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:`any`})},sa={code:`en-US`,formatDistance:Yi,formatLong:Zi,formatRelative:$i,localize:ta,match:oa,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ca(e,t,n){let r=Fi(),i=n?.locale??r.locale??sa,a=Ri(e,t);if(isNaN(a))throw RangeError(`Invalid time value`);let o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[s,c]=Li(n?.in,...a>0?[t,e]:[e,t]),l=qi(c,s),u=(Ii(c)-Ii(s))/1e3,d=Math.round((l-u)/60),f;if(d<2)return n?.includeSeconds?l<5?i.formatDistance(`lessThanXSeconds`,5,o):l<10?i.formatDistance(`lessThanXSeconds`,10,o):l<20?i.formatDistance(`lessThanXSeconds`,20,o):l<40?i.formatDistance(`halfAMinute`,0,o):l<60?i.formatDistance(`lessThanXMinutes`,1,o):i.formatDistance(`xMinutes`,1,o):d===0?i.formatDistance(`lessThanXMinutes`,1,o):i.formatDistance(`xMinutes`,d,o);if(d<45)return i.formatDistance(`xMinutes`,d,o);if(d<90)return i.formatDistance(`aboutXHours`,1,o);if(d<1440){let e=Math.round(d/60);return i.formatDistance(`aboutXHours`,e,o)}else if(d<2520)return i.formatDistance(`xDays`,1,o);else if(d<43200){let e=Math.round(d/1440);return i.formatDistance(`xDays`,e,o)}else if(d<43200*2)return f=Math.round(d/ki),i.formatDistance(`aboutXMonths`,f,o);if(f=Ki(c,s),f<12){let e=Math.round(d/ki);return i.formatDistance(`xMonths`,e,o)}else{let e=f%12,t=Math.trunc(f/12);return e<3?i.formatDistance(`aboutXYears`,t,o):e<9?i.formatDistance(`overXYears`,t,o):i.formatDistance(`almostXYears`,t+1,o)}}function la(e,t){return ca(e,zi(e),t)}var ua=()=>{let e=ke(),{currentSession:t,sessionId:n}=xi(),[r,i]=(0,_.useState)(!0),[a,o]=(0,_.useState)(null),[s,c]=(0,_.useState)(null);(0,_.useEffect)(()=>{n&&l()},[n]);let l=async()=>{i(!0),c(null);try{let e=await _i.getStats({academic_session_id:n});e?.success?o(e.data):c(`Failed to load dashboard data`)}catch(e){console.error(`Dashboard error:`,e),c(`Failed to load dashboard data`)}finally{i(!1)}};if(r)return(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(wr,{className:`w-12 h-12 animate-spin text-indigo-600 mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading dashboard...`})]})});if(s)return(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(zn,{className:`w-16 h-16 text-red-400 mx-auto mb-4`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:s}),(0,Q.jsx)(`button`,{onClick:l,className:`mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg`,children:`Retry`})]})});let u=a?.overview||{},d=a?.genderDistribution||{male:0,female:0,other:0},f=a?.classDistribution||[],p=a?.departmentDistribution||[],m=a?.recentStudents||[],h=a?.recentTeachers||[],g=d.male+d.female+d.other,v=g>0?(d.male/g*100).toFixed(1):0,y=g>0?(d.female/g*100).toFixed(1):0,b=Math.max(...f.map(e=>e.value),1);return(0,Q.jsxs)(`div`,{className:`space-y-6 pb-8`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500 rounded-2xl p-6 text-white shadow-xl`,children:(0,Q.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-3xl font-bold`,children:`Welcome back! `}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Here's what's happening in your school today`})]}),t&&(0,Q.jsx)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-xl px-5 py-3`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Mn,{className:`w-5 h-5`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-sm text-white/70`,children:`Current Session`}),(0,Q.jsx)(`p`,{className:`font-semibold`,children:t.name})]})]})})]})}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:`Total Students`}),(0,Q.jsx)(`p`,{className:`text-4xl font-bold text-gray-800 mt-2`,children:u.totalStudents?.toLocaleString()}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mt-3`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full`,children:[(0,Q.jsx)(Br,{className:`w-3 h-3`}),`+`,u.newStudentsThisMonth||0,` this month`]})})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl shadow-lg`,children:(0,Q.jsx)(Jr,{className:`w-8 h-8 text-white`})})]}),(0,Q.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm`,children:[(0,Q.jsxs)(`span`,{className:`text-gray-500`,children:[`Active: `,(0,Q.jsx)(`strong`,{className:`text-gray-700`,children:u.activeStudents})]}),(0,Q.jsxs)(`span`,{className:`text-gray-500`,children:[`Inactive: `,(0,Q.jsx)(`strong`,{className:`text-gray-700`,children:u.inactiveStudents})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:`Total Teachers`}),(0,Q.jsx)(`p`,{className:`text-4xl font-bold text-gray-800 mt-2`,children:u.totalTeachers?.toLocaleString()}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mt-3`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full`,children:[(0,Q.jsx)(Ur,{className:`w-3 h-3`}),u.activeTeachers,` active`]})})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl shadow-lg`,children:(0,Q.jsx)(Wr,{className:`w-8 h-8 text-white`})})]}),(0,Q.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm`,children:[(0,Q.jsxs)(`span`,{className:`text-gray-500`,children:[`On Leave: `,(0,Q.jsx)(`strong`,{className:`text-gray-700`,children:u.teachersOnLeave||0})]}),(0,Q.jsxs)(`span`,{className:`text-gray-500`,children:[`New: `,(0,Q.jsxs)(`strong`,{className:`text-gray-700`,children:[`+`,u.newTeachersThisMonth||0]})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:`Student-Teacher Ratio`}),(0,Q.jsxs)(`p`,{className:`text-4xl font-bold text-gray-800 mt-2`,children:[u.studentTeacherRatio,`:1`]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mt-3`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full`,children:[(0,Q.jsx)(Lr,{className:`w-3 h-3`}),`Optimal range: 20-25`]})})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg`,children:(0,Q.jsx)(Nn,{className:`w-8 h-8 text-white`})})]}),(0,Q.jsx)(`div`,{className:`mt-4 pt-4 border-t border-gray-100`,children:(0,Q.jsx)(`div`,{className:`w-full bg-gray-100 rounded-full h-2`,children:(0,Q.jsx)(`div`,{className:`h-2 rounded-full ${parseFloat(u.studentTeacherRatio)<=25?`bg-green-500`:`bg-amber-500`}`,style:{width:`${Math.min(parseFloat(u.studentTeacherRatio)/40*100,100)}%`}})})})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:`Fee Types Configured`}),(0,Q.jsx)(`p`,{className:`text-4xl font-bold text-gray-800 mt-2`,children:u.totalFeeTypes}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mt-3`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-full`,children:[(0,Q.jsx)(tr,{className:`w-3 h-3`}),``,(u.totalConfiguredFees||0).toLocaleString()]})})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl shadow-lg`,children:(0,Q.jsx)(tr,{className:`w-8 h-8 text-white`})})]}),(0,Q.jsx)(`div`,{className:`mt-4 pt-4 border-t border-gray-100`,children:(0,Q.jsxs)(`button`,{onClick:()=>e(`/settings/fees`),className:`text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1`,children:[`Manage Fees `,(0,Q.jsx)(Rn,{className:`w-4 h-4`})]})})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Pn,{className:`w-5 h-5 text-indigo-600`}),`Gender Distribution`]})}),(0,Q.jsx)(`div`,{className:`flex items-center justify-center mb-6`,children:(0,Q.jsxs)(`div`,{className:`relative w-40 h-40`,children:[(0,Q.jsx)(`div`,{className:`w-full h-full rounded-full`,style:{background:`conic-gradient(
                    #3B82F6 0% ${v}%, 
                    #EC4899 ${v}% ${parseFloat(v)+parseFloat(y)}%, 
                    #8B5CF6 ${parseFloat(v)+parseFloat(y)}% 100%
                  )`}}),(0,Q.jsx)(`div`,{className:`absolute inset-4 bg-white rounded-full flex items-center justify-center`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-gray-800`,children:g}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Total`})]})})]})}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-blue-500`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Male`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`font-semibold text-gray-800`,children:d.male}),(0,Q.jsxs)(`span`,{className:`text-xs text-gray-400`,children:[`(`,v,`%)`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-pink-500`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Female`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`font-semibold text-gray-800`,children:d.female}),(0,Q.jsxs)(`span`,{className:`text-xs text-gray-400`,children:[`(`,y,`%)`]})]})]}),d.other>0&&(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`div`,{className:`w-3 h-3 rounded-full bg-purple-500`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Other`})]}),(0,Q.jsx)(`span`,{className:`font-semibold text-gray-800`,children:d.other})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 lg:col-span-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Nn,{className:`w-5 h-5 text-indigo-600`}),`Students by Class`]}),(0,Q.jsx)(`button`,{onClick:()=>e(`/students`),className:`text-sm text-indigo-600 hover:text-indigo-700 font-medium`,children:`View All`})]}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[f.slice(0,8).map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-20 text-sm font-medium text-gray-600 truncate`,children:e.name}),(0,Q.jsx)(`div`,{className:`flex-1`,children:(0,Q.jsx)(`div`,{className:`h-6 bg-gray-100 rounded-lg overflow-hidden`,children:(0,Q.jsx)(`div`,{className:`h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-end pr-2`,style:{width:`${Math.max(e.value/b*100,5)}%`},children:(0,Q.jsx)(`span`,{className:`text-xs font-medium text-white`,children:e.value})})})})]},t)),f.length===0&&(0,Q.jsx)(`p`,{className:`text-center text-gray-400 py-8`,children:`No class data available`})]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Zn,{className:`w-5 h-5 text-blue-600`}),`Recent Admissions`]}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/students`),className:`text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1`,children:[`View All `,(0,Q.jsx)(Rn,{className:`w-4 h-4`})]})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[m.slice(0,5).map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 transition-colors`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center text-white font-bold`,children:e.name.split(` `).map(e=>e[0]).join(``).toUpperCase().slice(0,2)}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 truncate`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 truncate`,children:e.className})]}),(0,Q.jsxs)(`div`,{className:`text-right`,children:[(0,Q.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:e.admissionNumber||`N/A`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-400`,children:la(new Date(e.createdAt),{addSuffix:!0})})]})]},e.id)),m.length===0&&(0,Q.jsx)(`p`,{className:`text-center text-gray-400 py-8`,children:`No recent admissions`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Dn,{className:`w-5 h-5 text-emerald-600`}),`Recent Staff`]}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/teachers`),className:`text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1`,children:[`View All `,(0,Q.jsx)(Rn,{className:`w-4 h-4`})]})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[h.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 transition-colors`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center text-white font-bold`,children:e.name.split(` `).map(e=>e[0]).join(``).toUpperCase().slice(0,2)}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 truncate`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 truncate`,children:e.department})]}),(0,Q.jsx)(`div`,{className:`text-right`,children:(0,Q.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status===`active`?`bg-green-100 text-green-700`:`bg-gray-100 text-gray-600`}`,children:e.status})})]},e.id)),h.length===0&&(0,Q.jsx)(`p`,{className:`text-center text-gray-400 py-8`,children:`No recent staff additions`})]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(On,{className:`w-5 h-5 text-purple-600`}),`Teachers by Department`]})}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[p.slice(0,6).map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-3 rounded-xl bg-gray-50`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700 truncate`,children:e.name}),(0,Q.jsx)(`span`,{className:`px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold`,children:e.count})]},t)),p.length===0&&(0,Q.jsx)(`p`,{className:`text-center text-gray-400 py-4`,children:`No department data`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-lg border border-gray-100 lg:col-span-2`,children:[(0,Q.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(bn,{className:`w-5 h-5 text-indigo-600`}),`Quick Actions`]})}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:[(0,Q.jsxs)(`button`,{onClick:()=>e(`/students`),className:`flex flex-col items-center gap-3 p-5 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 border border-blue-100 transition-all group`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-blue-500 rounded-xl text-white group-hover:scale-110 transition-transform`,children:(0,Q.jsx)(Gr,{className:`w-6 h-6`})}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Add Student`})]}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/teachers`),className:`flex flex-col items-center gap-3 p-5 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 hover:from-emerald-100 hover:to-teal-100 border border-emerald-100 transition-all group`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-emerald-500 rounded-xl text-white group-hover:scale-110 transition-transform`,children:(0,Q.jsx)(Wr,{className:`w-6 h-6`})}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Add Teacher`})]}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/settings/class-configuration`),className:`flex flex-col items-center gap-3 p-5 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 border border-purple-100 transition-all group`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-purple-500 rounded-xl text-white group-hover:scale-110 transition-transform`,children:(0,Q.jsx)(En,{className:`w-6 h-6`})}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Manage Classes`})]}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/settings`),className:`flex flex-col items-center gap-3 p-5 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 border border-amber-100 transition-all group`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-amber-500 rounded-xl text-white group-hover:scale-110 transition-transform`,children:(0,Q.jsx)(Or,{className:`w-6 h-6`})}),(0,Q.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Settings`})]})]})]})]}),(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm`,children:`Active Classes`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold mt-1`,children:f.length})]}),(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm`,children:`Departments`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold mt-1`,children:p.length})]}),(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm`,children:`New This Week`}),(0,Q.jsxs)(`p`,{className:`text-3xl font-bold mt-1`,children:[`+`,u.newStudentsThisWeek||0]})]}),(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm`,children:`System Status`}),(0,Q.jsxs)(`p`,{className:`text-lg font-bold mt-1 text-green-400 flex items-center justify-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`w-2 h-2 bg-green-400 rounded-full animate-pulse`}),`All Systems Go`]})]})]})})]})},da=()=>{let e=ke(),{currentSession:t,sessionId:n}=xi(),[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)(null),[s,c]=(0,_.useState)([]),[l,u]=(0,_.useState)([]),[d,f]=(0,_.useState)({page:1,limit:25,total:0,totalPages:0}),[p,m]=(0,_.useState)({search:``,class_section_id:``,class_grade_id:``,status:`active`}),[h,g]=(0,_.useState)(!0),[v,y]=(0,_.useState)(!1),[b,x]=(0,_.useState)(`add`),[S,C]=(0,_.useState)(null),[w,T]=(0,_.useState)(`personal`),[E,D]=(0,_.useState)(!1),[O,k]=(0,_.useState)(!1),[A,j]=(0,_.useState)(!1),[M,N]=(0,_.useState)({classSectionId:``,csvData:``}),[P,F]=(0,_.useState)(null),[I,L]=(0,_.useState)(!1),[R,z]=(0,_.useState)(!1),ee=(0,_.useRef)(null),[B,V]=(0,_.useState)(null),[H,U]=(0,_.useState)(!1),[W,G]=(0,_.useState)(K());function K(){return{admissionNumber:``,admissionDate:new Date().toISOString().split(`T`)[0],classSectionId:``,rollNumber:``,firstName:``,middleName:``,lastName:``,dateOfBirth:``,gender:``,bloodGroup:``,nationality:`Indian`,religion:``,caste:``,category:``,email:``,phone:``,alternatePhone:``,address:{line1:``,line2:``,city:``,state:``,pincode:``,country:`India`},aadharNumber:``,medicalConditions:``,allergies:``,usesTransport:!1,pickupPoint:``,previousSchool:{name:``,address:``,class:``,tcNumber:``},parents:[]}}(0,_.useEffect)(()=>{n&&te()},[n]),(0,_.useEffect)(()=>{n&&(ne(),re())},[d.page,p,n]);let te=async()=>{g(!0);try{try{let e=await li.getClassSections({academic_session_id:n});e?.success&&c(e.data||[])}catch(e){console.error(`Error fetching class sections:`,e)}try{let e=await li.getClassGrades({academic_session_id:n});e?.success&&u(e.data||[])}catch(e){console.error(`Error fetching grades:`,e)}}catch(e){console.error(`Error fetching initial data:`,e)}finally{g(!1)}},ne=async()=>{try{let e={...p,academic_session_id:n,page:d.page,limit:d.limit};Object.keys(e).forEach(t=>{e[t]||delete e[t]});let t=await ii.getAll(e);t?.success&&(i(t.data||[]),f(e=>({...e,...t.pagination})))}catch(e){console.error(`Error fetching students:`,e)}},re=async()=>{try{let e=await ii.getStats({academic_session_id:n});e?.success&&o(e.data)}catch(e){console.error(`Error fetching stats:`,e)}},ie=async(e,t=null)=>{if(x(e),T(`personal`),V(null),e===`add`)try{let e=await gi.getNextAdmissionNumber();e?.success&&G({...K(),admissionNumber:e.data.nextAdmissionNumber,academicSessionId:n})}catch{G({...K(),academicSessionId:n})}else if(t&&(e===`view`||e===`edit`))try{let r=await ii.getById(t.id);r?.success&&(C(r.data),G({...r.data,academicSessionId:r.data.academicSessionId||n}),e===`view`&&ae(t.id))}catch{Z.error(`Failed to load student details`);return}y(!0)},ae=async e=>{U(!0);try{let t=await ii.getAcademicMapping(e);t?.success&&V(t.data)}catch(e){console.error(`Error fetching academic mapping:`,e)}finally{U(!1)}},oe=()=>{y(!1),C(null),G(K()),T(`personal`),V(null)},q=async(e,t)=>{if(e.includes(`.`)){let[n,r]=e.split(`.`);G(e=>({...e,[n]:{...e[n],[r]:t}}))}else if(G(n=>({...n,[e]:t})),e===`classSectionId`&&t&&b===`add`)try{let r=await gi.getNextRollNumber(t,n);r?.success&&r.data?.nextRollNumber&&G(n=>({...n,[e]:t,rollNumber:r.data.nextRollNumber}))}catch(e){console.error(`Error fetching next roll number:`,e)}},se=async()=>{if(!W.firstName||!W.lastName){Z.error(`First name and last name are required`);return}D(!0);try{let e={...W,academicSessionId:n},t;t=b===`add`?await ii.create(e):await ii.update(S.id,e),t?.success?(Z.success(t.message||(b===`add`?`Student added successfully`:`Student updated successfully`)),oe(),ne(),re()):Z.error(t?.message||`Operation failed`)}catch(e){console.error(`Error saving student:`,e),Z.error(`Failed to save student`)}finally{D(!1)}},ce=async e=>{if(confirm(`Are you sure you want to deactivate ${e.fullName}?`))try{(await ii.delete(e.id))?.success&&(Z.success(`Student deactivated successfully`),ne(),re())}catch{Z.error(`Failed to deactivate student`)}},le=()=>{G(e=>({...e,parents:[...e.parents,{relationship:`father`,isPrimaryContact:e.parents.length===0,firstName:``,lastName:``,phone:``,email:``,occupation:``,sameAsStudentAddress:!0}]}))},ue=(e,t,n)=>{G(r=>({...r,parents:r.parents.map((r,i)=>i===e?{...r,[t]:n}:r)}))},de=e=>{G(t=>({...t,parents:t.parents.filter((t,n)=>n!==e)}))},fe=e=>{let t={active:`bg-green-100 text-green-700`,inactive:`bg-gray-100 text-gray-700`,transferred:`bg-amber-100 text-amber-700`,passed_out:`bg-blue-100 text-blue-700`,dropped:`bg-red-100 text-red-700`};return t[e]||t.active},pe=async()=>{L(!0);try{let e={academic_session_id:n,...p};Object.keys(e).forEach(t=>!e[t]&&delete e[t]);let t=await ii.export(e),r=window.URL.createObjectURL(t),i=document.createElement(`a`);i.href=r,i.download=`students_export_${new Date().toISOString().split(`T`)[0]}.csv`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i),Z.success(`Students exported successfully`),j(!1)}catch(e){console.error(`Export error:`,e),Z.error(`Failed to export students`)}finally{L(!1)}},me=async()=>{try{let e=await ii.getImportTemplate(),t=window.URL.createObjectURL(e),n=document.createElement(`a`);n.href=t,n.download=`student_import_template.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t),document.body.removeChild(n),Z.success(`Template downloaded`)}catch{Z.error(`Failed to download template`)}},he=e=>{let t=e.target.files?.[0];if(!t)return;if(!t.name.endsWith(`.csv`)){Z.error(`Please select a CSV file`);return}let n=new FileReader;n.onload=e=>{N(t=>({...t,csvData:e.target.result}))},n.readAsText(t)},J=async()=>{if(!M.csvData){Z.error(`Please select a CSV file`);return}z(!0),F(null);try{let e=await ii.import({csvData:M.csvData,classSectionId:M.classSectionId||null,academicSessionId:n});e?.success?(F(e.data),Z.success(e.message),ne(),re()):Z.error(e?.message||`Import failed`)}catch(e){console.error(`Import error:`,e),Z.error(`Failed to import students`)}finally{z(!1)}},ge=()=>{k(!1),N({classSectionId:``,csvData:``}),F(null),ee.current&&(ee.current.value=``)};return h?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsx)(wr,{className:`w-8 h-8 animate-spin text-indigo-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 rounded-3xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Jr,{className:`w-9 h-9`}),`Student Management`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Manage student admissions, profiles, and records`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`button`,{onClick:()=>k(!0),className:`flex items-center gap-2 px-4 py-2.5 bg-white/20 text-white rounded-xl font-medium hover:bg-white/30 transition-all`,children:[(0,Q.jsx)(Hr,{className:`w-4 h-4`}),`Import`]}),(0,Q.jsxs)(`button`,{onClick:()=>j(!0),className:`flex items-center gap-2 px-4 py-2.5 bg-white/20 text-white rounded-xl font-medium hover:bg-white/30 transition-all`,children:[(0,Q.jsx)(Kn,{className:`w-4 h-4`}),`Export`]}),(0,Q.jsxs)(`button`,{onClick:()=>ie(`add`),className:`flex items-center gap-2 px-6 py-3 bg-white text-teal-600 rounded-2xl font-semibold hover:bg-white/90 transition-all shadow-lg`,children:[(0,Q.jsx)(Gr,{className:`w-5 h-5`}),`Add Student`]})]})]}),a&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mt-6 pt-6 border-t border-white/20`,children:[(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Total Students`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold`,children:a.summary?.total||0})]}),(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Active`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-green-300`,children:a.summary?.active||0})]}),(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Male`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold`,children:a.summary?.male||0})]}),(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Female`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold`,children:a.summary?.female||0})]}),(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Transferred`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-amber-300`,children:a.summary?.transferred||0})]}),(0,Q.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-4 backdrop-blur-sm`,children:[(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Passed Out`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-blue-300`,children:a.summary?.passedOut||0})]})]})]}),(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-lg p-5`,children:(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`relative flex-1 min-w-[250px]`,children:[(0,Q.jsx)(Dr,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search by name, admission number, phone...`,value:p.search,onChange:e=>{m(t=>({...t,search:e.target.value})),f(e=>({...e,page:1}))},className:`w-full pl-12 pr-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-teal-500`})]}),(0,Q.jsxs)(`select`,{value:p.class_section_id,onChange:e=>{m(t=>({...t,class_section_id:e.target.value})),f(e=>({...e,page:1}))},className:`px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-teal-500 min-w-[180px]`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),s.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeName||e.gradeDisplayName,` - `,e.sectionName]},e.id))]}),(0,Q.jsxs)(`select`,{value:p.status,onChange:e=>{m(t=>({...t,status:e.target.value})),f(e=>({...e,page:1}))},className:`px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:`active`,children:`Active`}),(0,Q.jsx)(`option`,{value:`inactive`,children:`Inactive`}),(0,Q.jsx)(`option`,{value:`transferred`,children:`Transferred`}),(0,Q.jsx)(`option`,{value:`passed_out`,children:`Passed Out`}),(0,Q.jsx)(`option`,{value:`all`,children:`All Status`})]}),(0,Q.jsx)(`button`,{onClick:()=>{ne(),re()},className:`p-3 text-gray-600 hover:bg-gray-100 rounded-xl`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-50 border-b border-gray-100`,children:[(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Student`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Admission No.`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Class`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Roll No.`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Gender`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-left text-sm font-semibold text-gray-600`,children:`Contact`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-center text-sm font-semibold text-gray-600`,children:`Status`}),(0,Q.jsx)(`th`,{className:`px-4 py-4 text-center text-sm font-semibold text-gray-600`,children:`Actions`})]})}),(0,Q.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:r.length===0?(0,Q.jsx)(`tr`,{children:(0,Q.jsxs)(`td`,{colSpan:8,className:`px-4 py-12 text-center text-gray-400`,children:[(0,Q.jsx)(Jr,{className:`w-12 h-12 mx-auto mb-3 opacity-50`}),(0,Q.jsx)(`p`,{className:`text-lg font-medium`,children:`No students found`}),(0,Q.jsx)(`p`,{className:`text-sm`,children:`Add students to get started`})]})}):r.map(t=>(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50 transition-colors`,children:[(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white font-bold`,children:[t.firstName?.[0],t.lastName?.[0]]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:t.fullName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:t.email||`No email`})]})]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsx)(`span`,{className:`font-mono text-sm text-gray-700`,children:t.admissionNumber||`-`})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsx)(`span`,{className:`text-gray-700`,children:t.className||`Not assigned`})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsx)(`span`,{className:`text-gray-700`,children:t.rollNumber||`-`})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsx)(`span`,{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t.gender===`male`?`bg-blue-100 text-blue-700`:t.gender===`female`?`bg-pink-100 text-pink-700`:`bg-gray-100 text-gray-700`}`,children:t.gender||`N/A`})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsx)(`div`,{className:`text-sm text-gray-600`,children:t.phone&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(br,{className:`w-3 h-3`}),t.phone]})})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 text-center`,children:(0,Q.jsx)(`span`,{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${fe(t.status)}`,children:t.status})}),(0,Q.jsx)(`td`,{className:`px-4 py-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-center gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>e(`/students/${t.id}`),className:`p-2 text-gray-500 hover:text-teal-600 hover:bg-teal-50 rounded-lg`,title:`View`,children:(0,Q.jsx)(Jn,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>e(`/students/${t.id}?mode=edit`),className:`p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg`,title:`Edit`,children:(0,Q.jsx)(jr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>ce(t),className:`p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg`,title:`Delete`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})})]},t.id))})]})}),d.totalPages>1&&(0,Q.jsxs)(`div`,{className:`flex items-center justify-between px-6 py-4 border-t border-gray-100`,children:[(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[`Showing `,(d.page-1)*d.limit+1,` to `,Math.min(d.page*d.limit,d.total),` of `,d.total,` students`]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`button`,{onClick:()=>f(e=>({...e,page:e.page-1})),disabled:d.page===1,className:`p-2 rounded-lg border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsxs)(`span`,{className:`px-4 py-2 font-medium`,children:[`Page `,d.page,` of `,d.totalPages]}),(0,Q.jsx)(`button`,{onClick:()=>f(e=>({...e,page:e.page+1})),disabled:d.page===d.totalPages,className:`p-2 rounded-lg border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50`,children:(0,Q.jsx)(Rn,{className:`w-5 h-5`})})]})]})]}),v&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-start justify-center z-50 p-4 overflow-y-auto`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-4xl my-8`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-teal-600 to-cyan-600 p-6 rounded-t-3xl text-white`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(qr,{className:`w-8 h-8`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-bold`,children:b===`add`?`New Student Admission`:b===`edit`?`Edit Student`:`Student Details`}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:b===`add`?`Fill in the student information`:W.admissionNumber||`Student Profile`})]})]}),(0,Q.jsx)(`button`,{onClick:oe,className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-6 h-6`})})]}),(0,Q.jsx)(`div`,{className:`flex gap-2 mt-6 overflow-x-auto pb-2`,children:[{id:`personal`,label:`Personal`,icon:qr},{id:`contact`,label:`Contact`,icon:br},{id:`academic`,label:`Academic`,icon:Zn},{id:`parents`,label:`Parents`,icon:Jr},{id:`other`,label:`Other`,icon:Xn}].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>T(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${w===e.id?`bg-white text-teal-600`:`text-white/70 hover:text-white hover:bg-white/10`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label]},e.id))})]}),(0,Q.jsxs)(`div`,{className:`p-6 max-h-[60vh] overflow-y-auto`,children:[w===`personal`&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`First Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:W.firstName,onChange:e=>q(`firstName`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`First name`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Middle Name`}),(0,Q.jsx)(`input`,{type:`text`,value:W.middleName,onChange:e=>q(`middleName`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Middle name`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Last Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:W.lastName,onChange:e=>q(`lastName`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Last name`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Date of Birth`}),(0,Q.jsx)(`input`,{type:`date`,value:W.dateOfBirth||``,onChange:e=>q(`dateOfBirth`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Gender`}),(0,Q.jsxs)(`select`,{value:W.gender,onChange:e=>q(`gender`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select gender`}),(0,Q.jsx)(`option`,{value:`male`,children:`Male`}),(0,Q.jsx)(`option`,{value:`female`,children:`Female`}),(0,Q.jsx)(`option`,{value:`other`,children:`Other`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Blood Group`}),(0,Q.jsxs)(`select`,{value:W.bloodGroup,onChange:e=>q(`bloodGroup`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select blood group`}),[`A+`,`A-`,`B+`,`B-`,`AB+`,`AB-`,`O+`,`O-`].map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Nationality`}),(0,Q.jsx)(`input`,{type:`text`,value:W.nationality,onChange:e=>q(`nationality`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Religion`}),(0,Q.jsx)(`input`,{type:`text`,value:W.religion,onChange:e=>q(`religion`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Religion`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Category`}),(0,Q.jsxs)(`select`,{value:W.category,onChange:e=>q(`category`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select category`}),(0,Q.jsx)(`option`,{value:`General`,children:`General`}),(0,Q.jsx)(`option`,{value:`OBC`,children:`OBC`}),(0,Q.jsx)(`option`,{value:`SC`,children:`SC`}),(0,Q.jsx)(`option`,{value:`ST`,children:`ST`}),(0,Q.jsx)(`option`,{value:`EWS`,children:`EWS`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Aadhar Number`}),(0,Q.jsx)(`input`,{type:`text`,value:W.aadharNumber,onChange:e=>q(`aadharNumber`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`12 digit Aadhar`,maxLength:12})]})]}),w===`contact`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Email`}),(0,Q.jsx)(`input`,{type:`email`,value:W.email,onChange:e=>q(`email`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`student@email.com`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Phone`}),(0,Q.jsx)(`input`,{type:`tel`,value:W.phone,onChange:e=>q(`phone`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`+91 XXXXX XXXXX`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Alternate Phone`}),(0,Q.jsx)(`input`,{type:`tel`,value:W.alternatePhone,onChange:e=>q(`alternatePhone`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`+91 XXXXX XXXXX`})]})]}),(0,Q.jsxs)(`div`,{className:`border-t pt-4`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(pr,{className:`w-4 h-4`}),`Address`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Address Line 1`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.line1||``,onChange:e=>q(`address.line1`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`House no, Street name`})]}),(0,Q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Address Line 2`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.line2||``,onChange:e=>q(`address.line2`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Locality, Landmark`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`City`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.city||``,onChange:e=>q(`address.city`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`State`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.state||``,onChange:e=>q(`address.state`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Pincode`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.pincode||``,onChange:e=>q(`address.pincode`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,maxLength:6})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Country`}),(0,Q.jsx)(`input`,{type:`text`,value:W.address?.country||`India`,onChange:e=>q(`address.country`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]})]})]})]}),w===`academic`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Admission Number`}),(0,Q.jsx)(`input`,{type:`text`,value:W.admissionNumber,onChange:e=>q(`admissionNumber`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100 font-mono`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Admission Date`}),(0,Q.jsx)(`input`,{type:`date`,value:W.admissionDate||``,onChange:e=>q(`admissionDate`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class & Section`}),(0,Q.jsxs)(`select`,{value:W.classSectionId,onChange:e=>q(`classSectionId`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select class`}),s.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeName||e.gradeDisplayName,` - `,e.sectionName]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Roll Number`}),(0,Q.jsx)(`input`,{type:`text`,value:W.rollNumber,onChange:e=>q(`rollNumber`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]})]}),b===`view`&&(0,Q.jsx)(`div`,{className:`border-t pt-4`,children:H?(0,Q.jsxs)(`div`,{className:`flex items-center justify-center py-8`,children:[(0,Q.jsx)(wr,{className:`w-6 h-6 animate-spin text-teal-600`}),(0,Q.jsx)(`span`,{className:`ml-2 text-gray-500`,children:`Loading academic details...`})]}):B?(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-3`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-3 border border-teal-100`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-teal-600 font-medium`,children:`Total Subjects`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-teal-700`,children:B.summary?.totalSubjects||0})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-100`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-blue-600 font-medium`,children:`Teachers`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-blue-700`,children:B.summary?.totalTeachers||0})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-3 border border-amber-100`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-amber-600 font-medium`,children:`Total Fees`}),(0,Q.jsxs)(`p`,{className:`text-xl font-bold text-amber-700`,children:[``,(B.summary?.totalFees||0).toLocaleString()]})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-3 border border-purple-100`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-purple-600 font-medium`,children:`Class Teacher`}),(0,Q.jsx)(`p`,{className:`text-sm font-semibold text-purple-700 truncate`,children:B.summary?.classTeacher?.name||`Not Assigned`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-3 flex items-center gap-2`,children:[(0,Q.jsx)(Zn,{className:`w-4 h-4 text-teal-600`}),`Subjects & Teachers (`,B.subjects?.length||0,`)`]}),B.subjects?.length>0?(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-2`,children:B.subjects.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg border`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.code&&(0,Q.jsx)(`span`,{className:`mr-2`,children:e.code}),(0,Q.jsx)(`span`,{className:`px-1.5 py-0.5 rounded text-xs ${e.isOptional?`bg-amber-100 text-amber-700`:`bg-teal-100 text-teal-700`}`,children:e.isOptional?`Optional`:`Mandatory`})]})]}),(0,Q.jsx)(`div`,{className:`text-right`,children:e.teacher?(0,Q.jsx)(`p`,{className:`text-sm text-gray-700`,children:e.teacher.name}):(0,Q.jsx)(`p`,{className:`text-xs text-gray-400 italic`,children:`No teacher`})})]},t))}):(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm py-4 text-center`,children:`No subjects configured for this class`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-3 flex items-center gap-2`,children:[(0,Q.jsx)(Xn,{className:`w-4 h-4 text-amber-600`}),`Applicable Fees (`,B.fees?.items?.length||0,`)`]}),B.fees?.items?.length>0?(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full text-sm`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-100 text-gray-600`,children:[(0,Q.jsx)(`th`,{className:`px-3 py-2 text-left rounded-l-lg`,children:`Fee Type`}),(0,Q.jsx)(`th`,{className:`px-3 py-2 text-left`,children:`Category`}),(0,Q.jsx)(`th`,{className:`px-3 py-2 text-right`,children:`Amount`}),(0,Q.jsx)(`th`,{className:`px-3 py-2 text-left rounded-r-lg`,children:`Due Date`})]})}),(0,Q.jsxs)(`tbody`,{className:`divide-y divide-gray-100`,children:[B.fees.items.map((e,t)=>(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,Q.jsx)(`td`,{className:`px-3 py-2 font-medium`,children:e.feeType}),(0,Q.jsx)(`td`,{className:`px-3 py-2 capitalize`,children:e.category}),(0,Q.jsxs)(`td`,{className:`px-3 py-2 text-right font-semibold text-amber-700`,children:[``,e.amount.toLocaleString()]}),(0,Q.jsx)(`td`,{className:`px-3 py-2 text-gray-600`,children:e.dueDate?new Date(e.dueDate).toLocaleDateString():`-`})]},t)),(0,Q.jsxs)(`tr`,{className:`bg-amber-50 font-semibold`,children:[(0,Q.jsx)(`td`,{colSpan:2,className:`px-3 py-2 text-right`,children:`Total:`}),(0,Q.jsxs)(`td`,{className:`px-3 py-2 text-right text-amber-700`,children:[``,B.fees.totalAmount?.toLocaleString()||0]}),(0,Q.jsx)(`td`,{})]})]})]})}):(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm py-4 text-center`,children:`No fee structure configured for this class`})]})]}):(0,Q.jsx)(`p`,{className:`text-gray-400 text-sm py-4 text-center`,children:W.classSectionId?`Unable to load academic mapping`:`Assign a class to view academic details`})}),(0,Q.jsxs)(`div`,{className:`border-t pt-4 mt-2`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(kn,{className:`w-4 h-4`}),`Previous School Details`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`School Name`}),(0,Q.jsx)(`input`,{type:`text`,value:W.previousSchool?.name||``,onChange:e=>q(`previousSchool.name`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Last Class Attended`}),(0,Q.jsx)(`input`,{type:`text`,value:W.previousSchool?.class||``,onChange:e=>q(`previousSchool.class`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`School Address`}),(0,Q.jsx)(`textarea`,{value:W.previousSchool?.address||``,onChange:e=>q(`previousSchool.address`,e.target.value),disabled:b===`view`,rows:2,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`TC Number`}),(0,Q.jsx)(`input`,{type:`text`,value:W.previousSchool?.tcNumber||``,onChange:e=>q(`previousSchool.tcNumber`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]})]})]})]}),w===`parents`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[W.parents?.length===0&&b!==`view`&&(0,Q.jsxs)(`div`,{className:`text-center py-8 text-gray-400`,children:[(0,Q.jsx)(Jr,{className:`w-12 h-12 mx-auto mb-3 opacity-50`}),(0,Q.jsx)(`p`,{children:`No parents/guardians added yet`})]}),W.parents?.map((e,t)=>(0,Q.jsxs)(`div`,{className:`bg-gray-50 rounded-xl p-4 border border-gray-200`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`h5`,{className:`font-semibold text-gray-700`,children:[e.relationship===`father`?`Father`:e.relationship===`mother`?`Mother`:e.relationship===`guardian`?`Guardian`:`Parent`,` Details`]}),b!==`view`&&(0,Q.jsx)(`button`,{onClick:()=>de(t),className:`p-1 text-red-500 hover:bg-red-50 rounded`,children:(0,Q.jsx)(X,{className:`w-4 h-4`})})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Relationship`}),(0,Q.jsxs)(`select`,{value:e.relationship,onChange:e=>ue(t,`relationship`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,children:[(0,Q.jsx)(`option`,{value:`father`,children:`Father`}),(0,Q.jsx)(`option`,{value:`mother`,children:`Mother`}),(0,Q.jsx)(`option`,{value:`guardian`,children:`Guardian`}),(0,Q.jsx)(`option`,{value:`other`,children:`Other`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`First Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:e.firstName,onChange:e=>ue(t,`firstName`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Last Name`}),(0,Q.jsx)(`input`,{type:`text`,value:e.lastName||``,onChange:e=>ue(t,`lastName`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Phone *`}),(0,Q.jsx)(`input`,{type:`tel`,value:e.phone,onChange:e=>ue(t,`phone`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Email`}),(0,Q.jsx)(`input`,{type:`email`,value:e.email||``,onChange:e=>ue(t,`email`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Occupation`}),(0,Q.jsx)(`input`,{type:`text`,value:e.occupation||``,onChange:e=>ue(t,`occupation`,e.target.value),disabled:b===`view`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`primary-${t}`,checked:e.isPrimaryContact,onChange:e=>ue(t,`isPrimaryContact`,e.target.checked),disabled:b===`view`,className:`w-4 h-4 text-teal-600 border-gray-300 rounded`}),(0,Q.jsx)(`label`,{htmlFor:`primary-${t}`,className:`text-sm text-gray-700`,children:`Primary Contact`})]})]})]},t)),b!==`view`&&(0,Q.jsxs)(`button`,{onClick:le,className:`w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-teal-400 hover:text-teal-600 flex items-center justify-center gap-2`,children:[(0,Q.jsx)(Gr,{className:`w-5 h-5`}),`Add Parent/Guardian`]})]}),w===`other`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(er,{className:`w-4 h-4 text-red-500`}),`Medical Information`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Medical Conditions`}),(0,Q.jsx)(`textarea`,{value:W.medicalConditions,onChange:e=>q(`medicalConditions`,e.target.value),disabled:b===`view`,rows:2,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Any medical conditions...`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Allergies`}),(0,Q.jsx)(`textarea`,{value:W.allergies,onChange:e=>q(`allergies`,e.target.value),disabled:b===`view`,rows:2,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Any allergies...`})]})]})]}),(0,Q.jsxs)(`div`,{className:`border-t pt-4`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(An,{className:`w-4 h-4 text-amber-500`}),`Transport`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`usesTransport`,checked:W.usesTransport,onChange:e=>q(`usesTransport`,e.target.checked),disabled:b===`view`,className:`w-4 h-4 text-teal-600 border-gray-300 rounded`}),(0,Q.jsx)(`label`,{htmlFor:`usesTransport`,className:`text-sm text-gray-700`,children:`Uses School Transport`})]}),W.usesTransport&&(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Pickup Point`}),(0,Q.jsx)(`input`,{type:`text`,value:W.pickupPoint,onChange:e=>q(`pickupPoint`,e.target.value),disabled:b===`view`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 disabled:bg-gray-100`,placeholder:`Bus stop / pickup location`})]})]})]}),b===`edit`&&(0,Q.jsxs)(`div`,{className:`border-t pt-4`,children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800 mb-4`,children:`Status`}),(0,Q.jsxs)(`select`,{value:W.status,onChange:e=>q(`status`,e.target.value),className:`px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:`active`,children:`Active`}),(0,Q.jsx)(`option`,{value:`inactive`,children:`Inactive`}),(0,Q.jsx)(`option`,{value:`transferred`,children:`Transferred`}),(0,Q.jsx)(`option`,{value:`passed_out`,children:`Passed Out`}),(0,Q.jsx)(`option`,{value:`dropped`,children:`Dropped`})]})]})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 rounded-b-3xl flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:oe,className:`px-6 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:b===`view`?`Close`:`Cancel`}),b!==`view`&&(0,Q.jsxs)(`button`,{onClick:se,disabled:E,className:`px-6 py-2.5 bg-teal-600 text-white rounded-xl font-medium hover:bg-teal-700 disabled:opacity-50 flex items-center gap-2`,children:[E?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Er,{className:`w-4 h-4`}),b===`add`?`Add Student`:`Save Changes`]})]})]})}),A&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Kn,{className:`w-6 h-6 text-teal-600`}),`Export Students`]}),(0,Q.jsx)(`button`,{onClick:()=>j(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`bg-teal-50 rounded-xl p-4`,children:[(0,Q.jsx)(`p`,{className:`text-sm text-teal-800`,children:`Export will include students based on current filters:`}),(0,Q.jsxs)(`ul`,{className:`mt-2 text-sm text-teal-700 space-y-1`,children:[(0,Q.jsxs)(`li`,{children:[` Class: `,p.class_section_id?s.find(e=>e.id===p.class_section_id)?.gradeName+` `+s.find(e=>e.id===p.class_section_id)?.sectionName:`All Classes`]}),(0,Q.jsxs)(`li`,{children:[` Status: `,p.status||`All`]}),(0,Q.jsxs)(`li`,{children:[` Search: `,p.search||`None`]})]})]}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:`The export will include student details, address, and parent information in CSV format.`})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 rounded-b-2xl flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>j(!1),className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:pe,disabled:I,className:`px-6 py-2 bg-teal-600 text-white rounded-xl font-medium hover:bg-teal-700 disabled:opacity-50 flex items-center gap-2`,children:[I?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Kn,{className:`w-4 h-4`}),`Export CSV`]})]})]})}),O&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Hr,{className:`w-6 h-6 text-teal-600`}),`Import Students`]}),(0,Q.jsx)(`button`,{onClick:ge,className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`bg-blue-50 rounded-xl p-4 flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-blue-800`,children:`Download Template`}),(0,Q.jsx)(`p`,{className:`text-sm text-blue-600`,children:`Get the CSV template with correct headers`})]}),(0,Q.jsxs)(`button`,{onClick:me,className:`px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2`,children:[(0,Q.jsx)(Yn,{className:`w-4 h-4`}),`Template`]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Assign to Class (Optional)`}),(0,Q.jsxs)(`select`,{value:M.classSectionId,onChange:e=>N(t=>({...t,classSectionId:e.target.value})),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`-- Select Class (or leave blank) --`}),s.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeName||e.gradeDisplayName,` - `,e.sectionName]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Select CSV File`}),(0,Q.jsxs)(`div`,{className:`border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-teal-400 transition-colors`,children:[(0,Q.jsx)(`input`,{ref:ee,type:`file`,accept:`.csv`,onChange:he,className:`hidden`,id:`csv-upload`}),(0,Q.jsxs)(`label`,{htmlFor:`csv-upload`,className:`cursor-pointer`,children:[(0,Q.jsx)(Yn,{className:`w-12 h-12 mx-auto text-gray-400 mb-3`}),(0,Q.jsx)(`p`,{className:`text-gray-600 font-medium`,children:`Click to select CSV file`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-400 mt-1`,children:`or drag and drop`})]})]}),M.csvData&&(0,Q.jsxs)(`p`,{className:`mt-2 text-sm text-green-600 flex items-center gap-1`,children:[(0,Q.jsx)(Bn,{className:`w-4 h-4`}),`File loaded (`,M.csvData.split(`
`).length-1,` rows detected)`]})]}),P&&(0,Q.jsxs)(`div`,{className:`rounded-xl p-4 ${P.failed>0?`bg-amber-50`:`bg-green-50`}`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center gap-2`,children:[P.failed>0?(0,Q.jsx)(zn,{className:`w-5 h-5 text-amber-600`}):(0,Q.jsx)(Bn,{className:`w-5 h-5 text-green-600`}),`Import Results`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 text-sm`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`span`,{className:`text-green-700 font-medium`,children:P.success}),` imported`]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`span`,{className:`text-red-700 font-medium`,children:P.failed}),` failed`]})]}),P.errors?.length>0&&(0,Q.jsxs)(`div`,{className:`mt-3 max-h-32 overflow-y-auto`,children:[(0,Q.jsx)(`p`,{className:`text-xs font-medium text-red-700 mb-1`,children:`Errors:`}),P.errors.slice(0,5).map((e,t)=>(0,Q.jsx)(`p`,{className:`text-xs text-red-600`,children:e},t)),P.errors.length>5&&(0,Q.jsxs)(`p`,{className:`text-xs text-red-500 mt-1`,children:[`... and `,P.errors.length-5,` more`]})]})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 rounded-b-2xl flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:ge,className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:P?`Close`:`Cancel`}),!P&&(0,Q.jsxs)(`button`,{onClick:J,disabled:R||!M.csvData,className:`px-6 py-2 bg-teal-600 text-white rounded-xl font-medium hover:bg-teal-700 disabled:opacity-50 flex items-center gap-2`,children:[R?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Hr,{className:`w-4 h-4`}),`Import Students`]})]})]})})]})},fa=()=>{let{id:e}=Ne(),t=ke(),[n]=tn(),r=n.get(`mode`)===`edit`,[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)(null),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)(null),[f,p]=(0,_.useState)(!0),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(r),[y,b]=(0,_.useState)(`personal`),[x,S]=(0,_.useState)(null),C=[{id:`personal`,label:`Personal Info`,icon:qr},{id:`contact`,label:`Contact Details`,icon:br},{id:`academic`,label:`Academic`,icon:Zn},{id:`parents`,label:`Parents/Guardians`,icon:Jr},{id:`fees`,label:`Fees & Payments`,icon:tr},{id:`documents`,label:`Documents`,icon:Xn},{id:`other`,label:`Other Details`,icon:er}];(0,_.useEffect)(()=>{T(),w()},[e]);let w=async()=>{try{let e=await ci.getCurrent();if(e?.success){d(e.data);let t=await li.getClassSections({academic_session_id:e.data.id});t?.success&&l(t.data||[])}}catch(e){console.error(`Error fetching initial data:`,e)}},T=async()=>{p(!0);try{let[n,r]=await Promise.all([ii.getById(e),ii.getAcademicMapping(e)]);if(n?.success)a(n.data),S(n.data);else{Z.error(`Student not found`),t(`/students`);return}r?.success&&s(r.data)}catch(e){console.error(`Error fetching student:`,e),Z.error(`Failed to load student details`)}finally{p(!1)}},E=(e,t)=>{if(e.includes(`.`)){let n=e.split(`.`);S(e=>{let r={...e},i=r;for(let e=0;e<n.length-1;e++)i[n[e]]={...i[n[e]]},i=i[n[e]];return i[n[n.length-1]]=t,r})}else S(n=>({...n,[e]:t}))};return f?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,Q.jsx)(wr,{className:`w-8 h-8 animate-spin text-teal-600`})}):i?(0,Q.jsxs)(`div`,{className:`min-h-screen bg-gray-50`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-teal-600 via-emerald-600 to-cyan-600 text-white`,children:(0,Q.jsx)(`div`,{className:`max-w-7xl mx-auto px-4 py-6`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 mb-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>t(`/students`),className:`p-2 hover:bg-white/10 rounded-lg transition-colors`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsx)(`div`,{className:`flex-1`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center text-2xl font-bold`,children:[i.firstName?.[0],i.lastName?.[0]]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold`,children:i.fullName}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mt-1 text-white/80 text-sm`,children:[(0,Q.jsxs)(`span`,{children:[`Adm: `,i.admissionNumber||`N/A`]}),(0,Q.jsx)(`span`,{children:``}),(0,Q.jsxs)(`span`,{children:[`Roll: `,i.rollNumber||`N/A`]}),(0,Q.jsx)(`span`,{children:``}),(0,Q.jsx)(`span`,{children:i.className||`No Class`})]})]})]})}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`span`,{className:`px-3 py-1 rounded-full text-sm font-medium border ${(e=>{let t={active:`bg-green-100 text-green-700 border-green-200`,inactive:`bg-gray-100 text-gray-700 border-gray-200`,transferred:`bg-amber-100 text-amber-700 border-amber-200`,passed_out:`bg-blue-100 text-blue-700 border-blue-200`,dropped:`bg-red-100 text-red-700 border-red-200`};return t[e]||t.active})(i.status)}`,children:i.status}),g?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`button`,{onClick:()=>{S(i),v(!1),t(`/students/${e}`)},className:`px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl flex items-center gap-2`,children:[(0,Q.jsx)(X,{className:`w-4 h-4`}),`Cancel`]}),(0,Q.jsxs)(`button`,{onClick:async()=>{if(!x.firstName||!x.lastName){Z.error(`First name and last name are required`);return}h(!0);try{let n=await ii.update(e,x);n?.success?(Z.success(`Student updated successfully`),a(x),v(!1),t(`/students/${e}`)):Z.error(n?.message||`Failed to update student`)}catch{Z.error(`Failed to update student`)}finally{h(!1)}},disabled:m,className:`px-4 py-2 bg-white text-teal-600 rounded-xl font-medium flex items-center gap-2 hover:bg-white/90`,children:[m?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Er,{className:`w-4 h-4`}),`Save`]})]}):(0,Q.jsxs)(`button`,{onClick:()=>{v(!0),t(`/students/${e}?mode=edit`)},className:`px-4 py-2 bg-white text-teal-600 rounded-xl font-medium flex items-center gap-2 hover:bg-white/90`,children:[(0,Q.jsx)(jr,{className:`w-4 h-4`}),`Edit`]})]})]})})}),(0,Q.jsx)(`div`,{className:`max-w-7xl mx-auto px-4 py-6`,children:(0,Q.jsxs)(`div`,{className:`flex gap-6`,children:[(0,Q.jsx)(`div`,{className:`w-64 flex-shrink-0`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-sm overflow-hidden sticky top-6`,children:(0,Q.jsx)(`nav`,{className:`p-2`,children:C.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>b(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all ${y===e.id?`bg-teal-50 text-teal-700 font-medium`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,Q.jsx)(e.icon,{className:`w-5 h-5`}),e.label]},e.id))})})}),(0,Q.jsx)(`div`,{className:`flex-1`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm p-6`,children:[y===`personal`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(qr,{className:`w-5 h-5 text-teal-600`}),`Personal Information`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`First Name`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.firstName||``,onChange:e=>E(`firstName`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-medium`,children:i.firstName})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Middle Name`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.middleName||``,onChange:e=>E(`middleName`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.middleName||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Last Name`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.lastName||``,onChange:e=>E(`lastName`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-medium`,children:i.lastName})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Date of Birth`}),g?(0,Q.jsx)(`input`,{type:`date`,value:x?.dateOfBirth?.split(`T`)[0]||``,onChange:e=>E(`dateOfBirth`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.dateOfBirth?new Date(i.dateOfBirth).toLocaleDateString():`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Gender`}),g?(0,Q.jsxs)(`select`,{value:x?.gender||``,onChange:e=>E(`gender`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),(0,Q.jsx)(`option`,{value:`male`,children:`Male`}),(0,Q.jsx)(`option`,{value:`female`,children:`Female`}),(0,Q.jsx)(`option`,{value:`other`,children:`Other`})]}):(0,Q.jsx)(`p`,{className:`text-gray-800 capitalize`,children:i.gender||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Blood Group`}),g?(0,Q.jsxs)(`select`,{value:x?.bloodGroup||``,onChange:e=>E(`bloodGroup`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),[`A+`,`A-`,`B+`,`B-`,`AB+`,`AB-`,`O+`,`O-`].map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.bloodGroup||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Nationality`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.nationality||``,onChange:e=>E(`nationality`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.nationality||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Religion`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.religion||``,onChange:e=>E(`religion`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.religion||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Category`}),g?(0,Q.jsxs)(`select`,{value:x?.category||``,onChange:e=>E(`category`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),[`General`,`OBC`,`SC`,`ST`,`EWS`].map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.category||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Aadhar Number`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.aadharNumber||``,onChange:e=>E(`aadharNumber`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,maxLength:12}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-mono`,children:i.aadharNumber||`-`})]})]})]}),y===`contact`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(br,{className:`w-5 h-5 text-teal-600`}),`Contact Details`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Email`}),g?(0,Q.jsx)(`input`,{type:`email`,value:x?.email||``,onChange:e=>E(`email`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsxs)(`p`,{className:`text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(fr,{className:`w-4 h-4 text-gray-400`}),i.email||`-`]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Phone`}),g?(0,Q.jsx)(`input`,{type:`tel`,value:x?.phone||``,onChange:e=>E(`phone`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsxs)(`p`,{className:`text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(br,{className:`w-4 h-4 text-gray-400`}),i.phone||`-`]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Alternate Phone`}),g?(0,Q.jsx)(`input`,{type:`tel`,value:x?.alternatePhone||``,onChange:e=>E(`alternatePhone`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.alternatePhone||`-`})]})]}),(0,Q.jsxs)(`div`,{className:`border-t pt-6`,children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(pr,{className:`w-4 h-4 text-teal-600`}),`Address`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Address Line 1`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.line1||``,onChange:e=>E(`address.line1`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.line1||`-`})]}),(0,Q.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Address Line 2`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.line2||``,onChange:e=>E(`address.line2`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.line2||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`City`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.city||``,onChange:e=>E(`address.city`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.city||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`State`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.state||``,onChange:e=>E(`address.state`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.state||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Pincode`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.pincode||``,onChange:e=>E(`address.pincode`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.pincode||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Country`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.address?.country||`India`,onChange:e=>E(`address.country`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.address?.country||`India`})]})]})]})]}),y===`academic`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Zn,{className:`w-5 h-5 text-teal-600`}),`Academic Information`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Admission Number`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.admissionNumber||``,onChange:e=>E(`admissionNumber`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 font-mono`}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-mono font-medium`,children:i.admissionNumber||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Admission Date`}),g?(0,Q.jsx)(`input`,{type:`date`,value:x?.admissionDate?.split(`T`)[0]||``,onChange:e=>E(`admissionDate`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.admissionDate?new Date(i.admissionDate).toLocaleDateString():`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Class & Section`}),g?(0,Q.jsxs)(`select`,{value:x?.classSectionId||``,onChange:e=>E(`classSectionId`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),c.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeName||e.gradeDisplayName,` - `,e.sectionName]},e.id))]}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-medium`,children:i.className||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Roll Number`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.rollNumber||``,onChange:e=>E(`rollNumber`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800 font-medium`,children:i.rollNumber||`-`})]})]}),o&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100`,children:[(0,Q.jsx)(En,{className:`w-8 h-8 text-teal-600 mb-2`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-teal-700`,children:o.summary?.totalSubjects||0}),(0,Q.jsx)(`p`,{className:`text-sm text-teal-600`,children:`Subjects`})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100`,children:[(0,Q.jsx)(Jr,{className:`w-8 h-8 text-blue-600 mb-2`}),(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-blue-700`,children:o.summary?.totalTeachers||0}),(0,Q.jsx)(`p`,{className:`text-sm text-blue-600`,children:`Teachers`})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4 border border-amber-100`,children:[(0,Q.jsx)(tr,{className:`w-8 h-8 text-amber-600 mb-2`}),(0,Q.jsxs)(`p`,{className:`text-2xl font-bold text-amber-700`,children:[``,(o.summary?.totalFees||0).toLocaleString()]}),(0,Q.jsx)(`p`,{className:`text-sm text-amber-600`,children:`Total Fees`})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-100`,children:[(0,Q.jsx)(Ur,{className:`w-8 h-8 text-purple-600 mb-2`}),(0,Q.jsx)(`p`,{className:`text-lg font-bold text-purple-700 truncate`,children:o.summary?.classTeacher?.name||`Not Assigned`}),(0,Q.jsx)(`p`,{className:`text-sm text-purple-600`,children:`Class Teacher`})]})]}),(0,Q.jsxs)(`div`,{className:`mt-6`,children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(En,{className:`w-4 h-4 text-teal-600`}),`Subjects & Teachers`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-3`,children:o.subjects?.map((e,t)=>(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl border border-gray-100`,children:[(0,Q.jsx)(`div`,{className:`flex items-start justify-between`,children:(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mt-1`,children:[e.code&&(0,Q.jsx)(`span`,{className:`text-xs text-gray-500`,children:e.code}),(0,Q.jsx)(`span`,{className:`px-2 py-0.5 rounded text-xs font-medium ${e.isOptional?`bg-amber-100 text-amber-700`:`bg-teal-100 text-teal-700`}`,children:e.isOptional?`Optional`:`Core`})]})]})}),(0,Q.jsx)(`div`,{className:`mt-3 pt-3 border-t border-gray-200`,children:e.teachers&&e.teachers.length>0?(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.teachers.map((e,t)=>(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm`,children:[(0,Q.jsx)(Jr,{className:`w-3.5 h-3.5`}),e.name]},t))}):(0,Q.jsx)(`p`,{className:`text-xs text-gray-400 italic`,children:`No teacher assigned`})})]},t))}),(!o.subjects||o.subjects.length===0)&&(0,Q.jsx)(`p`,{className:`text-gray-400 text-center py-8`,children:`No subjects configured`})]})]})]}),y===`parents`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Jr,{className:`w-5 h-5 text-teal-600`}),`Parents / Guardians`]}),i.parents?.length>0?(0,Q.jsx)(`div`,{className:`space-y-4`,children:i.parents.map((e,t)=>(0,Q.jsxs)(`div`,{className:`bg-gray-50 rounded-xl p-6 border border-gray-200`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white font-bold text-lg`,children:[e.firstName?.[0],e.lastName?.[0]]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-semibold text-gray-800`,children:e.fullName}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 capitalize`,children:e.relationship})]})]}),e.isPrimary&&(0,Q.jsx)(`span`,{className:`px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-medium`,children:`Primary Contact`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 text-sm`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-600`,children:[(0,Q.jsx)(br,{className:`w-4 h-4`}),e.phone||`-`]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-600`,children:[(0,Q.jsx)(fr,{className:`w-4 h-4`}),e.email||`-`]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-600`,children:[(0,Q.jsx)(Dn,{className:`w-4 h-4`}),e.occupation||`-`]})]})]},t))}):(0,Q.jsxs)(`div`,{className:`text-center py-12 text-gray-400`,children:[(0,Q.jsx)(Jr,{className:`w-16 h-16 mx-auto mb-4 opacity-50`}),(0,Q.jsx)(`p`,{className:`text-lg`,children:`No parents/guardians added`}),g&&(0,Q.jsxs)(`button`,{className:`mt-4 px-4 py-2 bg-teal-600 text-white rounded-xl`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4 inline mr-2`}),`Add Parent`]})]})]}),y===`fees`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(tr,{className:`w-5 h-5 text-teal-600`}),`Fees & Payments`]}),o?.fees?.items?.length>0?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-100`,children:[(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 rounded-l-xl`,children:`Fee Type`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600`,children:`Category`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600`,children:`Frequency`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-right text-sm font-semibold text-gray-600 rounded-r-xl`,children:`Amount`})]})}),(0,Q.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:o.fees.items.map((e,t)=>(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,Q.jsx)(`td`,{className:`px-4 py-3 font-medium text-gray-800`,children:e.feeType}),(0,Q.jsx)(`td`,{className:`px-4 py-3 capitalize text-gray-600`,children:e.category}),(0,Q.jsx)(`td`,{className:`px-4 py-3 capitalize text-gray-600`,children:e.frequency}),(0,Q.jsxs)(`td`,{className:`px-4 py-3 text-right font-semibold text-amber-700`,children:[``,e.amount.toLocaleString()]})]},t))}),(0,Q.jsx)(`tfoot`,{children:(0,Q.jsxs)(`tr`,{className:`bg-amber-50`,children:[(0,Q.jsx)(`td`,{colSpan:3,className:`px-4 py-3 text-right font-semibold text-gray-700 rounded-l-xl`,children:`Total Fees:`}),(0,Q.jsxs)(`td`,{className:`px-4 py-3 text-right font-bold text-lg text-amber-700 rounded-r-xl`,children:[``,o.fees.totalAmount?.toLocaleString()||0]})]})})]})})}):(0,Q.jsxs)(`div`,{className:`text-center py-12 text-gray-400`,children:[(0,Q.jsx)(tr,{className:`w-16 h-16 mx-auto mb-4 opacity-50`}),(0,Q.jsx)(`p`,{className:`text-lg`,children:`No fee structure configured for this class`})]})]}),y===`documents`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Xn,{className:`w-5 h-5 text-teal-600`}),`Documents`]}),i.documents?.length>0?(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:i.documents.map((e,t)=>(0,Q.jsx)(`div`,{className:`bg-gray-50 rounded-xl p-4 border border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-teal-100 flex items-center justify-center`,children:(0,Q.jsx)(Xn,{className:`w-5 h-5 text-teal-600`})}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.documentName}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:e.documentType})]})]})},t))}):(0,Q.jsxs)(`div`,{className:`text-center py-12 text-gray-400`,children:[(0,Q.jsx)(Xn,{className:`w-16 h-16 mx-auto mb-4 opacity-50`}),(0,Q.jsx)(`p`,{className:`text-lg`,children:`No documents uploaded`}),g&&(0,Q.jsxs)(`button`,{className:`mt-4 px-4 py-2 bg-teal-600 text-white rounded-xl`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4 inline mr-2`}),`Upload Document`]})]})]}),y===`other`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(er,{className:`w-5 h-5 text-teal-600`}),`Other Details`]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(er,{className:`w-4 h-4 text-red-500`}),`Medical Information`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Medical Conditions`}),g?(0,Q.jsx)(`textarea`,{value:x?.medicalConditions||``,onChange:e=>E(`medicalConditions`,e.target.value),rows:3,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.medicalConditions||`None reported`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Allergies`}),g?(0,Q.jsx)(`textarea`,{value:x?.allergies||``,onChange:e=>E(`allergies`,e.target.value),rows:3,className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.allergies||`None reported`})]})]})]}),(0,Q.jsxs)(`div`,{className:`border-t pt-6`,children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(An,{className:`w-4 h-4 text-blue-500`}),`Transport Information`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Uses Transport`}),g?(0,Q.jsxs)(`select`,{value:x?.usesTransport?`yes`:`no`,onChange:e=>E(`usesTransport`,e.target.value===`yes`),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`,children:[(0,Q.jsx)(`option`,{value:`no`,children:`No`}),(0,Q.jsx)(`option`,{value:`yes`,children:`Yes`})]}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.usesTransport?`Yes`:`No`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Pickup Point`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.pickupPoint||``,onChange:e=>E(`pickupPoint`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.pickupPoint||`-`})]})]})]}),(0,Q.jsxs)(`div`,{className:`border-t pt-6`,children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(kn,{className:`w-4 h-4 text-purple-500`}),`Previous School`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`School Name`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.previousSchool?.name||``,onChange:e=>E(`previousSchool.name`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.previousSchool?.name||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`Last Class`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.previousSchool?.class||``,onChange:e=>E(`previousSchool.class`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.previousSchool?.class||`-`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-500 mb-1`,children:`TC Number`}),g?(0,Q.jsx)(`input`,{type:`text`,value:x?.previousSchool?.tcNumber||``,onChange:e=>E(`previousSchool.tcNumber`,e.target.value),className:`w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500`}):(0,Q.jsx)(`p`,{className:`text-gray-800`,children:i.previousSchool?.tcNumber||`-`})]})]})]})]})]})})]})})]}):(0,Q.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-screen`,children:[(0,Q.jsx)(zn,{className:`w-16 h-16 text-gray-400 mb-4`}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`Student not found`}),(0,Q.jsx)(`button`,{onClick:()=>t(`/students`),className:`mt-4 text-teal-600 hover:underline`,children:`Back to Students`})]})},pa={overloaded:{label:`Overloaded`,color:`bg-red-500`,textColor:`text-red-700`,bgLight:`bg-red-50`,border:`border-red-200`,min:31},heavy:{label:`Heavy`,color:`bg-amber-500`,textColor:`text-amber-700`,bgLight:`bg-amber-50`,border:`border-amber-200`,min:21,max:30},moderate:{label:`Moderate`,color:`bg-blue-500`,textColor:`text-blue-700`,bgLight:`bg-blue-50`,border:`border-blue-200`,min:11,max:20},light:{label:`Light`,color:`bg-green-500`,textColor:`text-green-700`,bgLight:`bg-green-50`,border:`border-green-200`,min:1,max:10},unassigned:{label:`No Load`,color:`bg-gray-400`,textColor:`text-gray-600`,bgLight:`bg-gray-50`,border:`border-gray-200`,min:0,max:0}},ma=({selectedTeacher:e,onClose:t})=>{let[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)(null),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)([]),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)([]),[y,b]=(0,_.useState)(!0),[x,S]=(0,_.useState)(`teachers`),[C,w]=(0,_.useState)(e?.id||null),[T,E]=(0,_.useState)(e?.id||null),[D,O]=(0,_.useState)(!1),[k,A]=(0,_.useState)(!1),[j,M]=(0,_.useState)(!1),[N,P]=(0,_.useState)(!1),[F,I]=(0,_.useState)(``),[L,R]=(0,_.useState)(``),[z,ee]=(0,_.useState)(``),[B,V]=(0,_.useState)({teacherId:e?.id||``,subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:5}),[H,U]=(0,_.useState)([]),[W,G]=(0,_.useState)({fromId:``,toId:``,all:!0}),[K,te]=(0,_.useState)({fromSession:``,toSession:``});(0,_.useEffect)(()=>{ne()},[]),(0,_.useEffect)(()=>{c?.id&&re()},[c]);let ne=async()=>{b(!0);try{let[e,t,n,i]=await Promise.all([ci.getAll(),ci.getCurrent(),ai.getAll(),ui.getAll()]);e?.success&&d(e.data||[]),t?.success&&l(t.data),n?.success&&r(n.data||[]),i?.success&&a(i.data||[])}catch{Z.error(`Failed to load data`)}finally{b(!1)}},re=async()=>{if(c?.id)try{let[e,t,n,r]=await Promise.all([oi.getAll({academic_session_id:c.id}),oi.getWorkload({academic_session_id:c.id}),li.getClassSections({academic_session_id:c.id}),oi.getVacant({academic_session_id:c.id})]);e?.success&&p(e.data||[]),t?.success&&h(t.data?.allTeachers||[]),n?.success&&s(n.data||[]),r?.success&&v(r.data?.positions||[])}catch(e){console.error(`Error fetching assignments:`,e)}},ie=async()=>{if(!B.teacherId||!B.subjectId){Z.error(`Select teacher and subject`);return}try{let e=await oi.assign({...B,academicSessionId:c?.id});e?.success?(Z.success(`Subject assigned successfully`),O(!1),V({teacherId:``,subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:5}),re()):Z.error(e?.message||`Failed to assign`)}catch{Z.error(`Failed to assign subject`)}},ae=async()=>{if(!B.teacherId||H.length===0){Z.error(`Select teacher and at least one subject-class`);return}try{let e=await oi.bulkAssignToTeacher({teacherId:B.teacherId,assignments:H.map(e=>({subjectId:e.subjectId,classSectionId:e.classSectionId,isPrimary:e.isPrimary||!1,periodsPerWeek:e.periodsPerWeek||5})),academicSessionId:c?.id});e?.success&&(Z.success(e.message),A(!1),U([]),re())}catch{Z.error(`Bulk assign failed`)}},oe=async e=>{try{(await oi.delete(e))?.success&&(Z.success(`Assignment removed`),re())}catch{Z.error(`Failed to delete`)}},q=async()=>{if(!(!W.fromId||!W.toId))try{let e=await oi.transfer({fromTeacherId:W.fromId,toTeacherId:W.toId,transferAll:W.all,academicSessionId:c?.id});e?.success&&(Z.success(e.message),M(!1),re())}catch{Z.error(`Transfer failed`)}},se=async()=>{if(!(!K.fromSession||!K.toSession))try{let e=await oi.copyToSession({fromSessionId:K.fromSession,toSessionId:K.toSession});e?.success&&(Z.success(e.message),P(!1),re())}catch{Z.error(`Copy failed`)}},ce=(e,t)=>{`${e}${t}`,U(n=>n.find(n=>n.subjectId===e&&n.classSectionId===t)?n.filter(n=>!(n.subjectId===e&&n.classSectionId===t)):[...n,{subjectId:e,classSectionId:t,isPrimary:!1,periodsPerWeek:5}])},le=e=>f.filter(t=>t.teacherId===e),ue=e=>m.find(t=>t.teacherId===e)||{totalPeriods:0,totalAssignments:0,status:`unassigned`},de=n.filter(e=>{let t=!F||e.fullName?.toLowerCase().includes(F.toLowerCase()),n=!L||e.department===L,r=ue(e.id),i=!z||r.status===z;return t&&n&&i}),fe=[...new Set(n.map(e=>e.department).filter(Boolean))],pe=f.length,me=m.reduce((e,t)=>e+(t.totalPeriods||0),0),he=m.filter(e=>e.status===`overloaded`).length;return m.filter(e=>e.totalAssignments===0).length,y?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsx)(`div`,{className:`animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600`})}):(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-xl overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-6 text-white`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-bold`,children:`Subject Assignment Management`}),(0,Q.jsxs)(`p`,{className:`text-white/80 mt-1`,children:[`Session: `,(0,Q.jsx)(`strong`,{children:c?.name||`Select Session`}),` `,pe,` assignments  `,me,` total periods`]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`select`,{value:c?.id||``,onChange:e=>{let t=u.find(t=>t.id===e.target.value);l(t)},className:`bg-white/20 text-white border-white/30 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-white/50`,children:u.map(e=>(0,Q.jsx)(`option`,{value:e.id,className:`text-gray-800`,children:e.name},e.id))}),t&&(0,Q.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-xl p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-white/20 rounded-lg`,children:(0,Q.jsx)(Jr,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:n.length}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Teachers`})]})]})}),(0,Q.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-xl p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-white/20 rounded-lg`,children:(0,Q.jsx)(En,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:pe}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Assignments`})]})]})}),(0,Q.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-xl p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-red-400/50 rounded-lg`,children:(0,Q.jsx)(zn,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:he}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Overloaded`})]})]})}),(0,Q.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-xl p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-amber-400/50 rounded-lg`,children:(0,Q.jsx)(Lr,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:g.length}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Vacant Slots`})]})]})})]})]}),(0,Q.jsx)(`div`,{className:`border-b border-gray-200 bg-gray-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center justify-between gap-4`,children:[(0,Q.jsx)(`div`,{className:`flex items-center gap-2`,children:[`teachers`,`subjects`,`classes`,`schedule`].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>S(e),className:`px-4 py-2 rounded-lg font-medium text-sm capitalize transition-colors ${x===e?`bg-indigo-600 text-white shadow-lg shadow-indigo-500/30`:`bg-white text-gray-600 hover:bg-gray-100 border border-gray-200`}`,children:[e===`teachers`&&(0,Q.jsx)(Jr,{className:`w-4 h-4 inline mr-1`}),e===`subjects`&&(0,Q.jsx)(En,{className:`w-4 h-4 inline mr-1`}),e===`classes`&&(0,Q.jsx)(kn,{className:`w-4 h-4 inline mr-1`}),e===`schedule`&&(0,Q.jsx)(Qn,{className:`w-4 h-4 inline mr-1`}),e]},e))}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>P(!0),className:`px-3 py-2 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 text-sm`,children:[(0,Q.jsx)(Gn,{className:`w-4 h-4 inline mr-1`}),` Copy Session`]}),(0,Q.jsxs)(`button`,{onClick:()=>M(!0),className:`px-3 py-2 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 text-sm`,children:[(0,Q.jsx)(Sn,{className:`w-4 h-4 inline mr-1`}),` Transfer`]}),(0,Q.jsxs)(`button`,{onClick:()=>{A(!0),U([])},className:`px-3 py-2 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 text-sm`,children:[(0,Q.jsx)(ir,{className:`w-4 h-4 inline mr-1`}),` Bulk Assign`]}),(0,Q.jsxs)(`button`,{onClick:()=>O(!0),className:`px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg shadow-lg shadow-indigo-500/30 text-sm font-medium`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4 inline mr-1`}),` Assign Subject`]})]})]})}),(0,Q.jsx)(`div`,{className:`p-4 border-b border-gray-100 bg-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative flex-1 max-w-md`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search teachers...`,value:F,onChange:e=>I(e.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`select`,{value:L,onChange:e=>R(e.target.value),className:`px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Departments`}),fe.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}),(0,Q.jsxs)(`select`,{value:z,onChange:e=>ee(e.target.value),className:`px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Workload`}),Object.entries(pa).map(([e,t])=>(0,Q.jsx)(`option`,{value:e,children:t.label},e))]}),(0,Q.jsx)(`button`,{onClick:re,className:`p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 max-h-[600px] overflow-y-auto`,children:[x===`teachers`&&(0,Q.jsx)(`div`,{className:`space-y-4`,children:de.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12 text-gray-500`,children:[(0,Q.jsx)(Jr,{className:`w-16 h-16 mx-auto mb-4 opacity-30`}),(0,Q.jsx)(`p`,{children:`No teachers found`})]}):de.map(e=>{let t=ue(e.id),n=le(e.id),r=pa[t.status]||pa.unassigned,i=T===e.id;return(0,Q.jsxs)(`div`,{className:`border rounded-xl overflow-hidden transition-all ${r.border} ${i?`shadow-lg`:``}`,children:[(0,Q.jsxs)(`div`,{onClick:()=>E(i?null:e.id),className:`flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors ${r.bgLight}`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.fullName}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[e.department||`No Department`,`  `,e.employeeId||`No ID`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,Q.jsxs)(`div`,{className:`w-32`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between text-xs mb-1`,children:[(0,Q.jsx)(`span`,{className:`text-gray-500`,children:`Workload`}),(0,Q.jsxs)(`span`,{className:`font-medium ${r.textColor}`,children:[t.totalPeriods,` p/w`]})]}),(0,Q.jsx)(`div`,{className:`h-2 bg-gray-200 rounded-full overflow-hidden`,children:(0,Q.jsx)(`div`,{className:`h-full ${r.color} rounded-full transition-all`,style:{width:`${Math.min(t.totalPeriods/35*100,100)}%`}})})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`p`,{className:`text-xl font-bold text-gray-800`,children:n.length}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Subjects`})]}),(0,Q.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${r.bgLight} ${r.textColor} border ${r.border}`,children:r.label})]}),(0,Q.jsx)(Rn,{className:`w-5 h-5 text-gray-400 transition-transform ${i?`rotate-90`:``}`})]})]}),i&&(0,Q.jsxs)(`div`,{className:`border-t border-gray-100 bg-white p-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`h5`,{className:`font-medium text-gray-700`,children:[`Assigned Subjects (`,n.length,`)`]}),(0,Q.jsxs)(`button`,{onClick:()=>{V({...B,teacherId:e.id}),O(!0)},className:`text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Subject`]})]}),n.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200`,children:[(0,Q.jsx)(En,{className:`w-10 h-10 mx-auto text-gray-300 mb-2`}),(0,Q.jsx)(`p`,{className:`text-gray-500`,children:`No subjects assigned yet`}),(0,Q.jsx)(`button`,{onClick:()=>{V({...B,teacherId:e.id}),O(!0)},className:`mt-3 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm`,children:`Assign First Subject`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:n.map(e=>(0,Q.jsxs)(`div`,{className:`group bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-xl p-4 hover:shadow-md hover:border-indigo-200 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h6`,{className:`font-semibold text-gray-800`,children:e.subjectName}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:e.subjectCode})]}),(0,Q.jsx)(`button`,{onClick:t=>{t.stopPropagation(),oe(e.id)},className:`p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]}),(0,Q.jsxs)(`div`,{className:`mt-3 flex items-center gap-2 flex-wrap`,children:[(0,Q.jsx)(`span`,{className:`px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-xs`,children:e.classSection||`All Classes`}),(0,Q.jsxs)(`span`,{className:`px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs`,children:[e.periodsPerWeek,`p/w`]}),e.isPrimary&&(0,Q.jsxs)(`span`,{className:`px-2 py-1 bg-green-50 text-green-700 rounded text-xs flex items-center gap-1`,children:[(0,Q.jsx)(Bn,{className:`w-3 h-3`}),` Primary`]})]})]},e.id))})]})]},e.id)})}),x===`subjects`&&(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:i.map(e=>{let t=f.filter(t=>t.subjectId===e.id),n=[...new Set(t.map(e=>e.teacherId))].length;return(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-purple-50 to-white border border-purple-100 rounded-xl p-5 hover:shadow-lg transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-purple-100 rounded-lg`,children:(0,Q.jsx)(En,{className:`w-5 h-5 text-purple-600`})}),(0,Q.jsx)(`span`,{className:`px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs`,children:e.code})]}),(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800 text-lg`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mb-4`,children:e.category||`General`}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-between text-sm`,children:[(0,Q.jsxs)(`span`,{className:`text-gray-600`,children:[(0,Q.jsx)(Jr,{className:`w-4 h-4 inline mr-1`}),n,` teachers`]}),(0,Q.jsxs)(`span`,{className:`text-gray-600`,children:[t.length,` classes`]})]}),t.length>0&&(0,Q.jsxs)(`div`,{className:`mt-3 pt-3 border-t border-purple-100`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-2`,children:`Assigned to:`}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-1`,children:[t.slice(0,4).map(e=>(0,Q.jsx)(`span`,{className:`px-2 py-0.5 bg-white border border-gray-200 rounded text-xs text-gray-600`,children:e.teacherName?.split(` `)[0]},e.id)),t.length>4&&(0,Q.jsxs)(`span`,{className:`text-xs text-gray-400`,children:[`+`,t.length-4]})]})]})]},e.id)})}),x===`classes`&&(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:o.map(e=>{let t=f.filter(t=>t.classSectionId===e.id);return(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-50 to-white border border-blue-100 rounded-xl p-5 hover:shadow-lg transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-blue-100 rounded-lg`,children:(0,Q.jsx)(kn,{className:`w-5 h-5 text-blue-600`})}),(0,Q.jsx)(`span`,{className:`text-xl font-bold text-gray-800`,children:t.length})]}),(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800`,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:`subjects assigned`}),t.length>0&&(0,Q.jsxs)(`div`,{className:`mt-3 pt-3 border-t border-blue-100 space-y-1`,children:[t.slice(0,3).map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between text-xs`,children:[(0,Q.jsx)(`span`,{className:`text-gray-700`,children:e.subjectName}),(0,Q.jsx)(`span`,{className:`text-gray-500`,children:e.teacherName?.split(` `)[0]})]},e.id)),t.length>3&&(0,Q.jsxs)(`p`,{className:`text-xs text-blue-600`,children:[`+`,t.length-3,` more`]})]})]},e.id)})}),x===`schedule`&&(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full border-collapse`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-50`,children:[(0,Q.jsx)(`th`,{className:`border border-gray-200 p-3 text-left text-sm font-semibold text-gray-600 sticky left-0 bg-gray-50 z-10`,children:`Teacher`}),i.slice(0,8).map(e=>(0,Q.jsxs)(`th`,{className:`border border-gray-200 p-3 text-center text-sm font-medium text-gray-600 min-w-[100px]`,children:[(0,Q.jsx)(`div`,{className:`truncate`,children:e.name}),(0,Q.jsx)(`div`,{className:`text-xs text-gray-400`,children:e.code})]},e.id))]})}),(0,Q.jsx)(`tbody`,{children:de.slice(0,15).map(e=>{let t=le(e.id);return(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,Q.jsx)(`td`,{className:`border border-gray-200 p-3 sticky left-0 bg-white z-10`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`div`,{className:`w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold`,children:[e.firstName?.[0],e.lastName?.[0]]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 text-sm truncate max-w-[120px]`,children:e.fullName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.department||`-`})]})]})}),i.slice(0,8).map(n=>{let r=t.some(e=>e.subjectId===n.id),i=t.find(e=>e.subjectId===n.id);return(0,Q.jsx)(`td`,{className:`border border-gray-200 p-2 text-center ${r?`bg-green-50`:``}`,children:r?(0,Q.jsx)(`div`,{className:`text-xs`,children:(0,Q.jsxs)(`span`,{className:`px-2 py-1 bg-green-100 text-green-700 rounded-full`,children:[i?.periodsPerWeek,`p/w`]})}):(0,Q.jsx)(`button`,{onClick:()=>{V({teacherId:e.id,subjectId:n.id,classSectionId:``,isPrimary:!1,periodsPerWeek:5}),O(!0)},className:`text-gray-300 hover:text-indigo-600`,children:(0,Q.jsx)(Cr,{className:`w-4 h-4 mx-auto`})})},n.id)})]},e.id)})})]})})]}),g.length>0&&(0,Q.jsx)(`div`,{className:`border-t border-gray-200 bg-amber-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-amber-700`,children:[(0,Q.jsx)(Vr,{className:`w-5 h-5`}),(0,Q.jsxs)(`span`,{className:`font-medium`,children:[g.length,` Vacant Positions`]})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 overflow-x-auto`,children:g.slice(0,5).map((e,t)=>(0,Q.jsxs)(`button`,{onClick:()=>{V({teacherId:``,subjectId:e.subjectId,classSectionId:e.classSectionId||``,isPrimary:!0,periodsPerWeek:5}),O(!0)},className:`px-3 py-1.5 bg-white border border-amber-300 rounded-lg text-sm text-amber-700 hover:bg-amber-100 whitespace-nowrap`,children:[e.subjectName,`  `,e.classSection]},t))})]})}),D&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 to-purple-600 p-5 text-white`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:`Assign Subject to Teacher`}),(0,Q.jsxs)(`p`,{className:`text-white/70 text-sm`,children:[`Session: `,c?.name]})]}),(0,Q.jsxs)(`div`,{className:`p-5 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Teacher *`}),(0,Q.jsxs)(`select`,{value:B.teacherId,onChange:e=>V({...B,teacherId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),n.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.fullName,` (`,e.department||`N/A`,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Subject *`}),(0,Q.jsxs)(`select`,{value:B.subjectId,onChange:e=>V({...B,subjectId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),i.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.code,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class-Section`}),(0,Q.jsxs)(`select`,{value:B.classSectionId,onChange:e=>V({...B,classSectionId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),o.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Periods/Week`}),(0,Q.jsx)(`input`,{type:`number`,min:`1`,max:`20`,value:B.periodsPerWeek,onChange:e=>V({...B,periodsPerWeek:parseInt(e.target.value)||0}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsx)(`div`,{className:`flex items-center`,children:(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:B.isPrimary,onChange:e=>V({...B,isPrimary:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Primary Teacher`})]})})]})]}),(0,Q.jsxs)(`div`,{className:`px-5 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>O(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:ie,className:`px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl shadow-lg`,children:`Assign`})]})]})}),k&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 to-purple-600 p-5 text-white`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:`Bulk Assign Subjects`}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Select teacher and multiple subject-class combinations`})]}),(0,Q.jsxs)(`div`,{className:`p-5 border-b`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Select Teacher`}),(0,Q.jsxs)(`select`,{value:B.teacherId,onChange:e=>V({...B,teacherId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),n.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-5`,children:[(0,Q.jsxs)(`p`,{className:`text-sm text-gray-600 mb-3`,children:[H.length,` selected`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-2`,children:i.flatMap(e=>o.map(t=>{let n=H.some(n=>n.subjectId===e.id&&n.classSectionId===t.id);return(0,Q.jsxs)(`button`,{onClick:()=>ce(e.id,t.id),className:`p-3 rounded-xl border text-left transition-all ${n?`border-indigo-500 bg-indigo-50 shadow-md`:`border-gray-200 hover:border-indigo-300`}`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[t.gradeDisplayName||t.gradeName,` - `,t.sectionDisplayName||t.sectionName]})]},`${e.id}-${t.id}`)}))})]}),(0,Q.jsxs)(`div`,{className:`px-5 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>A(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:ae,className:`px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl shadow-lg`,children:[`Assign `,H.length,` Subjects`]})]})]})}),j&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Transfer Assignments`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`From Teacher`}),(0,Q.jsxs)(`select`,{value:W.fromId,onChange:e=>G({...W,fromId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),n.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsx)(`div`,{className:`flex justify-center`,children:(0,Q.jsx)(Sn,{className:`w-6 h-6 text-gray-400`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`To Teacher`}),(0,Q.jsxs)(`select`,{value:W.toId,onChange:e=>G({...W,toId:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),n.filter(e=>e.id!==W.fromId).map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>M(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:q,className:`px-5 py-2 bg-amber-600 text-white rounded-xl`,children:`Transfer All`})]})]})}),N&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Copy to New Session`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`From Session`}),(0,Q.jsxs)(`select`,{value:K.fromSession,onChange:e=>te({...K,fromSession:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),u.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`To Session`}),(0,Q.jsxs)(`select`,{value:K.toSession,onChange:e=>te({...K,toSession:e.target.value}),className:`w-full px-3 py-2.5 border border-gray-200 rounded-xl`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),u.filter(e=>e.id!==K.fromSession).map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>P(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:se,className:`px-5 py-2 bg-purple-600 text-white rounded-xl`,children:`Copy Assignments`})]})]})})]})},ha={CL:{icon:Mn,color:`bg-blue-500`,light:`bg-blue-50`,text:`text-blue-700`},SL:{icon:er,color:`bg-red-500`,light:`bg-red-50`,text:`text-red-700`},EL:{icon:Dn,color:`bg-green-500`,light:`bg-green-50`,text:`text-green-700`},ML:{icon:Cn,color:`bg-pink-500`,light:`bg-pink-50`,text:`text-pink-700`},PL:{icon:Zn,color:`bg-purple-500`,light:`bg-purple-50`,text:`text-purple-700`},LWP:{icon:xr,color:`bg-amber-500`,light:`bg-amber-50`,text:`text-amber-700`},default:{icon:Xn,color:`bg-gray-500`,light:`bg-gray-50`,text:`text-gray-700`}},ga={pending:{bg:`bg-amber-100`,text:`text-amber-700`,icon:Un,label:`Pending Approval`},approved:{bg:`bg-green-100`,text:`text-green-700`,icon:Bn,label:`Approved`},rejected:{bg:`bg-red-100`,text:`text-red-700`,icon:Vn,label:`Rejected`}},_a=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(null),[c,l]=(0,_.useState)(!0),[u,d]=(0,_.useState)(`pending`),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(null),[g,v]=(0,_.useState)(null),[y,b]=(0,_.useState)(``),[x,S]=(0,_.useState)(``),[C,w]=(0,_.useState)({teacherId:``,leaveTypeId:``,fromDate:``,toDate:``,reason:``}),[T,E]=(0,_.useState)(new Date);(0,_.useEffect)(()=>{D()},[]);let D=async()=>{l(!0);try{let[e,n,i,o]=await Promise.all([ai.getAll(),ci.getCurrent(),ai.getLeaveTypes(),ai.getAllLeaveApplications()]);e?.success&&t(e.data||[]),n?.success&&s(n.data),i?.success&&r(i.data||[]),o?.success&&a(o.data||[])}catch(e){console.error(`Error:`,e)}finally{l(!1)}},O=async()=>{if(!C.teacherId||!C.leaveTypeId||!C.fromDate||!C.toDate){Z.error(`Please fill all required fields`);return}try{let e=await ai.applyLeave(C.teacherId,{leaveTypeId:C.leaveTypeId,fromDate:C.fromDate,toDate:C.toDate,reason:C.reason});e?.success?(Z.success(`Leave application submitted successfully!`),p(!1),w({teacherId:``,leaveTypeId:``,fromDate:``,toDate:``,reason:``}),D()):Z.error(e?.message||`Failed to apply leave`)}catch{Z.error(`Something went wrong`)}},k=async(e,t)=>{try{(await ai.processLeave(e.teacherId,e.id,{action:t}))?.success&&(Z.success(`Leave ${t} successfully`),D())}catch{Z.error(`Failed to process`)}},A=e=>ha[e]||ha.default,j=(e,t)=>{if(!e||!t)return 0;let n=new Date(t)-new Date(e);return Math.ceil(n/(1e3*60*60*24))+1},M=e=>e?new Date(e).toLocaleDateString(`en-IN`,{day:`numeric`,month:`short`,year:`numeric`}):``,N=i.filter(e=>e.status===`pending`),P=i.filter(e=>{let t=!y||e.teacherName?.toLowerCase().includes(y.toLowerCase()),n=!x||e.leaveTypeCode===x,r=u===`all`||e.status===u;return t&&n&&(u===`all`||r)}),{days:F,firstDay:I}=(e=>{let t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n+1,0).getDate(),i=new Date(t,n,1).getDay();return{days:r,firstDay:i}})(T),L=T.toLocaleDateString(`en-IN`,{month:`long`,year:`numeric`}),R=e=>{let t=new Date(T.getFullYear(),T.getMonth(),e).toISOString().split(`T`)[0];return i.filter(e=>{let n=new Date(e.fromDate).toISOString().split(`T`)[0],r=new Date(e.toDate).toISOString().split(`T`)[0];return e.status===`approved`&&t>=n&&t<=r})};return c?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading leave data...`})]})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h2`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Mn,{className:`w-8 h-8`}),`Leave Management`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Manage teacher leave applications easily`})]}),(0,Q.jsxs)(`button`,{onClick:()=>p(!0),className:`flex items-center gap-2 px-6 py-3 bg-white text-orange-600 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all hover:scale-105`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),` Apply Leave`]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-4xl font-bold`,children:N.length}),(0,Q.jsx)(`p`,{className:`text-white/80 text-sm`,children:`Pending Approval`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-4xl font-bold`,children:i.filter(e=>e.status===`approved`).length}),(0,Q.jsx)(`p`,{className:`text-white/80 text-sm`,children:`Approved`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-4xl font-bold`,children:i.filter(e=>e.status===`rejected`).length}),(0,Q.jsx)(`p`,{className:`text-white/80 text-sm`,children:`Rejected`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-4xl font-bold`,children:n.length}),(0,Q.jsx)(`p`,{className:`text-white/80 text-sm`,children:`Leave Types`})]})]})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 bg-gray-100 p-1.5 rounded-xl w-fit`,children:[{id:`pending`,label:`Pending`,count:N.length},{id:`approved`,label:`Approved`},{id:`rejected`,label:`Rejected`},{id:`all`,label:`All Applications`},{id:`calendar`,label:`Calendar View`}].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>d(e.id),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-2 ${u===e.id?`bg-white text-orange-600 shadow-md`:`text-gray-600 hover:text-gray-800`}`,children:[e.label,e.count>0&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 bg-red-500 text-white text-xs rounded-full`,children:e.count})]},e.id))}),u===`calendar`&&(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>E(new Date(T.getFullYear(),T.getMonth()-1)),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-bold text-gray-800`,children:L}),(0,Q.jsx)(`button`,{onClick:()=>E(new Date(T.getFullYear(),T.getMonth()+1)),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(Rn,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-7 gap-2`,children:[[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`].map(e=>(0,Q.jsx)(`div`,{className:`text-center text-sm font-medium text-gray-500 py-2`,children:e},e)),Array.from({length:I}).map((e,t)=>(0,Q.jsx)(`div`,{className:`p-2`},`empty-${t}`)),Array.from({length:F}).map((e,t)=>{let n=t+1,r=R(n),i=new Date().toDateString()===new Date(T.getFullYear(),T.getMonth(),n).toDateString();return(0,Q.jsxs)(`div`,{className:`min-h-[80px] p-2 rounded-lg border ${i?`border-orange-500 bg-orange-50`:`border-gray-100`}`,children:[(0,Q.jsx)(`p`,{className:`text-sm font-medium ${i?`text-orange-600`:`text-gray-700`}`,children:n}),r.slice(0,2).map(e=>(0,Q.jsx)(`div`,{className:`mt-1 px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs truncate`,children:e.teacherName?.split(` `)[0]},e.id)),r.length>2&&(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`+`,r.length-2,` more`]})]},n)})]})]}),u!==`calendar`&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 bg-white rounded-xl p-4 shadow-sm`,children:[(0,Q.jsxs)(`div`,{className:`relative flex-1 max-w-md`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search teacher name...`,value:y,onChange:e=>b(e.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500`})]}),(0,Q.jsxs)(`select`,{value:x,onChange:e=>S(e.target.value),className:`px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Leave Types`}),n.map(e=>(0,Q.jsx)(`option`,{value:e.code,children:e.name},e.id))]})]}),P.length===0?(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-12 text-center`,children:[(0,Q.jsx)(jn,{className:`w-20 h-20 text-gray-200 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-medium text-gray-600`,children:`No Leave Applications`}),(0,Q.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`There are no leave applications to display`})]}):(0,Q.jsx)(`div`,{className:`space-y-4`,children:P.map(e=>{let t=A(e.leaveTypeCode),n=ga[e.status]||ga.pending,r=t.icon,i=n.icon,a=j(e.fromDate,e.toDate);return(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow`,children:(0,Q.jsxs)(`div`,{className:`flex items-stretch`,children:[(0,Q.jsx)(`div`,{className:`w-2 ${t.color}`}),(0,Q.jsxs)(`div`,{className:`flex-1 p-5`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white font-bold text-lg shadow-lg`,children:e.teacherName?.split(` `).map(e=>e[0]).join(``).slice(0,2)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800 text-lg`,children:e.teacherName}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:e.employeeId||`Staff Member`})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 px-4 py-2 rounded-full ${n.bg} ${n.text}`,children:[(0,Q.jsx)(i,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`font-medium text-sm`,children:n.label})]})]}),(0,Q.jsxs)(`div`,{className:`mt-4 flex items-center gap-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 px-4 py-2 rounded-xl ${t.light}`,children:[(0,Q.jsx)(r,{className:`w-5 h-5 ${t.text}`}),(0,Q.jsx)(`span`,{className:`font-medium ${t.text}`,children:e.leaveTypeName})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-600`,children:[(0,Q.jsx)(Mn,{className:`w-4 h-4`}),(0,Q.jsxs)(`span`,{children:[M(e.fromDate),`  `,M(e.toDate)]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-lg`,children:[(0,Q.jsx)(`span`,{className:`text-2xl font-bold text-gray-800`,children:a}),(0,Q.jsxs)(`span`,{className:`text-gray-500 text-sm`,children:[`day`,a>1?`s`:``]})]})]}),e.reason&&(0,Q.jsx)(`div`,{className:`mt-3 p-3 bg-gray-50 rounded-xl`,children:(0,Q.jsxs)(`p`,{className:`text-gray-600 text-sm`,children:[(0,Q.jsx)(`span`,{className:`font-medium text-gray-700`,children:`Reason:`}),` `,e.reason]})}),e.status===`pending`&&(0,Q.jsxs)(`div`,{className:`mt-4 flex items-center gap-3`,children:[(0,Q.jsxs)(`button`,{onClick:()=>k(e,`approved`),className:`flex items-center gap-2 px-5 py-2.5 bg-green-500 text-white rounded-xl font-medium hover:bg-green-600 transition-colors shadow-lg shadow-green-500/30`,children:[(0,Q.jsx)(Fn,{className:`w-4 h-4`}),` Approve`]}),(0,Q.jsxs)(`button`,{onClick:()=>k(e,`rejected`),className:`flex items-center gap-2 px-5 py-2.5 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-colors shadow-lg shadow-red-500/30`,children:[(0,Q.jsx)(wn,{className:`w-4 h-4`}),` Reject`]})]})]})]})},e.id)})})]}),f&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-amber-500 to-orange-500 p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold flex items-center gap-2`,children:[(0,Q.jsx)(Mn,{className:`w-6 h-6`}),` Apply for Leave`]}),(0,Q.jsx)(`button`,{onClick:()=>p(!1),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-5`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(qr,{className:`w-4 h-4 inline mr-2`}),`Select Teacher`]}),(0,Q.jsxs)(`select`,{value:C.teacherId,onChange:e=>w({...C,teacherId:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Choose a teacher...`}),e.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.fullName,` - `,e.department||`Staff`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(Xn,{className:`w-4 h-4 inline mr-2`}),`Leave Type`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-3 gap-2`,children:n.map(e=>{let t=A(e.code),n=t.icon,r=C.leaveTypeId===e.id;return(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>w({...C,leaveTypeId:e.id}),className:`p-3 rounded-xl border-2 transition-all text-center ${r?`${t.light} border-current ${t.text}`:`border-gray-100 hover:border-gray-200`}`,children:[(0,Q.jsx)(n,{className:`w-6 h-6 mx-auto mb-1 ${r?t.text:`text-gray-400`}`}),(0,Q.jsx)(`p`,{className:`text-sm font-medium ${r?t.text:`text-gray-600`}`,children:e.code})]},e.id)})})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`From Date`}),(0,Q.jsx)(`input`,{type:`date`,value:C.fromDate,onChange:e=>w({...C,fromDate:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`To Date`}),(0,Q.jsx)(`input`,{type:`date`,value:C.toDate,onChange:e=>w({...C,toDate:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500`})]})]}),C.fromDate&&C.toDate&&(0,Q.jsxs)(`div`,{className:`p-4 bg-orange-50 rounded-xl text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold text-orange-600`,children:j(C.fromDate,C.toDate)}),(0,Q.jsx)(`p`,{className:`text-orange-700 text-sm`,children:`days of leave`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Reason (Optional)`}),(0,Q.jsx)(`textarea`,{value:C.reason,rows:3,placeholder:`Enter reason for leave...`,onChange:e=>w({...C,reason:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none`})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>p(!1),className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:O,className:`px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all`,children:`Submit Application`})]})]})})]})},va={present:{label:`Present`,short:`P`,color:`bg-green-500`,light:`bg-green-100`,text:`text-green-700`,icon:Bn},absent:{label:`Absent`,short:`A`,color:`bg-red-500`,light:`bg-red-100`,text:`text-red-700`,icon:Vn},half_day:{label:`Half Day`,short:`H`,color:`bg-amber-500`,light:`bg-amber-100`,text:`text-amber-700`,icon:Wn},on_leave:{label:`On Leave`,short:`L`,color:`bg-blue-500`,light:`bg-blue-100`,text:`text-blue-700`,icon:Mn}},ya=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)({}),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)(!0),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(new Date().toISOString().split(`T`)[0]),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(``),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)(new Date),[x,S]=(0,_.useState)(!1);(0,_.useEffect)(()=>{C()},[]),(0,_.useEffect)(()=>{i?.id&&w()},[u,i]);let C=async()=>{s(!0);try{let[e,n]=await Promise.all([ai.getAll(),ci.getCurrent()]);e?.success&&t(e.data||[]),n?.success&&a(n.data)}catch(e){console.error(`Error:`,e)}finally{s(!1)}},w=async()=>{try{let e=await ai.getAttendanceForDate(u);if(e?.success){let t={};(e.data||[]).forEach(e=>{t[e.teacherId]=e.status}),r(t)}}catch{r({})}},T=(e,t)=>{r(n=>({...n,[e]:n[e]===t?null:t})),S(!0)},E=e=>{let t={};k.forEach(n=>{t[n.id]=e}),r(e=>({...e,...t})),S(!0),Z.success(`Marked all as ${va[e].label}`)},D=async()=>{l(!0);try{let e=Object.entries(n).filter(([e,t])=>t).map(([e,t])=>({teacherId:e,status:t,date:u}));(await ai.saveAttendance(e))?.success?(Z.success(`Attendance saved successfully!`),S(!1)):Z.error(`Failed to save attendance`)}catch{Z.error(`Something went wrong`)}finally{l(!1)}},O=[...new Set(e.map(e=>e.department).filter(Boolean))],k=e.filter(e=>{let t=!f||e.fullName?.toLowerCase().includes(f.toLowerCase()),n=!m||e.department===m;return t&&n&&e.status===`active`}),A=Object.values(n).filter(e=>e===`present`).length,j=Object.values(n).filter(e=>e===`absent`).length,M=Object.values(n).filter(e=>e===`half_day`).length,N=Object.values(n).filter(e=>e===`on_leave`).length,P=k.length-Object.values(n).filter(Boolean).length,F=e=>new Date(e).toLocaleDateString(`en-IN`,{weekday:`long`,day:`numeric`,month:`long`,year:`numeric`}),I=u===new Date().toISOString().split(`T`)[0],L=[0,6].includes(new Date(u).getDay()),{days:R,firstDay:z}=(e=>{let t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n+1,0).getDate(),i=new Date(t,n,1).getDay();return{days:r,firstDay:i}})(y),ee=y.toLocaleDateString(`en-IN`,{month:`long`,year:`numeric`});return o?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading attendance...`})]})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 rounded-2xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h2`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Ur,{className:`w-8 h-8`}),`Teacher Attendance`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Mark daily attendance quickly and easily`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 bg-white/20 backdrop-blur-sm rounded-xl p-2`,children:[(0,Q.jsx)(`button`,{onClick:()=>{let e=new Date(u);e.setDate(e.getDate()-1),d(e.toISOString().split(`T`)[0])},className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{className:`text-center min-w-[200px]`,children:[(0,Q.jsx)(`input`,{type:`date`,value:u,onChange:e=>d(e.target.value),className:`bg-transparent border-0 text-white font-medium text-center focus:outline-none cursor-pointer`}),(0,Q.jsx)(`p`,{className:`text-xs text-white/70`,children:I?`Today`:F(u).split(`,`)[0]})]}),(0,Q.jsx)(`button`,{onClick:()=>{let e=new Date(u);e.setDate(e.getDate()+1),d(e.toISOString().split(`T`)[0])},className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(Rn,{className:`w-5 h-5`})})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-5 gap-4 mt-6`,children:[Object.entries(va).map(([e,t])=>{let n=e===`present`?A:e===`absent`?j:e===`half_day`?M:N;return(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(t.icon,{className:`w-6 h-6 mx-auto mb-2`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:n}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:t.label})]},e)}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(zn,{className:`w-6 h-6 mx-auto mb-2`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:P}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Not Marked`})]})]})]}),L&&(0,Q.jsxs)(`div`,{className:`bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center gap-3`,children:[(0,Q.jsx)(Nr,{className:`w-6 h-6 text-amber-500`}),(0,Q.jsx)(`p`,{className:`text-amber-700`,children:`This date falls on a weekend. Attendance marking might not be required.`})]}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between flex-wrap gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search teacher...`,value:f,onChange:e=>p(e.target.value),className:`pl-10 pr-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 w-64`})]}),(0,Q.jsxs)(`select`,{value:m,onChange:e=>h(e.target.value),className:`px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Departments`}),O.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 bg-gray-100 rounded-xl p-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-500 px-2`,children:`Mark All:`}),(0,Q.jsx)(`button`,{onClick:()=>E(`present`),className:`p-2 hover:bg-green-100 rounded-lg text-green-600`,title:`Mark all Present`,children:(0,Q.jsx)(Bn,{className:`w-5 h-5`})}),(0,Q.jsx)(`button`,{onClick:()=>E(`absent`),className:`p-2 hover:bg-red-100 rounded-lg text-red-600`,title:`Mark all Absent`,children:(0,Q.jsx)(Vn,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`button`,{onClick:()=>v(!g),className:`px-4 py-2.5 rounded-xl font-medium transition-all ${g?`bg-green-100 text-green-700`:`bg-gray-100 text-gray-600`}`,children:[(0,Q.jsx)(jn,{className:`w-5 h-5 inline mr-2`}),`Monthly View`]}),(0,Q.jsxs)(`button`,{onClick:D,disabled:c||!x,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-medium transition-all ${x?`bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/30`:`bg-gray-200 text-gray-500 cursor-not-allowed`}`,children:[c?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Er,{className:`w-4 h-4`}),c?`Saving...`:`Save Attendance`]})]})]})}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:k.map(e=>{let t=n[e.id],r=t?va[t]:null;return(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-md overflow-hidden transition-all hover:shadow-lg ${t?`ring-2 ${r.text.replace(`text`,`ring`)}`:``}`,children:[(0,Q.jsx)(`div`,{className:`p-4 ${t?r.light:`bg-gray-50`}`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg ${t?r.color:`bg-gray-400`}`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800 truncate`,children:e.fullName}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 truncate`,children:e.department||`Staff`})]}),t&&(0,Q.jsx)(`div`,{className:`px-3 py-1 rounded-full text-xs font-bold ${r.color} text-white`,children:r.short})]})}),(0,Q.jsx)(`div`,{className:`p-3 grid grid-cols-4 gap-2`,children:Object.entries(va).map(([n,r])=>{let i=t===n,a=r.icon;return(0,Q.jsxs)(`button`,{onClick:()=>T(e.id,n),className:`flex flex-col items-center justify-center p-2 rounded-xl transition-all ${i?`${r.color} text-white shadow-lg`:`${r.light} ${r.text} hover:shadow-md`}`,children:[(0,Q.jsx)(a,{className:`w-5 h-5`}),(0,Q.jsx)(`span`,{className:`text-xs mt-1 font-medium`,children:r.short})]},n)})})]},e.id)})}),g&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-green-500 to-emerald-500 p-6 text-white`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold`,children:`Monthly Attendance Overview`}),(0,Q.jsx)(`button`,{onClick:()=>v(!1),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-center gap-4 mt-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>b(new Date(y.getFullYear(),y.getMonth()-1)),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsx)(`h4`,{className:`text-lg font-medium min-w-[200px] text-center`,children:ee}),(0,Q.jsx)(`button`,{onClick:()=>b(new Date(y.getFullYear(),y.getMonth()+1)),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(Rn,{className:`w-5 h-5`})})]})]}),(0,Q.jsxs)(`div`,{className:`p-6 overflow-auto max-h-[60vh]`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-7 gap-1`,children:[[`S`,`M`,`T`,`W`,`T`,`F`,`S`].map((e,t)=>(0,Q.jsx)(`div`,{className:`text-center text-sm font-medium text-gray-500 py-2`,children:e},t)),Array.from({length:z}).map((e,t)=>(0,Q.jsx)(`div`,{className:`p-2`},`e-${t}`)),Array.from({length:R}).map((e,t)=>{let n=t+1,r=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,`0`)}-${String(n).padStart(2,`0`)}`,i=[0,6].includes(new Date(r).getDay()),a=r===new Date().toISOString().split(`T`)[0];return(0,Q.jsx)(`button`,{onClick:()=>{d(r),v(!1)},className:`p-3 rounded-xl text-center transition-all hover:bg-gray-100 ${a?`bg-green-100 text-green-700 font-bold`:i?`bg-gray-50 text-gray-400`:``}`,children:(0,Q.jsx)(`span`,{className:`text-lg`,children:n})},n)})]}),(0,Q.jsxs)(`div`,{className:`mt-6 pt-6 border-t border-gray-100`,children:[(0,Q.jsx)(`h5`,{className:`font-medium text-gray-700 mb-3`,children:`Quick Guide`}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-4`,children:Object.entries(va).map(([e,t])=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`div`,{className:`w-4 h-4 rounded ${t.color}`}),(0,Q.jsxs)(`span`,{className:`text-sm text-gray-600`,children:[t.label,` (`,t.short,`)`]})]},e))})]})]})]})}),x&&(0,Q.jsxs)(`div`,{className:`fixed bottom-6 left-1/2 -translate-x-1/2 bg-amber-500 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-40`,children:[(0,Q.jsx)(zn,{className:`w-5 h-5`}),(0,Q.jsx)(`span`,{className:`font-medium`,children:`You have unsaved changes`}),(0,Q.jsx)(`button`,{onClick:D,className:`px-4 py-1 bg-white text-amber-600 rounded-full font-medium text-sm`,children:`Save Now`})]})]})},ba=[`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],xa=[{bg:`bg-blue-100`,border:`border-blue-300`,text:`text-blue-700`,accent:`bg-blue-500`},{bg:`bg-purple-100`,border:`border-purple-300`,text:`text-purple-700`,accent:`bg-purple-500`},{bg:`bg-green-100`,border:`border-green-300`,text:`text-green-700`,accent:`bg-green-500`},{bg:`bg-amber-100`,border:`border-amber-300`,text:`text-amber-700`,accent:`bg-amber-500`},{bg:`bg-rose-100`,border:`border-rose-300`,text:`text-rose-700`,accent:`bg-rose-500`},{bg:`bg-cyan-100`,border:`border-cyan-300`,text:`text-cyan-700`,accent:`bg-cyan-500`},{bg:`bg-indigo-100`,border:`border-indigo-300`,text:`text-indigo-700`,accent:`bg-indigo-500`},{bg:`bg-teal-100`,border:`border-teal-300`,text:`text-teal-700`,accent:`bg-teal-500`}],Sa=(e,t)=>(t[e]||(t[e]=xa[Object.keys(t).length%xa.length]),t[e]),Ca=()=>{let e=ke(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)([]),[a,o]=(0,_.useState)([]),[s,c]=(0,_.useState)(null),[l,u]=(0,_.useState)({}),[d,f]=(0,_.useState)(null),[p,m]=(0,_.useState)([]),[h,g]=(0,_.useState)([]),[v,y]=(0,_.useState)(!0),[b,x]=(0,_.useState)(!1),[S,C]=(0,_.useState)({}),[w,T]=(0,_.useState)({}),[E,D]=(0,_.useState)({}),[O,k]=(0,_.useState)(null),[A,j]=(0,_.useState)(null),[M,N]=(0,_.useState)(`teacher`),[P,F]=(0,_.useState)(null),[I,L]=(0,_.useState)(!0),[R,z]=(0,_.useState)(``),[ee]=(0,_.useState)({}),[B,V]=(0,_.useState)({subjectId:``,classSectionId:``,teacherId:``,room:``}),[H,U]=(0,_.useState)([]),[W,G]=(0,_.useState)([]),[K,te]=(0,_.useState)([]);(0,_.useEffect)(()=>{ne()},[]),(0,_.useEffect)(()=>{ie()},[O,A,M,r,s]),(0,_.useEffect)(()=>{(O||A)&&s?.id&&re()},[O,A,s]);let ne=async()=>{y(!0);try{let[e,t,r,a,s]=await Promise.all([ai.getAll(),ui.getAll(),li.getClassSections(),ci.getCurrent(),pi.getDayWiseWithPeriods()]);if(e?.success&&n(e.data||[]),t?.success&&i(t.data||[]),r?.success&&o(r.data||[]),a?.success&&c(a.data),s?.success&&s.data&&(f(s.data),x(s.data.isConfigured),s.data.isConfigured&&s.data.dayTimings)){let e={},t={},n={};s.data.dayTimings.forEach(r=>{let i=r.dayName;r.isWorkingDay&&(n[i]=r.templateName,e[i]=(r.periods||[]).map(e=>({id:e.id,name:e.name,shortName:e.shortName,start:e.startTime?.substring(0,5),end:e.endTime?.substring(0,5),type:`class`,periodNumber:e.periodNumber})),t[i]=(r.breaks||[]).map(e=>({id:e.id,name:e.name,shortName:e.shortName,start:e.startTime?.substring(0,5),end:e.endTime?.substring(0,5),type:`break`,breakType:e.breakType,afterPeriod:e.afterPeriod})))}),C(e),T(t),D(n);let r=ba.find(t=>e[t]?.length>0)||`Monday`,i=e[r]||[],a=t[r]||[],o=[...i,...a].sort((e,t)=>(e.start||``).localeCompare(t.start||``));m(o),g(a)}}catch(e){console.error(`Error:`,e)}finally{y(!1)}},re=async()=>{if(s?.id)try{let e;M===`teacher`&&O?.id?e=await hi.getTeacher(O.id,{academic_session_id:s.id}):M===`class`&&A?.id&&(e=await hi.getClass(A.id,{academic_session_id:s.id})),e?.success&&u(e.data||{})}catch(e){console.error(`Error fetching timetable:`,e)}},ie=async()=>{let e=a.filter(e=>e.academicSessionId===s?.id);if(!s?.id){U(r),G(e),te(t);return}try{if(M===`teacher`&&O?.id){let t=await oi.getByTeacher({academic_session_id:s.id});if(t?.success&&t.data){let n=t.data.find(e=>e.teacherId===O.id);if(n&&n.assignments&&n.assignments.length>0){let t=[...new Set(n.assignments.map(e=>e.subjectId))],i=r.filter(e=>t.includes(e.id));U(i.length>0?i:r);let a=[...new Set(n.assignments.map(e=>e.classSectionId).filter(Boolean))],o=e.filter(e=>a.includes(e.id));G(o.length>0?o:e)}else U(r),G(e)}else U(r),G(e)}else if(M===`class`&&A?.id){let e=await oi.getByClass({academic_session_id:s.id});if(e?.success&&e.data){let n=e.data.find(e=>e.classSectionId===A.id);if(n&&n.assignments&&n.assignments.length>0){let e=[...new Set(n.assignments.map(e=>e.subjectId))],i=r.filter(t=>e.includes(t.id));U(i.length>0?i:r);let a=[...new Set(n.assignments.map(e=>e.teacherId).filter(Boolean))],o=t.filter(e=>a.includes(e.id));te(o.length>0?o:t)}else U(r),te(t)}else U(r),te(t)}else U(r),G(e),te(t)}catch(n){console.error(`Error filtering subjects:`,n),U(r),G(e),te(t)}},ae=async(e,t,n)=>{try{let r={academicSessionId:s?.id,dayOfWeek:e,periodNumber:t,periodId:n.periodId||null,teacherId:M===`teacher`?O?.id:n.teacherId||null,classSectionId:M===`class`?A?.id:n.classSectionId||null,subjectId:n.subjectId||null,room:n.room||null,notes:n.notes||null},i=await hi.save(r);if(i?.success){let r=`${e}-${t}`;u(i=>({...i,[r]:{...n,dayOfWeek:e,periodNumber:t}})),F(null),V({subjectId:``,classSectionId:``,teacherId:``,room:``}),Z.success(`Period added to timetable`)}else Z.error(i?.message||`Failed to save`)}catch(e){console.error(`Error:`,e),Z.error(`Failed to add period`)}},oe=async(e,t)=>{try{let n=await hi.remove({academicSessionId:s?.id,dayOfWeek:e,periodNumber:t,teacherId:M===`teacher`?O?.id:null,classSectionId:M===`class`?A?.id:null});if(n?.success){let n=`${e}-${t}`;u(e=>{let t={...e};return delete t[n],t}),Z.success(`Period removed`)}else Z.error(n?.message||`Failed to remove`)}catch(e){console.error(`Error:`,e),Z.error(`Failed to remove period`)}},q=t.filter(e=>!R||e.fullName?.toLowerCase().includes(R.toLowerCase())),se=a.filter(e=>e.academicSessionId===s?.id),ce=e=>{let t=parseInt(e.split(`:`)[0]);return t<10?Pr:t<12?Nr:t<14?Wn:Fr};return v?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading timetable...`})]})}):!b||p.length===0?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center max-w-md`,children:[(0,Q.jsx)(`div`,{className:`w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(Un,{className:`w-10 h-10 text-amber-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Class Timings Not Configured`}),(0,Q.jsx)(`p`,{className:`text-gray-500 mb-6`,children:`Please configure your school's class timings (periods, breaks, working hours) before using the timetable.`}),(0,Q.jsxs)(`button`,{onClick:()=>e(`/settings/class-timings`),className:`inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all`,children:[(0,Q.jsx)(Or,{className:`w-5 h-5`}),`Configure Class Timings`]})]})}):(0,Q.jsxs)(`div`,{className:`flex h-full gap-6`,children:[I&&(0,Q.jsx)(`div`,{className:`w-80 flex-shrink-0`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden h-full`,children:[(0,Q.jsx)(`div`,{className:`p-4 border-b border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex bg-gray-100 rounded-xl p-1`,children:[(0,Q.jsxs)(`button`,{onClick:()=>{N(`teacher`),j(null)},className:`flex-1 py-2 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${M===`teacher`?`bg-white shadow-md text-purple-600`:`text-gray-500`}`,children:[(0,Q.jsx)(Jr,{className:`w-4 h-4`}),` Teachers`]}),(0,Q.jsxs)(`button`,{onClick:()=>{N(`class`),k(null)},className:`flex-1 py-2 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${M===`class`?`bg-white shadow-md text-purple-600`:`text-gray-500`}`,children:[(0,Q.jsx)(kn,{className:`w-4 h-4`}),` Classes`]})]})}),(0,Q.jsx)(`div`,{className:`p-4`,children:(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search ${M}...`,value:R,onChange:e=>z(e.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500`})]})}),(0,Q.jsx)(`div`,{className:`overflow-y-auto p-4 pt-0`,style:{maxHeight:`calc(100vh - 350px)`},children:M===`teacher`?(0,Q.jsx)(`div`,{className:`space-y-2`,children:q.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>k(e),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left ${O?.id===e.id?`bg-purple-100 border-2 border-purple-300`:`hover:bg-gray-50 border-2 border-transparent`}`,children:[(0,Q.jsxs)(`div`,{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold ${O?.id===e.id?`bg-purple-500`:`bg-gray-400`}`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 truncate`,children:e.fullName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 truncate`,children:e.department||`Staff`})]})]},e.id))}):(0,Q.jsx)(`div`,{className:`space-y-2`,children:se.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>j(e),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left ${A?.id===e.id?`bg-purple-100 border-2 border-purple-300`:`hover:bg-gray-50 border-2 border-transparent`}`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold ${A?.id===e.id?`bg-purple-500`:`bg-gray-400`}`,children:e.gradeDisplayName?.replace(/[^0-9]/g,``)||`C`}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsxs)(`p`,{className:`font-medium text-gray-800`,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.roomNumber||`Room not assigned`})]})]},e.id))})})]})}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-600 rounded-2xl p-6 text-white shadow-xl mb-6`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h2`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Qn,{className:`w-8 h-8`}),`Weekly Timetable`]}),O&&(0,Q.jsxs)(`p`,{className:`text-white/80 mt-1`,children:[`Viewing timetable for `,(0,Q.jsx)(`strong`,{children:O.fullName})]}),A&&(0,Q.jsxs)(`p`,{className:`text-white/80 mt-1`,children:[`Viewing timetable for `,(0,Q.jsxs)(`strong`,{children:[A.gradeDisplayName,` - `,A.sectionDisplayName]})]}),!O&&!A&&(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Select a teacher or class to view their timetable`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>L(!I),className:`p-3 bg-white/20 hover:bg-white/30 rounded-xl transition-colors`,children:(0,Q.jsx)(sr,{className:`w-5 h-5`})}),(0,Q.jsx)(`button`,{onClick:re,className:`p-3 bg-white/20 hover:bg-white/30 rounded-xl transition-colors`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]})]})}),O||A?(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden`,children:(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full border-collapse min-w-[900px]`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-50`,children:[(0,Q.jsx)(`th`,{className:`p-4 text-left text-sm font-semibold text-gray-600 border-b border-gray-200 sticky left-0 bg-gray-50 z-10 w-28`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Un,{className:`w-4 h-4`}),`Time`]})}),ba.map(e=>{let t=E[e];return(0,Q.jsxs)(`th`,{className:`p-4 text-center border-b border-gray-200 min-w-[140px]`,children:[(0,Q.jsx)(`div`,{className:`text-sm font-semibold text-gray-700`,children:e}),t&&t!==`Default`&&t!==`Regular Day`&&(0,Q.jsx)(`div`,{className:`text-xs text-purple-600 font-medium mt-1 bg-purple-50 px-2 py-0.5 rounded-full inline-block`,children:t})]},e)})]})}),(0,Q.jsx)(`tbody`,{children:(()=>{let e=Math.max(...ba.map(e=>(S[e]||[]).filter(e=>e.type!==`break`).length),p.filter(e=>e.type!==`break`).length),t=[];for(let n=1;n<=e;n++)t.push({type:`period`,periodNumber:n}),ba.some(e=>(w[e]||h).some(e=>e.afterPeriod===n))&&n<e&&t.push({type:`break`,afterPeriod:n});return t.map((e,t)=>{let n=e.type===`break`;return(0,Q.jsxs)(`tr`,{className:n?`bg-amber-50`:t%2==0?`bg-white`:`bg-gray-50/50`,children:[(0,Q.jsx)(`td`,{className:`p-3 border-b border-gray-100 sticky left-0 z-10 ${n?`bg-amber-50`:t%2==0?`bg-white`:`bg-gray-50`}`,children:(0,Q.jsx)(`div`,{className:`flex items-center gap-2`,children:n?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Wn,{className:`w-4 h-4 text-amber-500`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-amber-700`,children:`Break`}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`After P`,e.afterPeriod]})]})]}):(0,Q.jsx)(Q.Fragment,{children:(()=>{let t=(S.Monday||p).find(t=>t.periodNumber===e.periodNumber),n=ce(t?.start);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(n,{className:`w-4 h-4 text-gray-400`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`p`,{className:`font-medium text-gray-800`,children:[`Period `,e.periodNumber]}),t&&(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[t.start,` - `,t.end]})]})]})})()})})}),ba.map(t=>{let r=S[t]||p,i=w[t]||h;if(n){let n=i.find(t=>t.afterPeriod===e.afterPeriod);return(0,Q.jsx)(`td`,{className:`p-2 border-b border-gray-100 text-center`,children:n?(0,Q.jsxs)(`div`,{className:`px-3 py-2 bg-amber-100/50 rounded-xl`,children:[(0,Q.jsx)(Wn,{className:`w-4 h-4 text-amber-500 mx-auto`}),(0,Q.jsxs)(`p`,{className:`text-xs text-amber-700 mt-1`,children:[n.start,`-`,n.end]})]}):(0,Q.jsx)(`div`,{className:`px-3 py-2 text-gray-300 text-xs`,children:``})},t)}let a=r.find(t=>t.periodNumber===e.periodNumber);if(!a)return(0,Q.jsx)(`td`,{className:`p-2 border-b border-gray-100 text-center`,children:(0,Q.jsx)(`div`,{className:`text-gray-300 text-xs`,children:`No period`})},t);let o=`${t}-${e.periodNumber}`,s=l[o],c=s?Sa(s.subjectId,ee):null;return(0,Q.jsxs)(`td`,{className:`p-2 border-b border-gray-100`,children:[E[t]&&E[t]!==`Default`&&E[t]!==`Regular Day`&&(0,Q.jsxs)(`div`,{className:`text-xs text-purple-500 mb-1 text-center font-medium`,children:[a.start,`-`,a.end]}),s?(0,Q.jsxs)(`div`,{className:`group relative p-3 rounded-xl border-2 ${c.bg} ${c.border} transition-all hover:shadow-md`,children:[(0,Q.jsx)(`div`,{className:`absolute left-0 top-0 bottom-0 w-1 ${c.accent} rounded-l-lg`}),(0,Q.jsx)(`p`,{className:`font-semibold ${c.text} text-sm truncate`,children:s.subjectName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 truncate mt-1`,children:M===`teacher`?s.className:s.teacherName}),(0,Q.jsx)(`button`,{onClick:()=>oe(t,e.periodNumber),className:`absolute top-1 right-1 p-1 opacity-0 group-hover:opacity-100 hover:bg-red-100 rounded-lg transition-all`,children:(0,Q.jsx)(X,{className:`w-3 h-3 text-red-500`})})]}):(0,Q.jsx)(`button`,{onClick:()=>F({day:t,periodId:a.id,periodNumber:e.periodNumber}),className:`w-full h-full min-h-[60px] border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50 transition-all flex items-center justify-center group`,children:(0,Q.jsx)(Cr,{className:`w-5 h-5 text-gray-300 group-hover:text-purple-500`})})]},t)})]},`row-${t}`)})})()})]})})}):(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-16 text-center`,children:[(0,Q.jsx)(`div`,{className:`w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6`,children:(0,Q.jsx)(Mn,{className:`w-12 h-12 text-gray-300`})}),(0,Q.jsx)(`h3`,{className:`text-2xl font-semibold text-gray-700 mb-2`,children:`No Timetable Selected`}),(0,Q.jsx)(`p`,{className:`text-gray-500 mb-6`,children:`Choose a teacher or class from the sidebar to view their weekly timetable`}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-center gap-6 text-sm text-gray-400`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Jr,{className:`w-5 h-5`}),(0,Q.jsxs)(`span`,{children:[t.length,` Teachers`]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(kn,{className:`w-5 h-5`}),(0,Q.jsxs)(`span`,{children:[a.length,` Classes`]})]})]})]}),(O||A)&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-4 shadow-sm flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-purple-100 rounded-xl`,children:(0,Q.jsx)(Un,{className:`w-6 h-6 text-purple-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-gray-800`,children:Object.keys(l).length}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Periods/Week`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-4 shadow-sm flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-blue-100 rounded-xl`,children:(0,Q.jsx)(En,{className:`w-6 h-6 text-blue-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-gray-800`,children:new Set(Object.values(l).map(e=>e?.subjectId).filter(Boolean)).size}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Subjects`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-4 shadow-sm flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-green-100 rounded-xl`,children:(0,Q.jsx)(kn,{className:`w-6 h-6 text-green-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-gray-800`,children:new Set(Object.values(l).map(e=>e?.classId).filter(Boolean)).size}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Classes`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-4 shadow-sm flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-amber-100 rounded-xl`,children:(0,Q.jsx)(Wn,{className:`w-6 h-6 text-amber-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-gray-800`,children:p.filter(e=>e.type===`break`).length}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`Breaks`})]})]})]})]}),P&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold`,children:`Add Period`}),(0,Q.jsxs)(`p`,{className:`text-white/70 text-sm mt-1`,children:[P.day,` - `,p.find(e=>e.id===P.periodId)?.name]})]}),(0,Q.jsx)(`button`,{onClick:()=>F(null),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(En,{className:`w-4 h-4 inline mr-2`}),`Subject *`,H.length<r.length&&(0,Q.jsxs)(`span`,{className:`ml-2 text-xs text-purple-600 font-normal`,children:[`(Showing `,H.length,` assigned subjects)`]})]}),(0,Q.jsxs)(`select`,{value:B.subjectId,onChange:e=>V({...B,subjectId:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),H.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.code,`)`]},e.id))]})]}),M===`teacher`?(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(kn,{className:`w-4 h-4 inline mr-2`}),`Class *`,W.length<a.length&&(0,Q.jsxs)(`span`,{className:`ml-2 text-xs text-purple-600 font-normal`,children:[`(Showing `,W.length,` assigned classes)`]})]}),(0,Q.jsxs)(`select`,{value:B.classSectionId,onChange:e=>V({...B,classSectionId:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Class`}),W.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName,` - `,e.sectionDisplayName]},e.id))]})]}):(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(Jr,{className:`w-4 h-4 inline mr-2`}),`Teacher *`,K.length<t.length&&(0,Q.jsxs)(`span`,{className:`ml-2 text-xs text-purple-600 font-normal`,children:[`(Showing `,K.length,` assigned teachers)`]})]}),(0,Q.jsxs)(`select`,{value:B.teacherId,onChange:e=>V({...B,teacherId:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),K.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Room (Optional)`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`e.g., Room 101`,value:B.room,onChange:e=>V({...B,room:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500`})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>{F(null),V({subjectId:``,classSectionId:``,teacherId:``,room:``})},className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>ae(P.day,P.periodNumber,{periodId:P.periodId,subjectId:B.subjectId,classSectionId:B.classSectionId,teacherId:B.teacherId,room:B.room}),className:`px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed`,disabled:!B.subjectId||(M===`teacher`?!B.classSectionId:!B.teacherId),children:`Add to Timetable`})]})]})})]})},wa=()=>{let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(null),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)(!0),[m,h]=(0,_.useState)(new Date().toISOString().split(`T`)[0]),[g,v]=(0,_.useState)(`all`),[y,b]=(0,_.useState)(``),[x,S]=(0,_.useState)(``),[C,w]=(0,_.useState)(null);(0,_.useEffect)(()=>{T()},[]),(0,_.useEffect)(()=>{e?.id&&(E(),D())},[m,e,y,x,g]);let T=async()=>{p(!0);try{let[e,n]=await Promise.all([ci.getCurrent(),ai.getAll()]);if(e?.success&&t(e.data),n?.success){let e=(n.data||[]).filter(e=>e.status===`active`);r(e)}}catch(e){console.error(`Error fetching initial data:`,e),Z.error(`Failed to load data`)}finally{p(!1)}},E=async()=>{if(e?.id)try{let t=await li.getClassSections({academic_session_id:e.id});if(t?.success){let e=[],n=new Set;(t.data||[]).forEach(t=>{n.has(t.id)||(n.add(t.id),e.push(t))}),a(e)}}catch(e){console.error(`Error fetching class sections:`,e)}},D=async()=>{if(e?.id)try{let t={date:m,academic_session_id:e.id};g===`teacher`&&y&&(t.teacher_id=y),g===`class`&&x&&(t.class_section_id=x);let[n,r]=await Promise.all([hi.getDaily(t),hi.getSubstitutions(m)]);n?.success&&s(n.data),r?.success&&l(r.data||[])}catch(e){console.error(`Error fetching daily data:`,e)}},O=async t=>{try{let n=await hi.getAvailableTeachers({date:m,period_number:t.periodNumber,exclude_teacher_id:t.originalTeacherId,academic_session_id:e.id});n?.success&&(d(n.data||[]),w(t))}catch{Z.error(`Failed to find available teachers`)}},k=async t=>{if(C)try{let n=await hi.createSubstitution({academicSessionId:e.id,date:m,dayOfWeek:o.dayOfWeek,periodNumber:C.periodNumber,originalTeacherId:C.originalTeacherId,substituteTeacherId:t,classSectionId:C.classSectionId,subjectId:C.subjectId,reason:`Teacher unavailable`});n?.success?(Z.success(n.message||`Substitute assigned successfully`),w(null),D()):Z.error(n?.message||`Failed to assign substitute`)}catch(e){console.error(`Substitution error:`,e),Z.error(`Something went wrong while assigning substitute`)}},A=async e=>{try{(await hi.removeSubstitution(e))?.success&&(Z.success(`Substitution removed`),D())}catch{Z.error(`Failed to remove substitution`)}},j=e=>{let t=new Date(m);t.setDate(t.getDate()+e),h(t.toISOString().split(`T`)[0])},M=e=>new Date(e).toLocaleDateString(`en-IN`,{weekday:`long`,day:`numeric`,month:`long`,year:`numeric`});return f?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsx)(wr,{className:`w-8 h-8 animate-spin text-indigo-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 rounded-3xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h2`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Mn,{className:`w-8 h-8`}),`Daily Timetable`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:M(m)})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`button`,{onClick:()=>j(-1),className:`p-2 bg-white/20 hover:bg-white/30 rounded-xl transition-all`,children:(0,Q.jsx)(Ln,{className:`w-5 h-5`})}),(0,Q.jsx)(`input`,{type:`date`,value:m,onChange:e=>h(e.target.value),className:`bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 text-white font-medium focus:outline-none focus:ring-2 focus:ring-white/50`}),(0,Q.jsx)(`button`,{onClick:()=>j(1),className:`p-2 bg-white/20 hover:bg-white/30 rounded-xl transition-all`,children:(0,Q.jsx)(Rn,{className:`w-5 h-5`})}),(0,Q.jsx)(`button`,{onClick:()=>h(new Date().toISOString().split(`T`)[0]),className:`px-4 py-2 bg-white text-blue-600 rounded-xl font-medium hover:bg-white/90 ml-2`,children:`Today`})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-6 mt-4 pt-4 border-t border-white/20`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(En,{className:`w-5 h-5 text-white/70`}),(0,Q.jsx)(`span`,{className:`text-lg font-semibold`,children:o?.entries?.length||0}),(0,Q.jsx)(`span`,{className:`text-white/70 text-sm`,children:`Classes`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Gr,{className:`w-5 h-5 text-amber-300`}),(0,Q.jsx)(`span`,{className:`text-lg font-semibold`,children:c.length}),(0,Q.jsx)(`span`,{className:`text-white/70 text-sm`,children:`Substitutions`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Jr,{className:`w-5 h-5 text-white/70`}),(0,Q.jsx)(`span`,{className:`text-lg font-semibold`,children:n.length}),(0,Q.jsx)(`span`,{className:`text-white/70 text-sm`,children:`Teachers`})]})]})]}),(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-lg p-5`,children:(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`flex bg-gray-100 rounded-xl p-1`,children:[{id:`all`,label:`All Classes`,icon:Jn},{id:`teacher`,label:`By Teacher`,icon:qr},{id:`class`,label:`By Class`,icon:Zn}].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>{v(e.id),b(``),S(``)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${g===e.id?`bg-white text-blue-600 shadow-sm`:`text-gray-600 hover:text-gray-800`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label]},e.id))}),g===`teacher`&&(0,Q.jsxs)(`select`,{value:y,onChange:e=>b(e.target.value),className:`px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 min-w-[250px]`,children:[(0,Q.jsx)(`option`,{value:``,children:`-- Select Teacher --`}),n.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.first_name,` `,e.last_name,` `,e.employee_id?`(${e.employee_id})`:``]},e.id))]}),g===`class`&&(0,Q.jsxs)(`select`,{value:x,onChange:e=>S(e.target.value),className:`px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 min-w-[250px]`,children:[(0,Q.jsx)(`option`,{value:``,children:`-- Select Class --`}),i.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeName||e.grade_name,` - `,e.sectionName||e.section_name]},e.id))]}),(0,Q.jsxs)(`button`,{onClick:D,className:`ml-auto flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-xl border border-gray-200`,children:[(0,Q.jsx)(wr,{className:`w-4 h-4`}),`Refresh`]})]})}),c.length>0&&(0,Q.jsxs)(`div`,{className:`bg-amber-50 border border-amber-200 rounded-2xl p-5`,children:[(0,Q.jsxs)(`h3`,{className:`font-semibold text-amber-800 flex items-center gap-2 mb-3`,children:[(0,Q.jsx)(Vr,{className:`w-5 h-5`}),`Today's Substitutions (`,c.length,`)`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:c.map(e=>(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-3 border border-amber-200 flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`p`,{className:`font-medium text-gray-800`,children:[`Period `,e.periodNumber]}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[e.originalTeacher,` `,(0,Q.jsx)(Sn,{className:`w-3 h-3 inline mx-1`}),(0,Q.jsx)(`span`,{className:`text-amber-700 font-medium`,children:e.substituteTeacher})]}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-400`,children:e.className})]}),(0,Q.jsx)(`button`,{onClick:()=>A(e.id),className:`p-2 text-red-500 hover:bg-red-50 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-4 h-4`})})]},e.id))})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200`,children:(0,Q.jsxs)(`h3`,{className:`font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Un,{className:`w-5 h-5 text-gray-500`}),o?.dayOfWeek||`Schedule`,` - `,M(m)]})}),o?.entries?.length?(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`bg-gray-50`,children:[(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 border-b`,children:`Period`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 border-b`,children:`Time`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 border-b`,children:`Subject`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 border-b`,children:`Class`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-600 border-b`,children:`Teacher`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-center text-sm font-semibold text-gray-600 border-b`,children:`Status`}),(0,Q.jsx)(`th`,{className:`px-4 py-3 text-center text-sm font-semibold text-gray-600 border-b`,children:`Action`})]})}),(0,Q.jsx)(`tbody`,{children:o.entries.map((e,t)=>(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50 ${e.isSubstituted?`bg-amber-50`:``}`,children:[(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b`,children:(0,Q.jsxs)(`div`,{className:`inline-flex items-center justify-center w-10 h-10 rounded-xl font-bold ${e.isSubstituted?`bg-amber-200 text-amber-800`:`bg-indigo-100 text-indigo-700`}`,children:[`P`,e.periodNumber]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-600`,children:[(0,Q.jsx)(Un,{className:`w-4 h-4 text-gray-400`}),(0,Q.jsxs)(`span`,{className:`font-medium`,children:[e.startTime?.slice(0,5)||`--:--`,` - `,e.endTime?.slice(0,5)||`--:--`]})]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(En,{className:`w-4 h-4 text-indigo-500`}),(0,Q.jsx)(`span`,{className:`font-semibold text-gray-800`,children:e.subjectName||`No Subject`})]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Zn,{className:`w-4 h-4 text-green-500`}),(0,Q.jsx)(`span`,{className:`text-gray-700`,children:e.fullClassName||`No Class`})]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b`,children:e.isSubstituted?(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-400 line-through`,children:e.originalTeacherName}),(0,Q.jsxs)(`p`,{className:`font-medium text-amber-700 flex items-center gap-1`,children:[(0,Q.jsx)(Gr,{className:`w-4 h-4`}),e.substituteTeacherName]})]}):(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(qr,{className:`w-4 h-4 text-blue-500`}),(0,Q.jsx)(`span`,{className:`font-medium text-gray-800`,children:e.effectiveTeacherName||`No Teacher`})]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b text-center`,children:e.isSubstituted?(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium`,children:[(0,Q.jsx)(Gr,{className:`w-3 h-3`}),`Substituted`]}):(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium`,children:[(0,Q.jsx)(Bn,{className:`w-3 h-3`}),`Regular`]})}),(0,Q.jsx)(`td`,{className:`px-4 py-4 border-b text-center`,children:e.isSubstituted?(0,Q.jsx)(`button`,{onClick:()=>A(e.substitutionId),className:`px-3 py-1.5 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium border border-red-200`,children:`Remove`}):(0,Q.jsxs)(`button`,{onClick:()=>O(e),className:`px-3 py-1.5 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm font-medium flex items-center gap-1 mx-auto`,children:[(0,Q.jsx)(Gr,{className:`w-3 h-3`}),`Substitute`]})})]},e.id||t))})]})}):(0,Q.jsxs)(`div`,{className:`p-12 text-center text-gray-400`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 mx-auto mb-4 opacity-50`}),(0,Q.jsx)(`p`,{className:`text-lg font-medium`,children:`No classes scheduled`}),(0,Q.jsx)(`p`,{className:`text-sm mt-1`,children:g===`all`?`No timetable entries for this day`:g===`teacher`&&!y?`Please select a teacher to view their schedule`:g===`class`&&!x?`Please select a class to view its schedule`:`No classes found for the selected filter`})]})]}),C&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Gr,{className:`w-8 h-8`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold`,children:`Assign Substitute`}),(0,Q.jsxs)(`p`,{className:`text-white/70 text-sm`,children:[`Period `,C.periodNumber,`  `,C.subjectName]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>w(null),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(Vn,{className:`w-6 h-6`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gray-50 rounded-xl p-4 mb-4`,children:[(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mb-1`,children:`Original Teacher`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.originalTeacherName||`Not Assigned`}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500 mt-2`,children:[`Class: `,C.fullClassName]})]}),(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 mb-3`,children:[`Available Teachers (`,u.length,`)`]}),u.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-8 text-gray-400`,children:[(0,Q.jsx)(Vr,{className:`w-12 h-12 mx-auto mb-3 opacity-50`}),(0,Q.jsx)(`p`,{children:`No available teachers for this period`}),(0,Q.jsx)(`p`,{className:`text-sm mt-1`,children:`All teachers are busy or on leave`})]}):(0,Q.jsx)(`div`,{className:`space-y-2 max-h-64 overflow-y-auto`,children:u.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm`,children:e.name?.split(` `).map(e=>e[0]).join(``).slice(0,2)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.department||`No department`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mt-1`,children:[(0,Q.jsxs)(`span`,{className:`text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full`,children:[e.periodsOnDay||0,` classes`]}),(e.substitutionsToday||0)>0&&(0,Q.jsxs)(`span`,{className:`text-xs px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full`,children:[`+`,e.substitutionsToday,` subs`]})]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>k(e.id),className:`px-4 py-2 rounded-xl font-medium text-sm ${(e.totalLoadToday||0)>=6?`bg-gray-200 text-gray-500 cursor-not-allowed`:`bg-blue-600 text-white hover:bg-blue-700`}`,disabled:(e.totalLoadToday||0)>=6,children:(e.totalLoadToday||0)>=6?`Full`:`Assign`})]},e.id))})]}),(0,Q.jsx)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end`,children:(0,Q.jsx)(`button`,{onClick:()=>w(null),className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`})})]})})]})},Ta=[`Science`,`Mathematics`,`English`,`Hindi`,`Social Science`,`Computer Science`,`Physical Education`,`Arts`,`Commerce`,`Languages`,`Music`,`Administration`,`Other`],Ea=[`Principal`,`Vice Principal`,`Head of Department`,`Senior Teacher`,`Teacher`,`Assistant Teacher`,`Trainee Teacher`,`Guest Faculty`],Da=[`Ph.D.`,`M.Phil`,`M.Ed`,`M.A.`,`M.Sc.`,`M.Com`,`MBA`,`B.Ed`,`B.A.`,`B.Sc.`,`B.Com`,`BCA`,`MCA`,`B.Tech`,`M.Tech`,`Other`],Oa=[`A+`,`A-`,`B+`,`B-`,`AB+`,`AB-`,`O+`,`O-`],ka=[`ID Proof`,`Address Proof`,`PAN Card`,`Aadhar Card`,`Passport`,`Driving License`,`Educational Certificate`,`Experience Letter`,`Offer Letter`,`Other`],Aa={active:{label:`Active`,color:`bg-green-100 text-green-700`,icon:Bn},suspended:{label:`Suspended`,color:`bg-red-100 text-red-700`,icon:_r},relieved:{label:`Relieved`,color:`bg-gray-100 text-gray-700`,icon:Kr},on_leave:{label:`On Leave`,color:`bg-amber-100 text-amber-700`,icon:Un},probation:{label:`Probation`,color:`bg-blue-100 text-blue-700`,icon:zn}},ja=[{id:`list`,label:`Teachers`,icon:Jr},{id:`subjects`,label:`Subject Assignment`,icon:En},{id:`attendance`,label:`Attendance`,icon:jn},{id:`leave`,label:`Leave Management`,icon:Mn},{id:`timetable`,label:`Timetable`,icon:Un},{id:`credentials`,label:`Login Access`,icon:rr}],Ma=()=>{let[e,t]=(0,_.useState)(`daily`);return(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-lg p-2`,children:(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>t(`daily`),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${e===`daily`?`bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg`:`text-gray-600 hover:bg-gray-100`}`,children:[(0,Q.jsx)(Mn,{className:`w-5 h-5`}),`Daily View & Substitutions`]}),(0,Q.jsxs)(`button`,{onClick:()=>t(`weekly`),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${e===`weekly`?`bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg`:`text-gray-600 hover:bg-gray-100`}`,children:[(0,Q.jsx)(Un,{className:`w-5 h-5`}),`Weekly Configuration`]})]})}),e===`daily`&&(0,Q.jsx)(wa,{}),e===`weekly`&&(0,Q.jsx)(Ca,{})]})},Na=()=>{let{currentSession:e,sessionId:t}=xi(),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)([]),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)(!0),[y,b]=(0,_.useState)(`list`),[x,S]=(0,_.useState)(!1),[C,w]=(0,_.useState)(null),[T,E]=(0,_.useState)(null),[D,O]=(0,_.useState)(null),[k,A]=(0,_.useState)(null),[j,M]=(0,_.useState)(null),[N,P]=(0,_.useState)(null),[F,I]=(0,_.useState)(null),[L,R]=(0,_.useState)(null),[z,ee]=(0,_.useState)(null),[B,V]=(0,_.useState)(!1),[H,U]=(0,_.useState)(null),[W,G]=(0,_.useState)(``),[K,te]=(0,_.useState)(``),[ne,re]=(0,_.useState)(``),[ie,ae]=(0,_.useState)(1),[oe,q]=(0,_.useState)(`table`),[se,ce]=(0,_.useState)(`profile`),[le,ue]=(0,_.useState)(new Date().toISOString().split(`T`)[0]),[de,fe]=(0,_.useState)([]),[pe,me]=(0,_.useState)(null),he={employeeId:``,firstName:``,lastName:``,email:``,phone:``,alternatePhone:``,dateOfBirth:``,gender:``,bloodGroup:``,nationality:`Indian`,religion:``,maritalStatus:``,qualification:``,specialization:``,experience:``,joiningDate:``,address:``,city:``,state:``,pincode:``,emergencyContactName:``,emergencyContactPhone:``,emergencyContactRelation:``,department:``,designation:``,employmentType:`permanent`,subjects:[],salary:``,bankAccountNo:``,bankName:``,ifscCode:``,panNumber:``,aadharNumber:``,isClassTeacher:!1,classTeacherOf:``,canTakeAttendance:!0,canManageExams:!0},[J,ge]=(0,_.useState)(he),[_e,ve]=(0,_.useState)({status:``,reason:``}),[ye,be]=(0,_.useState)({subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:0}),[xe,Se]=(0,_.useState)({leaveTypeId:``,fromDate:``,toDate:``,reason:``}),[Ce,we]=(0,_.useState)({username:``,password:``}),[Te,Ee]=(0,_.useState)({degree:``,specialization:``,institution:``,university:``,yearOfPassing:``,percentage:``,grade:``}),[De,Oe]=(0,_.useState)({organization:``,designation:``,fromDate:``,toDate:``,responsibilities:``,reasonForLeaving:``}),[ke,Ae]=(0,_.useState)({documentType:``,documentName:``,fileUrl:``,expiryDate:``,remarks:``}),[je,Me]=(0,_.useState)(``);(0,_.useEffect)(()=>{t&&Ne()},[t]);let Ne=async()=>{v(!0);try{let[e,n,i,o,c,u,f]=await Promise.all([ai.getAll(),ai.getStats(),li.getClassSections({academic_session_id:t}),ui.getAll({academic_session_id:t}),ai.getLeaveTypes(),ai.getAllLeaveApplications({status:`pending`}),mi.getAll({is_active:!0})]);e?.success&&r(e.data||[]),n?.success&&a(n.data),i?.success&&s(i.data||[]),o?.success&&l(o.data||[]),c?.success&&d(c.data||[]),u?.success&&p(u.data||[]),f?.success&&f.data?.length>0?h(f.data.map(e=>e.name)):h(Ta)}catch(e){console.error(`Error fetching data:`,e),Z.error(`Failed to load data`),h(Ta)}finally{v(!1)}},Pe=async e=>{try{let t=await ai.getAttendanceSummary({date:e});t?.success&&fe(t.data||[])}catch(e){console.error(`Error fetching attendance:`,e)}};(0,_.useEffect)(()=>{y===`attendance`&&Pe(le)},[y,le]);let Fe=(e=null)=>{ae(1),e?(U(e),ge({...he,employeeId:e.employeeId||``,firstName:e.firstName||``,lastName:e.lastName||``,email:e.email||``,phone:e.phone||``,alternatePhone:e.alternatePhone||``,dateOfBirth:e.dateOfBirth?.split(`T`)[0]||``,gender:e.gender||``,bloodGroup:e.bloodGroup||``,nationality:e.nationality||`Indian`,religion:e.religion||``,maritalStatus:e.maritalStatus||``,qualification:e.qualification||``,specialization:e.specialization||``,experience:e.experience||``,joiningDate:e.joiningDate?.split(`T`)[0]||``,address:e.address||``,city:e.city||``,state:e.state||``,pincode:e.pincode||``,emergencyContactName:e.emergencyContactName||``,emergencyContactPhone:e.emergencyContactPhone||``,emergencyContactRelation:e.emergencyContactRelation||``,department:e.department||``,designation:e.designation||``,employmentType:e.employmentType||`permanent`,subjects:e.subjects||[],salary:e.salary||``,bankAccountNo:e.bankAccountNo||``,bankName:e.bankName||``,ifscCode:e.ifscCode||``,panNumber:e.panNumber||``,aadharNumber:e.aadharNumber||``,isClassTeacher:e.isClassTeacher||!1,classTeacherOf:e.classTeacherOf||``,canTakeAttendance:e.canTakeAttendance!==!1,canManageExams:e.canManageExams!==!1})):(U(null),ge(he)),S(!0)},Ie=async e=>{e.preventDefault();try{let e={...J,experience:J.experience?parseInt(J.experience):null,salary:J.salary?parseFloat(J.salary):null,classTeacherOf:J.isClassTeacher?J.classTeacherOf:null},t=H?await ai.update(H.id,e):await ai.create(e);t?.success?(Z.success(H?`Teacher updated`:`Teacher added`),S(!1),Ne()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save teacher`)}},Le=async e=>{try{(await ai.delete(e))?.success&&(Z.success(`Teacher deleted`),E(null),Ne())}catch{Z.error(`Failed to delete teacher`)}},Re=async()=>{if(!(!D||!_e.status))try{let e=await ai.changeStatus(D.id,_e);e?.success?(Z.success(`Status changed to ${_e.status}`),O(null),ve({status:``,reason:``}),Ne()):Z.error(e?.message||`Failed to change status`)}catch{Z.error(`Failed to change status`)}},ze=async()=>{if(!(!k||!ye.subjectId))try{let t=await ai.assignSubject(k.id,{...ye,academicSessionId:e?.id});t?.success?(Z.success(`Subject assigned`),A(null),be({subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:0})):Z.error(t?.message||`Failed`)}catch{Z.error(`Failed to assign subject`)}},Be=async()=>{if(!(!j||!xe.leaveTypeId||!xe.fromDate||!xe.toDate))try{let e=await ai.applyLeave(j.id,xe);e?.success?(Z.success(`Leave application submitted`),M(null),Se({leaveTypeId:``,fromDate:``,toDate:``,reason:``}),Ne()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed to apply leave`)}},Ve=async()=>{if(!(!N||!Ce.username||!Ce.password))try{let e=await ai.createLogin(N.id,Ce);e?.success?(Z.success(`Login credentials created`),P(null),we({username:``,password:``}),Ne()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed to create credentials`)}},He=async(e,t)=>{try{(await ai.toggleLoginAccess(e.id,{enabled:t}))?.success&&(Z.success(`Login ${t?`enabled`:`disabled`}`),Ne())}catch{Z.error(`Failed`)}},Ue=async()=>{try{let e=JSON.parse(je),t=await ai.bulkImport({teachers:e});t?.success?(Z.success(t.message),V(!1),Me(``),Ne()):Z.error(t?.message||`Import failed`)}catch{Z.error(`Invalid JSON format`)}},We=async e=>{try{let t=await ai.export(e);if(e===`json`&&t?.success){let e=new Blob([JSON.stringify(t.data,null,2)],{type:`application/json`}),n=URL.createObjectURL(e),r=document.createElement(`a`);r.href=n,r.download=`teachers.json`,r.click()}}catch{Z.error(`Export failed`)}},Ge=async()=>{if(!(!F||!Te.degree))try{(await ai.addQualification(F.id,Te))?.success&&(Z.success(`Qualification added`),I(null),Ee({degree:``,specialization:``,institution:``,university:``,yearOfPassing:``,percentage:``,grade:``}))}catch{Z.error(`Failed`)}},Ke=async()=>{if(!(!z||!ke.documentType||!ke.documentName))try{(await ai.addDocument(z.id,ke))?.success&&(Z.success(`Document added`),ee(null),Ae({documentType:``,documentName:``,fileUrl:``,expiryDate:``,remarks:``}))}catch{Z.error(`Failed`)}},qe=n.filter(e=>{let t=W===``||e.fullName?.toLowerCase().includes(W.toLowerCase())||e.email?.toLowerCase().includes(W.toLowerCase())||e.employeeId?.toLowerCase().includes(W.toLowerCase()),n=K===``||e.department===K,r=ne===``||e.status===ne;return t&&n&&r});return g?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:`Teacher Management`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Comprehensive teacher administration system`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`button`,{onClick:()=>V(!0),className:`flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50`,children:[(0,Q.jsx)(Hr,{className:`w-4 h-4`}),` Import`]}),(0,Q.jsxs)(`button`,{onClick:()=>We(`json`),className:`flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50`,children:[(0,Q.jsx)(Kn,{className:`w-4 h-4`}),` Export`]}),(0,Q.jsxs)(`button`,{onClick:()=>Fe(),className:`flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/25`,children:[(0,Q.jsx)(Gr,{className:`w-5 h-5`}),` Add Teacher`]})]})]}),i&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-blue-100 text-sm`,children:`Total`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.total})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-green-100 text-sm`,children:`Active`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.active})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-purple-100 text-sm`,children:`Class Teachers`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.classTeachers})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-amber-100 text-sm`,children:`Pending Leaves`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.pendingLeaves||0})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-indigo-100 text-sm`,children:`With Login`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.withLoginAccess||0})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-slate-600 to-slate-700 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-slate-300 text-sm`,children:`Departments`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i.byDepartment?.length||0})]})]}),(0,Q.jsx)(`div`,{className:`border-b border-gray-200`,children:(0,Q.jsx)(`nav`,{className:`flex gap-1 overflow-x-auto`,children:ja.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>b(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${y===e.id?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),` `,e.label,e.id===`leave`&&i?.pendingLeaves>0&&(0,Q.jsx)(`span`,{className:`ml-1 px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full`,children:i.pendingLeaves})]},e.id))})}),y===`list`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`card`,children:(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative flex-1 min-w-[200px]`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search teachers...`,value:W,onChange:e=>G(e.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`select`,{value:K,onChange:e=>te(e.target.value),className:`px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Departments`}),m.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}),(0,Q.jsxs)(`select`,{value:ne,onChange:e=>re(e.target.value),className:`px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Status`}),Object.entries(Aa).map(([e,t])=>(0,Q.jsx)(`option`,{value:e,children:t.label},e))]}),(0,Q.jsx)(`button`,{onClick:Ne,className:`p-2 text-gray-400 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]})}),qe.length===0?(0,Q.jsxs)(`div`,{className:`card text-center py-16`,children:[(0,Q.jsx)(Zn,{className:`w-20 h-20 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-medium text-gray-800 mb-2`,children:`No Teachers Found`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`Add your first teacher to get started`}),(0,Q.jsxs)(`button`,{onClick:()=>Fe(),className:`inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700`,children:[(0,Q.jsx)(Gr,{className:`w-5 h-5`}),` Add Teacher`]})]}):(0,Q.jsx)(`div`,{className:`card overflow-hidden`,children:(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{className:`bg-gray-50`,children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Teacher`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Department`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Contact`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Class Teacher`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Login`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 text-sm font-semibold text-gray-600`,children:`Status`}),(0,Q.jsx)(`th`,{className:`text-right py-4 px-4 text-sm font-semibold text-gray-600`,children:`Actions`})]})}),(0,Q.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:qe.map(e=>{let t=Aa[e.status]||Aa.active;return(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50/50 transition-colors`,children:[(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-11 h-11 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-semibold`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-semibold text-gray-800`,children:e.fullName}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-gray-500`,children:[(0,Q.jsx)(`span`,{children:e.employeeId||`No ID`}),(0,Q.jsx)(`span`,{children:``}),(0,Q.jsx)(`span`,{children:e.designation||`Teacher`})]})]})]})}),(0,Q.jsxs)(`td`,{className:`py-4 px-4`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.department||`-`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.qualification||``})]}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`space-y-1`,children:[e.phone&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1.5 text-sm text-gray-600`,children:[(0,Q.jsx)(br,{className:`w-3.5 h-3.5`}),` `,e.phone]}),e.email&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1.5 text-sm text-gray-600`,children:[(0,Q.jsx)(fr,{className:`w-3.5 h-3.5`}),` `,e.email]})]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:e.isClassTeacher?(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full`,children:[(0,Q.jsx)(Bn,{className:`w-3 h-3`}),` `,e.classTeacherOfName||`Assigned`]}):(0,Q.jsx)(`span`,{className:`text-gray-400 text-sm`,children:`-`})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:e.hasLoginAccess?(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full`,children:[(0,Q.jsx)(lr,{className:`w-3 h-3`}),` Enabled`]}):(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2 py-1 text-xs bg-gray-100 text-gray-500 rounded-full`,children:[(0,Q.jsx)(ur,{className:`w-3 h-3`}),` Disabled`]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full ${t.color}`,children:[(0,Q.jsx)(t.icon,{className:`w-3 h-3`}),` `,t.label]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-end gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>w(e),className:`p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg`,title:`View Details`,children:(0,Q.jsx)(Jn,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>Fe(e),className:`p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg`,title:`Edit`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>{O(e),ve({status:e.status,reason:``})},className:`p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg`,title:`Status`,children:(0,Q.jsx)(kr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>E(e),className:`p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg`,title:`Delete`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})})]},e.id)})})]})})})]}),y===`subjects`&&(0,Q.jsx)(ma,{}),y===`attendance`&&(0,Q.jsx)(ya,{}),y===`leave`&&(0,Q.jsx)(_a,{}),y===`timetable`&&(0,Q.jsx)(Ma,{}),y===`credentials`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Teacher Login Access`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Manage login credentials for teacher portal access`}),(0,Q.jsx)(`div`,{className:`space-y-3`,children:qe.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-4 border border-gray-200 rounded-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-semibold text-sm`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.fullName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.email||`No email`})]})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-3`,children:e.hasLoginAccess?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`span`,{className:`px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full`,children:`Login Enabled`}),(0,Q.jsx)(`button`,{onClick:()=>He(e,!1),className:`px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg`,children:`Disable`}),(0,Q.jsx)(`button`,{onClick:()=>{P(e),we({username:``,password:``})},className:`px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg`,children:`Reset Password`})]}):(0,Q.jsxs)(`button`,{onClick:()=>{P(e),we({username:e.email||``,password:``})},className:`flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(rr,{className:`w-4 h-4`}),` Create Login`]})})]},e.id))})]}),x&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,Q.jsxs)(`div`,{className:`p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-indigo-600`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-white`,children:H?`Edit Teacher`:`Add New Teacher`}),(0,Q.jsx)(`button`,{onClick:()=>S(!1),className:`p-2 hover:bg-white/20 rounded-lg text-white`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mt-4`,children:[1,2,3,4].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>ae(e),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${ie===e?`bg-white text-blue-600`:ie>e?`bg-green-400 text-white`:`bg-white/20 text-white/80`}`,children:[(0,Q.jsx)(`span`,{className:`w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs font-bold`,children:ie>e?``:e}),(0,Q.jsx)(`span`,{className:`hidden sm:inline`,children:[`Basic`,`Professional`,`Contact`,`Bank`][e-1]})]},e))})]}),(0,Q.jsxs)(`form`,{onSubmit:Ie,className:`flex-1 overflow-y-auto p-6`,children:[ie===1&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`First Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:J.firstName,required:!0,onChange:e=>ge({...J,firstName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Last Name`}),(0,Q.jsx)(`input`,{type:`text`,value:J.lastName,onChange:e=>ge({...J,lastName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Employee ID`}),(0,Q.jsx)(`input`,{type:`text`,value:J.employeeId,onChange:e=>ge({...J,employeeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Gender`}),(0,Q.jsxs)(`select`,{value:J.gender,onChange:e=>ge({...J,gender:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),(0,Q.jsx)(`option`,{value:`male`,children:`Male`}),(0,Q.jsx)(`option`,{value:`female`,children:`Female`}),(0,Q.jsx)(`option`,{value:`other`,children:`Other`})]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Date of Birth`}),(0,Q.jsx)(`input`,{type:`date`,value:J.dateOfBirth,onChange:e=>ge({...J,dateOfBirth:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Blood Group`}),(0,Q.jsxs)(`select`,{value:J.bloodGroup,onChange:e=>ge({...J,bloodGroup:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),Oa.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Marital Status`}),(0,Q.jsxs)(`select`,{value:J.maritalStatus,onChange:e=>ge({...J,maritalStatus:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),(0,Q.jsx)(`option`,{value:`single`,children:`Single`}),(0,Q.jsx)(`option`,{value:`married`,children:`Married`})]})]})]})]}),ie===2&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Department`}),(0,Q.jsxs)(`select`,{value:J.department,onChange:e=>ge({...J,department:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),m.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Designation`}),(0,Q.jsxs)(`select`,{value:J.designation,onChange:e=>ge({...J,designation:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),Ea.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Qualification`}),(0,Q.jsxs)(`select`,{value:J.qualification,onChange:e=>ge({...J,qualification:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),Da.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Joining Date`}),(0,Q.jsx)(`input`,{type:`date`,value:J.joiningDate,onChange:e=>ge({...J,joiningDate:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-blue-50 rounded-xl p-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-3 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:J.isClassTeacher,onChange:e=>ge({...J,isClassTeacher:e.target.checked}),className:`w-5 h-5 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`font-medium text-gray-700`,children:`Assign as Class Teacher`})]}),J.isClassTeacher&&(0,Q.jsxs)(`select`,{value:J.classTeacherOf,onChange:e=>ge({...J,classTeacherOf:e.target.value}),className:`w-full mt-3 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Class-Section`}),o.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id))]})]})]}),ie===3&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Email`}),(0,Q.jsx)(`input`,{type:`email`,value:J.email,onChange:e=>ge({...J,email:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Phone`}),(0,Q.jsx)(`input`,{type:`tel`,value:J.phone,onChange:e=>ge({...J,phone:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Address`}),(0,Q.jsx)(`textarea`,{value:J.address,rows:2,onChange:e=>ge({...J,address:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-3 gap-4`,children:[(0,Q.jsx)(`input`,{type:`text`,value:J.city,placeholder:`City`,onChange:e=>ge({...J,city:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`}),(0,Q.jsx)(`input`,{type:`text`,value:J.state,placeholder:`State`,onChange:e=>ge({...J,state:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`}),(0,Q.jsx)(`input`,{type:`text`,value:J.pincode,placeholder:`Pincode`,onChange:e=>ge({...J,pincode:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),ie===4&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Salary ()`}),(0,Q.jsx)(`input`,{type:`number`,value:J.salary,onChange:e=>ge({...J,salary:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Bank Name`}),(0,Q.jsx)(`input`,{type:`text`,value:J.bankName,onChange:e=>ge({...J,bankName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Account Number`}),(0,Q.jsx)(`input`,{type:`text`,value:J.bankAccountNo,onChange:e=>ge({...J,bankAccountNo:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`IFSC Code`}),(0,Q.jsx)(`input`,{type:`text`,value:J.ifscCode,onChange:e=>ge({...J,ifscCode:e.target.value.toUpperCase()}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`PAN Number`}),(0,Q.jsx)(`input`,{type:`text`,value:J.panNumber,maxLength:10,onChange:e=>ge({...J,panNumber:e.target.value.toUpperCase()}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Aadhar Number`}),(0,Q.jsx)(`input`,{type:`text`,value:J.aadharNumber,maxLength:12,onChange:e=>ge({...J,aadharNumber:e.target.value.replace(/\D/g,``)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]})]})]}),(0,Q.jsxs)(`div`,{className:`p-6 border-t border-gray-200 bg-gray-50 flex justify-between`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>ie>1?ae(ie-1):S(!1),className:`px-5 py-2.5 text-gray-700 hover:bg-gray-200 rounded-xl`,children:ie>1?` Previous`:`Cancel`}),ie<4?(0,Q.jsx)(`button`,{type:`button`,onClick:()=>ae(ie+1),className:`px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700`,children:`Next `}):(0,Q.jsx)(`button`,{type:`button`,onClick:Ie,className:`px-6 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700`,children:H?`Update Teacher`:`Add Teacher`})]})]})}),k&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:[`Assign Subject to `,k.fullName]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Subject *`}),(0,Q.jsxs)(`select`,{value:ye.subjectId,onChange:e=>be({...ye,subjectId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),c.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.code,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class-Section (Optional)`}),(0,Q.jsxs)(`select`,{value:ye.classSectionId,onChange:e=>be({...ye,classSectionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),o.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Periods per Week`}),(0,Q.jsx)(`input`,{type:`number`,value:ye.periodsPerWeek,min:`0`,onChange:e=>be({...ye,periodsPerWeek:parseInt(e.target.value)||0}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:ye.isPrimary,onChange:e=>be({...ye,isPrimary:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Primary Teacher for this subject`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>A(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:ze,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Assign`})]})]})}),j&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:[`Apply Leave for `,j.fullName]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Leave Type *`}),(0,Q.jsxs)(`select`,{value:xe.leaveTypeId,onChange:e=>Se({...xe,leaveTypeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Leave Type`}),u.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.code,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`From Date *`}),(0,Q.jsx)(`input`,{type:`date`,value:xe.fromDate,onChange:e=>Se({...xe,fromDate:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`To Date *`}),(0,Q.jsx)(`input`,{type:`date`,value:xe.toDate,onChange:e=>Se({...xe,toDate:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Reason`}),(0,Q.jsx)(`textarea`,{value:xe.reason,rows:2,onChange:e=>Se({...xe,reason:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>M(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Be,className:`px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700`,children:`Apply Leave`})]})]})}),N&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:[N.hasLoginAccess?`Reset Password`:`Create Login`,` for `,N.fullName]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[!N.hasLoginAccess&&(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Username / Email *`}),(0,Q.jsx)(`input`,{type:`text`,value:Ce.username,onChange:e=>we({...Ce,username:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Password *`}),(0,Q.jsx)(`input`,{type:`password`,value:Ce.password,onChange:e=>we({...Ce,password:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>P(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Ve,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:N.hasLoginAccess?`Reset Password`:`Create Login`})]})]})}),D&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:[`Change Status: `,D.fullName]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`New Status`}),(0,Q.jsxs)(`select`,{value:_e.status,onChange:e=>ve({..._e,status:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Status`}),Object.entries(Aa).map(([e,t])=>(0,Q.jsx)(`option`,{value:e,children:t.label},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Reason`}),(0,Q.jsx)(`textarea`,{value:_e.reason,onChange:e=>ve({..._e,reason:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>{O(null),ve({status:``,reason:``})},className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Re,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Update Status`})]})]})}),T&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-8 h-8 text-red-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Delete Teacher?`}),(0,Q.jsxs)(`p`,{className:`text-gray-600 mb-6`,children:[`Are you sure you want to delete `,(0,Q.jsx)(`strong`,{children:T.fullName}),`?`]}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>E(null),className:`px-5 py-2.5 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>Le(T.id),className:`px-5 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700`,children:`Delete`})]})]})}),B&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Import Teachers`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Paste JSON array of teachers. Each teacher should have: firstName, lastName, email, phone, employeeId, department, designation`}),(0,Q.jsx)(`textarea`,{value:je,rows:10,placeholder:`[{"firstName": "John", "lastName": "Doe", ...}]`,onChange:e=>Me(e.target.value),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm resize-none`}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>{V(!1),Me(``)},className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Ue,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Import`})]})]})}),C&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,Q.jsx)(`div`,{className:`p-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`w-16 h-16 rounded-xl bg-white/20 flex items-center justify-center text-2xl font-bold`,children:[C.firstName?.[0],C.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold`,children:C.fullName}),(0,Q.jsxs)(`p`,{className:`text-blue-100`,children:[C.designation||`Teacher`,`  `,C.department||`N/A`]}),(0,Q.jsxs)(`p`,{className:`text-sm text-blue-200`,children:[`ID: `,C.employeeId||`Not Assigned`]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>w(null),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6`,children:[(0,Q.jsx)(`div`,{className:`flex border-b border-gray-200 mb-6`,children:[`profile`,`qualifications`,`documents`,`audit`].map(e=>(0,Q.jsx)(`button`,{onClick:()=>ce(e),className:`px-4 py-2 font-medium text-sm capitalize ${se===e?`border-b-2 border-blue-600 text-blue-600`:`text-gray-500`}`,children:e},e))}),se===`profile`&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Email`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.email||`N/A`})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Phone`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.phone||`N/A`})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Qualification`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.qualification||`N/A`})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Experience`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.experience?`${C.experience} years`:`N/A`})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Joining Date`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:C.joiningDate?new Date(C.joiningDate).toLocaleDateString():`N/A`})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`Status`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 capitalize`,children:C.status||`active`})]}),C.isClassTeacher&&(0,Q.jsxs)(`div`,{className:`p-4 bg-green-50 rounded-xl col-span-full`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-green-600 mb-1`,children:`Class Teacher Of`}),(0,Q.jsx)(`p`,{className:`font-medium text-green-800`,children:C.classTeacherOfName||`Assigned`})]})]}),se===`qualifications`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`button`,{onClick:()=>I(C),className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Qualification`]}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-center py-8`,children:`Qualifications will be displayed here`})]}),se===`documents`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`button`,{onClick:()=>ee(C),className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Document`]}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-center py-8`,children:`Documents will be displayed here`})]}),se===`audit`&&(0,Q.jsx)(`p`,{className:`text-gray-500 text-center py-8`,children:`Audit logs will be displayed here`})]})]})}),F&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Add Qualification`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Degree *`}),(0,Q.jsxs)(`select`,{value:Te.degree,onChange:e=>Ee({...Te,degree:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),Da.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Institution`}),(0,Q.jsx)(`input`,{type:`text`,value:Te.institution,onChange:e=>Ee({...Te,institution:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Year of Passing`}),(0,Q.jsx)(`input`,{type:`number`,value:Te.yearOfPassing,onChange:e=>Ee({...Te,yearOfPassing:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Percentage/Grade`}),(0,Q.jsx)(`input`,{type:`text`,value:Te.percentage,onChange:e=>Ee({...Te,percentage:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>I(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Ge,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Add`})]})]})}),z&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Add Document`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Document Type *`}),(0,Q.jsxs)(`select`,{value:ke.documentType,onChange:e=>Ae({...ke,documentType:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),ka.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Document Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:ke.documentName,onChange:e=>Ae({...ke,documentName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`File URL`}),(0,Q.jsx)(`input`,{type:`text`,value:ke.fileUrl,onChange:e=>Ae({...ke,fileUrl:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Expiry Date`}),(0,Q.jsx)(`input`,{type:`date`,value:ke.expiryDate,onChange:e=>Ae({...ke,expiryDate:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>ee(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:Ke,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Add`})]})]})})]})},Pa=()=>(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(En,{className:`w-8 h-8`}),`Classes Management`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Manage all classes and sections`})]}),(0,Q.jsxs)(`button`,{className:`px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),`Add New Class`]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-12 shadow-lg border border-gray-100 text-center`,children:[(0,Q.jsx)(En,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Classes Module Coming Soon`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`This feature is under development. You'll be able to manage classes, sections, and assignments here.`})]})]}),Fa=()=>(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(Mn,{className:`w-8 h-8`}),`Attendance Management`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Track and manage student attendance`})]}),(0,Q.jsxs)(`button`,{className:`px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),`Mark Attendance`]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-12 shadow-lg border border-gray-100 text-center`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Attendance Module Coming Soon`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`This feature is under development. You'll be able to mark and track attendance here.`})]})]}),Ia=()=>(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(Hn,{className:`w-8 h-8`}),`Exams & Grades`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Manage exams, assessments, and grades`})]}),(0,Q.jsxs)(`button`,{className:`px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),`Create Exam`]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-12 shadow-lg border border-gray-100 text-center`,children:[(0,Q.jsx)(Hn,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Exams Module Coming Soon`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`This feature is under development. You'll be able to manage exams and grades here.`})]})]}),La=()=>(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(tr,{className:`w-8 h-8`}),`Fee Management`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Manage fees, payments, and invoices`})]}),(0,Q.jsxs)(`button`,{className:`px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),`Create Invoice`]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-12 shadow-lg border border-gray-100 text-center`,children:[(0,Q.jsx)(tr,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Fee Management Coming Soon`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`This feature is under development. You'll be able to manage fees and payments here.`})]})]}),Ra=()=>(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(Nn,{className:`w-8 h-8`}),`Reports & Analytics`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Generate and view school reports`})]}),(0,Q.jsxs)(`button`,{className:`px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2`,children:[(0,Q.jsx)(Kn,{className:`w-5 h-5`}),`Export Report`]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-12 shadow-lg border border-gray-100 text-center`,children:[(0,Q.jsx)(Nn,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Reports Module Coming Soon`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`This feature is under development. You'll be able to generate reports and analytics here.`})]})]}),za=()=>{let e=ke(),t=[{label:`Academic Sessions`,description:`Manage academic years and session configurations`,icon:Mn,path:`/settings/academic-sessions`,color:`bg-blue-100 text-blue-600`},{label:`Departments`,description:`Manage academic departments and their heads`,icon:On,path:`/settings/departments`,color:`bg-teal-100 text-teal-600`},{label:`Class & Section`,description:`Configure classes, sections, and structure`,icon:En,path:`/settings/class-configuration`,color:`bg-purple-100 text-purple-600`},{label:`Subjects & Curriculum`,description:`Manage subjects and assign to classes`,icon:ir,path:`/settings/subjects`,color:`bg-indigo-100 text-indigo-600`},{label:`Finance & Fees`,description:`Configure fee types, structures, and discounts`,icon:tr,path:`/settings/fees`,color:`bg-green-100 text-green-600`},{label:`Staff & Users`,description:`Manage non-teaching staff and user roles`,icon:Jr,path:`/settings/people`,color:`bg-orange-100 text-orange-600`},{label:`Class Timings`,description:`Configure periods, breaks and school schedules`,icon:Un,path:`/settings/class-timings`,color:`bg-pink-100 text-pink-600`},{label:`Number Generation`,description:`Configure admission number and roll number formats`,icon:$n,path:`/settings/number-settings`,color:`bg-cyan-100 text-cyan-600`}],n=[{title:`Profile Settings`,icon:qr,items:[{label:`Personal Information`,description:`Update your personal details`},{label:`Change Password`,description:`Update your account password`,path:`/change-password`},{label:`Email Preferences`,description:`Manage email notifications`}]},{title:`Notifications`,icon:Tn,items:[{label:`Push Notifications`,description:`Manage push notification settings`},{label:`Email Notifications`,description:`Configure email alerts`},{label:`SMS Notifications`,description:`Set up SMS alerts`}]}];return(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-semibold text-gray-800`,children:`Settings`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage your account settings and preferences`})]}),(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center`,children:(0,Q.jsx)(Ar,{className:`w-5 h-5 text-purple-600`})}),(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Configuration`})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:t.map(t=>{let n=t.icon;return(0,Q.jsxs)(`button`,{onClick:()=>e(t.path),className:`flex items-center gap-4 p-4 rounded-xl border border-gray-200 hover:border-blue-300 hover:bg-blue-50/50 transition-all group text-left`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-lg flex items-center justify-center ${t.color}`,children:(0,Q.jsx)(n,{className:`w-6 h-6`})}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 group-hover:text-blue-600 transition-colors`,children:t.label}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 truncate`,children:t.description})]}),(0,Q.jsx)(Rn,{className:`w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors`})]},t.label)})})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:n.map(t=>{let n=t.icon;return(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center`,children:(0,Q.jsx)(n,{className:`w-5 h-5 text-blue-600`})}),(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:t.title})]}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:t.items.map((t,n)=>(0,Q.jsxs)(`div`,{onClick:()=>t.path&&e(t.path),className:`flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group`,children:[(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 group-hover:text-blue-600 transition-colors`,children:t.label}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:t.description})]}),(0,Q.jsx)(Rn,{className:`w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors`})]},n))})]},t.title)})}),(0,Q.jsxs)(`div`,{className:`card bg-red-50 border border-red-200`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Danger Zone`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Deactivate Account`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Temporarily disable your account`})]}),(0,Q.jsx)(`button`,{className:`px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-100 transition-colors`,children:`Deactivate`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-between pt-3 border-t border-red-200`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Delete Account`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Permanently delete your account and all data`})]}),(0,Q.jsx)(`button`,{className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors`,children:`Delete Account`})]})]})]})]})},Ba=()=>{let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)(!0),[i,a]=(0,_.useState)(``);(0,_.useEffect)(()=>{o()},[]);let o=async()=>{try{r(!0);let e=await vi.auth.getSchool();e?.success?t(e.data):a(`Failed to load school details`)}catch(e){console.error(`Error fetching school details:`,e),a(`Failed to load school details`)}finally{r(!1)}};return n?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 text-blue-600 animate-spin`})}):i?(0,Q.jsx)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-6`,children:(0,Q.jsx)(`p`,{className:`text-red-600`,children:i})}):e?(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-20 h-20 bg-white rounded-2xl flex items-center justify-center`,children:(0,Q.jsx)(On,{className:`w-10 h-10 text-blue-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-3xl font-bold mb-2`,children:e.schoolName}),(0,Q.jsxs)(`p`,{className:`text-blue-100`,children:[`Code: `,e.schoolCode,` | Type: `,e.schoolType]})]})]})}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-6`,children:[(0,Q.jsx)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-600 text-sm font-medium mb-1`,children:`Students`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold text-gray-900`,children:e._count?.students||0})]}),(0,Q.jsx)(Jr,{className:`w-12 h-12 text-blue-600 opacity-20`})]})}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-600 text-sm font-medium mb-1`,children:`Teachers`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold text-gray-900`,children:e._count?.teachers||0})]}),(0,Q.jsx)(Jr,{className:`w-12 h-12 text-green-600 opacity-20`})]})}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-600 text-sm font-medium mb-1`,children:`Classes`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold text-gray-900`,children:e._count?.classes||0})]}),(0,Q.jsx)(En,{className:`w-12 h-12 text-purple-600 opacity-20`})]})}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-gray-600 text-sm font-medium mb-1`,children:`Status`}),(0,Q.jsx)(`p`,{className:`text-xl font-bold text-green-600`,children:e.status})]}),(0,Q.jsx)(On,{className:`w-12 h-12 text-orange-600 opacity-20`})]})})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsx)(`h2`,{className:`text-xl font-bold text-gray-900 mb-4`,children:`Basic Information`}),(0,Q.jsxs)(`dl`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Education Board`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.educationBoard})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Academic Level`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.academicLevel?.join(`, `)||`N/A`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Grading System`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.gradingSystem||`N/A`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Attendance Type`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.attendanceType||`N/A`})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-gray-900 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(pr,{className:`w-5 h-5`}),`Address`]}),(0,Q.jsx)(`p`,{className:`text-gray-900`,children:e.addressLine1}),e.addressLine2&&(0,Q.jsx)(`p`,{className:`text-gray-900`,children:e.addressLine2}),(0,Q.jsxs)(`p`,{className:`text-gray-900 mt-2`,children:[e.city,`, `,e.state,` `,e.pincode]}),(0,Q.jsx)(`p`,{className:`text-gray-900`,children:e.country})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsx)(`h2`,{className:`text-xl font-bold text-gray-900 mb-4`,children:`Contact Information`}),(0,Q.jsxs)(`dl`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`dt`,{className:`text-sm font-medium text-gray-600 flex items-center gap-2`,children:[(0,Q.jsx)(fr,{className:`w-4 h-4`}),`Primary Email`]}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.primaryContactEmail})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`dt`,{className:`text-sm font-medium text-gray-600 flex items-center gap-2`,children:[(0,Q.jsx)(br,{className:`w-4 h-4`}),`Primary Phone`]}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.primaryContactPhone})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Primary Contact Name`}),(0,Q.jsxs)(`dd`,{className:`text-base text-gray-900 mt-1`,children:[e.primaryContactName,` (`,e.primaryContactRole,`)`]})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl p-6 shadow-lg border border-gray-100`,children:[(0,Q.jsx)(`h2`,{className:`text-xl font-bold text-gray-900 mb-4`,children:`Academic Configuration`}),(0,Q.jsxs)(`dl`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Grades Offered`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.gradesOffered?.join(`, `)||`N/A`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Sections`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.sectionsPerGrade?.join(`, `)||`N/A`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`dt`,{className:`text-sm font-medium text-gray-600`,children:`Subjects`}),(0,Q.jsx)(`dd`,{className:`text-base text-gray-900 mt-1`,children:e.subjectsOffered?.join(`, `)||`N/A`})]})]})]})]})]}):null},Va=()=>{let e=ke(),[t,n]=(0,_.useState)({current:!1,new:!1,confirm:!1}),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)({currentPassword:``,newPassword:``,confirmPassword:``});return(0,Q.jsxs)(`div`,{className:`max-w-2xl mx-auto space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white`,children:[(0,Q.jsxs)(`h1`,{className:`text-3xl font-bold mb-2 flex items-center gap-3`,children:[(0,Q.jsx)(ur,{className:`w-8 h-8`}),`Change Password`]}),(0,Q.jsx)(`p`,{className:`text-blue-100`,children:`Update your password to keep your account secure`})]}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl p-8 shadow-lg border border-gray-100`,children:(0,Q.jsxs)(`form`,{onSubmit:async t=>{if(t.preventDefault(),o(``),c(!1),l.newPassword!==l.confirmPassword){o(`New passwords do not match`);return}if(l.newPassword.length<8){o(`New password must be at least 8 characters`);return}i(!0);try{let t=await vi.auth.changePassword({currentPassword:l.currentPassword,newPassword:l.newPassword});if(t?.success){c(!0),u({currentPassword:``,newPassword:``,confirmPassword:``});let t=JSON.parse(localStorage.getItem(`schoolAdmin_info`)||`{}`);t.mustChangePassword=!1,localStorage.setItem(`schoolAdmin_info`,JSON.stringify(t)),setTimeout(()=>{e(`/dashboard`,{replace:!0})},1e3)}else o(t?.message||`Failed to change password`)}catch{o(`Failed to change password. Please try again.`)}finally{i(!1)}},className:`space-y-6`,children:[a&&(0,Q.jsx)(`div`,{className:`bg-red-50 border border-red-200 rounded-xl p-4`,children:(0,Q.jsx)(`p`,{className:`text-red-600 text-sm`,children:a})}),s&&(0,Q.jsxs)(`div`,{className:`bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-2`,children:[(0,Q.jsx)(Bn,{className:`w-5 h-5 text-green-600`}),(0,Q.jsx)(`p`,{className:`text-green-600 text-sm font-medium`,children:`Password changed successfully! Redirecting to dashboard...`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Current Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(ur,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:t.current?`text`:`password`,value:l.currentPassword,onChange:e=>u({...l,currentPassword:e.target.value}),required:!0,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n({...t,current:!t.current}),className:`absolute right-4 top-1/2 -translate-y-1/2`,children:t.current?(0,Q.jsx)(qn,{className:`w-5 h-5 text-gray-400`}):(0,Q.jsx)(Jn,{className:`w-5 h-5 text-gray-400`})})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(ur,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:t.new?`text`:`password`,value:l.newPassword,onChange:e=>u({...l,newPassword:e.target.value}),required:!0,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n({...t,new:!t.new}),className:`absolute right-4 top-1/2 -translate-y-1/2`,children:t.new?(0,Q.jsx)(qn,{className:`w-5 h-5 text-gray-400`}):(0,Q.jsx)(Jn,{className:`w-5 h-5 text-gray-400`})})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-semibold text-gray-700 mb-2`,children:`Confirm New Password`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(ur,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:t.confirm?`text`:`password`,value:l.confirmPassword,onChange:e=>u({...l,confirmPassword:e.target.value}),required:!0,className:`w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n({...t,confirm:!t.confirm}),className:`absolute right-4 top-1/2 -translate-y-1/2`,children:t.confirm?(0,Q.jsx)(qn,{className:`w-5 h-5 text-gray-400`}):(0,Q.jsx)(Jn,{className:`w-5 h-5 text-gray-400`})})]})]}),(0,Q.jsx)(`button`,{type:`submit`,disabled:r||s,className:`w-full py-3.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2`,children:r?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cr,{className:`w-5 h-5 animate-spin`}),`Updating...`]}):`Update Password`}),!s&&(0,Q.jsx)(`button`,{type:`button`,onClick:()=>{let t=JSON.parse(localStorage.getItem(`schoolAdmin_info`)||`{}`);t.mustChangePassword=!1,localStorage.setItem(`schoolAdmin_info`,JSON.stringify(t)),e(`/dashboard`,{replace:!0})},className:`w-full py-3.5 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2`,children:`Skip for Now`})]})})]})},Ha=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!0),[i,a]=(0,_.useState)(!1),[o,s]=(0,_.useState)(null),[c,l]=(0,_.useState)(null),[u,d]=(0,_.useState)(``),[f,p]=(0,_.useState)({name:``,code:``,startDate:``,endDate:``,status:`active`,termType:`annual`,description:``,isCurrent:!1}),m=[{value:`annual`,label:`Annual (Full Year)`},{value:`semester`,label:`Semester (2 Terms)`},{value:`trimester`,label:`Trimester (3 Terms)`},{value:`quarterly`,label:`Quarterly (4 Terms)`}],h=[{value:`active`,label:`Active`,color:`bg-green-100 text-green-700`},{value:`upcoming`,label:`Upcoming`,color:`bg-blue-100 text-blue-700`},{value:`completed`,label:`Completed`,color:`bg-gray-100 text-gray-700`},{value:`inactive`,label:`Inactive`,color:`bg-yellow-100 text-yellow-700`}];(0,_.useEffect)(()=>{g()},[u]);let g=async()=>{try{r(!0);let e={};u&&(e.status=u);let n=await ci.getAll(e);n?.success&&t(n.data||[])}catch(e){console.error(`Error fetching sessions:`,e),Z.error(`Failed to load academic sessions`)}finally{r(!1)}},v=(e=null)=>{e?(s(e),p({name:e.name,code:e.code,startDate:e.startDate?.split(`T`)[0]||``,endDate:e.endDate?.split(`T`)[0]||``,status:e.status,termType:e.termType||`annual`,description:e.description||``,isCurrent:e.isCurrent||!1})):(s(null),p({name:``,code:``,startDate:``,endDate:``,status:`active`,termType:`annual`,description:``,isCurrent:!1})),a(!0)},y=()=>{a(!1),s(null)},b=async e=>{e.preventDefault();try{let e;e=o?await ci.update(o.id,f):await ci.create(f),e?.success?(Z.success(o?`Academic session updated successfully`:`Academic session created successfully`),y(),g()):Z.error(e?.message||`Operation failed`)}catch(e){console.error(`Error saving session:`,e),Z.error(`Failed to save academic session`)}},x=async e=>{try{let t=await ci.delete(e);t?.success?(Z.success(`Academic session deleted successfully`),l(null),g()):Z.error(t?.message||`Failed to delete`)}catch(e){console.error(`Error deleting session:`,e),Z.error(`Failed to delete academic session`)}},S=async e=>{try{let t=await ci.setCurrent(e);t?.success?(Z.success(t.message||`Session set as current`),g()):Z.error(t?.message||`Failed to set current session`)}catch(e){console.error(`Error setting current session:`,e),Z.error(`Failed to set current session`)}},C=e=>h.find(t=>t.value===e)||{label:e,color:`bg-gray-100 text-gray-700`},w=e=>e?new Date(e).toLocaleDateString(`en-IN`,{day:`2-digit`,month:`short`,year:`numeric`}):`-`,T=()=>{if(f.startDate&&f.endDate){let e=new Date(f.startDate).getFullYear(),t=new Date(f.endDate).getFullYear();return e===t?`AY-${e}`:`AY-${e}-${t.toString().slice(-2)}`}return``};return(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-semibold text-gray-800`,children:`Academic Sessions`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage academic years and session configurations`})]}),(0,Q.jsxs)(`button`,{onClick:()=>v(),className:`inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),(0,Q.jsx)(`span`,{className:`font-medium`,children:`Add Session`})]})]}),(0,Q.jsx)(`div`,{className:`card`,children:(0,Q.jsx)(`div`,{className:`flex flex-wrap items-center gap-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Filter by Status:`}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`select`,{value:u,onChange:e=>d(e.target.value),className:`appearance-none pl-4 pr-10 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Status`}),h.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))]}),(0,Q.jsx)(In,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none`})]})]})})}),(0,Q.jsx)(`div`,{className:`card`,children:n?(0,Q.jsx)(`div`,{className:`flex items-center justify-center py-12`,children:(0,Q.jsx)(`div`,{className:`animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600`})}):e.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Academic Sessions`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Get started by creating your first academic session.`}),(0,Q.jsxs)(`button`,{onClick:()=>v(),className:`inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Create Session`]})]}):(0,Q.jsx)(`div`,{className:`overflow-x-auto`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{className:`border-b border-gray-200`,children:[(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 font-semibold text-gray-700`,children:`Session`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 font-semibold text-gray-700`,children:`Code`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 font-semibold text-gray-700`,children:`Duration`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 font-semibold text-gray-700`,children:`Term Type`}),(0,Q.jsx)(`th`,{className:`text-left py-4 px-4 font-semibold text-gray-700`,children:`Status`}),(0,Q.jsx)(`th`,{className:`text-right py-4 px-4 font-semibold text-gray-700`,children:`Actions`})]})}),(0,Q.jsx)(`tbody`,{children:e.map(e=>{let t=C(e.status);return(0,Q.jsxs)(`tr`,{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors`,children:[(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e.isCurrent?`bg-amber-100`:`bg-blue-100`}`,children:e.isCurrent?(0,Q.jsx)(Mr,{className:`w-5 h-5 text-amber-600`}):(0,Q.jsx)(Mn,{className:`w-5 h-5 text-blue-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`p`,{className:`font-medium text-gray-800 flex items-center gap-2`,children:[e.name,e.isCurrent&&(0,Q.jsx)(`span`,{className:`text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium`,children:`Current`})]}),e.description&&(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 truncate max-w-xs`,children:e.description})]})]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsx)(`span`,{className:`font-mono text-sm bg-gray-100 px-2 py-1 rounded`,children:e.code})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`text-sm`,children:[(0,Q.jsx)(`p`,{className:`text-gray-800`,children:w(e.startDate)}),(0,Q.jsxs)(`p`,{className:`text-gray-500`,children:[`to `,w(e.endDate)]})]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsx)(`span`,{className:`text-sm text-gray-700 capitalize`,children:m.find(t=>t.value===e.termType)?.label||e.termType})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`span`,{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${t.color}`,children:[e.status===`active`&&(0,Q.jsx)(Bn,{className:`w-3.5 h-3.5`}),e.status===`upcoming`&&(0,Q.jsx)(Un,{className:`w-3.5 h-3.5`}),e.status===`completed`&&(0,Q.jsx)(Bn,{className:`w-3.5 h-3.5`}),e.status===`inactive`&&(0,Q.jsx)(zn,{className:`w-3.5 h-3.5`}),t.label]})}),(0,Q.jsx)(`td`,{className:`py-4 px-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[!e.isCurrent&&e.status!==`completed`&&(0,Q.jsx)(`button`,{onClick:()=>S(e.id),className:`p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors`,title:`Set as Current`,children:(0,Q.jsx)(Mr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>v(e),className:`p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors`,title:`Edit`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>l(e),className:`p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors`,title:`Delete`,disabled:e.isCurrent,children:(0,Q.jsx)(zr,{className:`w-4 h-4 ${e.isCurrent?`opacity-50`:``}`})})]})})]},e.id)})})]})})}),i&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:o?`Edit Academic Session`:`Create Academic Session`}),(0,Q.jsx)(`button`,{onClick:y,className:`p-2 hover:bg-gray-100 rounded-lg transition-colors`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:b,className:`p-6 space-y-5`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Session Name `,(0,Q.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,Q.jsx)(`input`,{type:`text`,value:f.name,onChange:e=>p({...f,name:e.target.value}),placeholder:`e.g., Academic Year 2024-2025`,className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Start Date `,(0,Q.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,Q.jsx)(`input`,{type:`date`,value:f.startDate,onChange:e=>p({...f,startDate:e.target.value}),className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`End Date `,(0,Q.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,Q.jsx)(`input`,{type:`date`,value:f.endDate,onChange:e=>p({...f,endDate:e.target.value}),min:f.startDate,className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Session Code `,(0,Q.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`input`,{type:`text`,value:f.code,onChange:e=>p({...f,code:e.target.value}),placeholder:`e.g., AY-2024-25`,className:`flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono`,required:!0}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>p({...f,code:T()}),className:`px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors`,children:`Auto`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Term Type`}),(0,Q.jsx)(`select`,{value:f.termType,onChange:e=>p({...f,termType:e.target.value}),className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:m.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Status`}),(0,Q.jsx)(`select`,{value:f.status,onChange:e=>p({...f,status:e.target.value}),className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:h.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:f.description,onChange:e=>p({...f,description:e.target.value}),placeholder:`Optional notes about this academic session...`,rows:3,className:`w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),!o&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 p-4 bg-amber-50 rounded-lg border border-amber-200`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`isCurrent`,checked:f.isCurrent,onChange:e=>p({...f,isCurrent:e.target.checked}),className:`w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500`}),(0,Q.jsxs)(`label`,{htmlFor:`isCurrent`,className:`text-sm text-amber-800`,children:[(0,Q.jsx)(`span`,{className:`font-medium`,children:`Set as current session`}),(0,Q.jsx)(`p`,{className:`text-amber-600 text-xs mt-0.5`,children:`This will be used as the default session across the school`})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:y,className:`px-5 py-2.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-medium`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all font-medium`,children:o?`Update Session`:`Create Session`})]})]})]})}),c&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 mb-4`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 bg-red-100 rounded-full flex items-center justify-center`,children:(0,Q.jsx)(zr,{className:`w-6 h-6 text-red-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Delete Academic Session`}),(0,Q.jsx)(`p`,{className:`text-gray-600 text-sm`,children:`This action cannot be undone`})]})]}),(0,Q.jsxs)(`p`,{className:`text-gray-700 mb-6`,children:[`Are you sure you want to delete `,(0,Q.jsxs)(`strong`,{children:[`"`,c.name,`"`]}),`? All associated data may be affected.`]}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>l(null),className:`px-5 py-2.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-medium`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>x(c.id),className:`px-5 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium`,children:`Delete Session`})]})]})})})]})},Ua=()=>{let{currentSession:e,sessionId:t,sessions:n}=xi(),[r,i]=(0,_.useState)(`grades`),[a,o]=(0,_.useState)([]),[s,c]=(0,_.useState)([]),[l,u]=(0,_.useState)([]),[d,f]=(0,_.useState)([]),[p,m]=(0,_.useState)(null),[h,g]=(0,_.useState)(!0),[v,y]=(0,_.useState)(!1),[b,x]=(0,_.useState)(!1),[S,C]=(0,_.useState)(!1),[w,T]=(0,_.useState)(!1),[E,D]=(0,_.useState)(null),[O,k]=(0,_.useState)(!1),[A,j]=(0,_.useState)(!1),[M,N]=(0,_.useState)(null),[P,F]=(0,_.useState)({name:``,displayName:``,numericValue:``,description:``,orderIndex:0,isActive:!0}),[I,L]=(0,_.useState)({name:``,displayName:``,description:``,orderIndex:0,isActive:!0}),[R,z]=(0,_.useState)({classGradeId:``,sectionId:``,capacity:40,roomNumber:``,building:``,floor:``,classTeacherId:``,isActive:!0}),[ee,B]=(0,_.useState)({sourceSessionId:``}),V=[{name:`Class 1`,displayName:`Class 1`,numericValue:1},{name:`Class 2`,displayName:`Class 2`,numericValue:2},{name:`Class 3`,displayName:`Class 3`,numericValue:3},{name:`Class 4`,displayName:`Class 4`,numericValue:4},{name:`Class 5`,displayName:`Class 5`,numericValue:5},{name:`Class 6`,displayName:`Class 6`,numericValue:6},{name:`Class 7`,displayName:`Class 7`,numericValue:7},{name:`Class 8`,displayName:`Class 8`,numericValue:8},{name:`Class 9`,displayName:`Class 9`,numericValue:9},{name:`Class 10`,displayName:`Class 10`,numericValue:10},{name:`Class 11`,displayName:`Class 11`,numericValue:11},{name:`Class 12`,displayName:`Class 12`,numericValue:12}],H=[`A`,`B`,`C`,`D`,`E`,`F`];(0,_.useEffect)(()=>{t&&(m(t),U())},[t]),(0,_.useEffect)(()=>{n?.length>0&&f(n)},[n]),(0,_.useEffect)(()=>{p&&W()},[p]);let U=async()=>{g(!0);try{let[e,n,r]=await Promise.all([li.getGrades({academic_session_id:t}),li.getSections(),ci.getAll()]);e?.success&&o(e.data||[]),n?.success&&c(n.data||[]),r?.success&&f(r.data||[])}catch(e){console.error(`Error fetching data:`,e),Z.error(`Failed to load configuration data`)}finally{g(!1)}},W=async()=>{if(p)try{let e=await li.getClassSections({academic_session_id:p});e?.success&&u(e.data||[])}catch(e){console.error(`Error fetching class sections:`,e)}},G=d.find(e=>e.id===p),K=(e=null)=>{e?(N(e),F({name:e.name,displayName:e.displayName,numericValue:e.numericValue||``,description:e.description||``,orderIndex:e.orderIndex||0,isActive:e.isActive})):(N(null),F({name:``,displayName:``,numericValue:``,description:``,orderIndex:a.length,isActive:!0})),x(!0)},te=async e=>{e.preventDefault();try{let e={...P,numericValue:P.numericValue?parseInt(P.numericValue):null,orderIndex:parseInt(P.orderIndex)},t;t=M?await li.updateGrade(M.id,e):await li.createGrade(e),t?.success?(Z.success(M?`Class updated successfully`:`Class created successfully`),x(!1),U()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save class`)}},ne=async e=>{try{let t=await li.deleteGrade(e);t?.success?(Z.success(`Class deleted successfully`),D(null),U()):Z.error(t?.message||`Failed to delete`)}catch{Z.error(`Failed to delete class`)}},re=async()=>{let e=a.map(e=>e.name),t=V.filter(t=>!e.includes(t.name));if(t.length===0){Z.info(`All standard classes already exist`);return}try{for(let e=0;e<t.length;e++)await li.createGrade({...t[e],orderIndex:a.length+e,isActive:!0});Z.success(`Added ${t.length} classes`),U()}catch{Z.error(`Failed to add classes`)}},ie=(e=null)=>{e?(N(e),L({name:e.name,displayName:e.displayName||``,description:e.description||``,orderIndex:e.orderIndex||0,isActive:e.isActive})):(N(null),L({name:``,displayName:``,description:``,orderIndex:s.length,isActive:!0})),C(!0)},ae=async e=>{e.preventDefault();try{let e={...I,orderIndex:parseInt(I.orderIndex)},t;t=M?await li.updateSection(M.id,e):await li.createSection(e),t?.success?(Z.success(M?`Section updated successfully`:`Section created successfully`),C(!1),U()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save section`)}},oe=async e=>{try{let t=await li.deleteSection(e);t?.success?(Z.success(`Section deleted successfully`),D(null),U()):Z.error(t?.message||`Failed to delete`)}catch{Z.error(`Failed to delete section`)}},q=async()=>{let e=s.map(e=>e.name),t=H.filter(t=>!e.includes(t));if(t.length===0){Z.info(`All standard sections already exist`);return}try{for(let e=0;e<t.length;e++)await li.createSection({name:t[e],displayName:`Section ${t[e]}`,orderIndex:s.length+e,isActive:!0});Z.success(`Added ${t.length} sections`),U()}catch{Z.error(`Failed to add sections`)}},se=(e=null)=>{e?(N(e),z({classGradeId:e.classGradeId,sectionId:e.sectionId,capacity:e.capacity||40,roomNumber:e.roomNumber||``,building:e.building||``,floor:e.floor||``,classTeacherId:e.classTeacherId||``,isActive:e.isActive})):(N(null),z({classGradeId:``,sectionId:``,capacity:40,roomNumber:``,building:``,floor:``,classTeacherId:``,isActive:!0})),T(!0)},ce=async e=>{if(e.preventDefault(),!p){Z.error(`Please select an academic session first`);return}try{let e={...R,capacity:parseInt(R.capacity),academicSessionId:p,classTeacherId:R.classTeacherId||null},t;t=M?await li.updateClassSection(M.id,e):await li.createClassSection(e),t?.success?(Z.success(M?`Structure updated successfully`:`Structure created successfully`),T(!1),W()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save structure`)}},le=async e=>{try{let t=await li.deleteClassSection(e);t?.success?(Z.success(`Structure deleted successfully`),D(null),W()):Z.error(t?.message||`Failed to delete`)}catch{Z.error(`Failed to delete structure`)}},ue=async e=>{if(s.length===0){Z.error(`Please create sections first`);return}if(!p){Z.error(`Please select an academic session first`);return}try{let t=await li.bulkCreateClassSections({classGradeId:e,sectionIds:s.map(e=>e.id),academicSessionId:p,defaultCapacity:40});t?.success?(Z.success(t.message),W()):Z.error(t?.message||`Failed to create structures`)}catch{Z.error(`Failed to create structures`)}},de=async()=>{if(!ee.sourceSessionId){Z.error(`Please select a source session`);return}if(!p){Z.error(`Please select a target session`);return}if(ee.sourceSessionId===p){Z.error(`Source and target sessions cannot be the same`);return}y(!0);try{let e=await li.copyClassSections({sourceSessionId:ee.sourceSessionId,targetSessionId:p});e?.success?(Z.success(e.message||`Structure copied successfully`),k(!1),W()):Z.error(e?.message||`Failed to copy structure`)}catch{Z.error(`Failed to copy structure`)}finally{y(!1)}},fe=a.map(e=>({...e,sections:l.filter(t=>t.classGradeId===e.id)})),pe=[{id:`grades`,label:`Classes`,icon:En,count:a.length},{id:`sections`,label:`Sections`,icon:ir,count:s.length},{id:`structure`,label:`Class Structure`,icon:ar,count:l.length}];return h?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsx)(`div`,{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4`,children:(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:`Class & Section Configuration`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage your school's class structure and sections`})]})}),(0,Q.jsx)(`div`,{className:`flex gap-2 border-b border-gray-200 overflow-x-auto`,children:pe.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>i(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${r===e.id?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label,(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${r===e.id?`bg-blue-100 text-blue-600`:`bg-gray-100 text-gray-500`}`,children:e.count})]},e.id))}),r===`grades`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Classes / Grades`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`These are permanent and shared across all academic sessions`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:re,className:`px-4 py-2 border border-blue-200 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm`,children:`Quick Add (1-12)`}),(0,Q.jsxs)(`button`,{onClick:()=>K(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Class`]})]})]}),a.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(En,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Classes Yet`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Start by adding classes or use the quick add button`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:a.map(e=>(0,Q.jsxs)(`div`,{className:`p-4 rounded-xl border-2 transition-all ${e.isActive?`border-blue-200 bg-blue-50/50`:`border-gray-200 bg-gray-50 opacity-60`}`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e.isActive?`bg-blue-100`:`bg-gray-200`}`,children:(0,Q.jsx)(`span`,{className:`text-lg font-bold ${e.isActive?`text-blue-600`:`text-gray-500`}`,children:e.numericValue||e.name.charAt(0)})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.displayName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.name})]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>K(e),className:`p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`grade`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),e.description&&(0,Q.jsx)(`p`,{className:`mt-2 text-sm text-gray-600`,children:e.description}),(0,Q.jsx)(`div`,{className:`mt-3 flex items-center gap-2`,children:e.isActive?(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full`,children:`Active`}):(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-gray-200 text-gray-600 rounded-full`,children:`Inactive`})})]},e.id))})]}),r===`sections`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Sections`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`These are permanent and shared across all academic sessions`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:q,className:`px-4 py-2 border border-purple-200 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors text-sm`,children:`Quick Add (A-F)`}),(0,Q.jsxs)(`button`,{onClick:()=>ie(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Section`]})]})]}),s.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(ir,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Sections Yet`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Add sections like A, B, C or use quick add`})]}):(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-3`,children:s.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${e.isActive?`border-purple-200 bg-purple-50/50`:`border-gray-200 bg-gray-50 opacity-60`}`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e.isActive?`bg-purple-100`:`bg-gray-200`}`,children:(0,Q.jsx)(`span`,{className:`text-lg font-bold ${e.isActive?`text-purple-600`:`text-gray-500`}`,children:e.name})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-medium text-gray-800`,children:e.displayName||`Section ${e.name}`}),e.isActive?(0,Q.jsx)(`span`,{className:`text-xs text-green-600`,children:`Active`}):(0,Q.jsx)(`span`,{className:`text-xs text-gray-500`,children:`Inactive`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1 ml-2`,children:[(0,Q.jsx)(`button`,{onClick:()=>ie(e),className:`p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`section`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]},e.id))})]}),r===`structure`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 pb-4 border-b border-gray-200`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Class Structure`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Configure which classes have which sections for each academic session`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`button`,{onClick:()=>j(!A),className:`flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors min-w-[200px]`,children:[(0,Q.jsx)(Mn,{className:`w-4 h-4 text-gray-500`}),(0,Q.jsx)(`span`,{className:`flex-1 text-left`,children:G?.name||`Select Session`}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-400`})]}),A&&(0,Q.jsx)(`div`,{className:`absolute top-full right-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-20 max-h-60 overflow-auto`,children:d.length===0?(0,Q.jsx)(`div`,{className:`px-4 py-3 text-sm text-gray-500`,children:`No sessions available`}):d.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>{m(e.id),j(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center justify-between ${p===e.id?`bg-blue-50 text-blue-600`:``}`,children:[(0,Q.jsx)(`span`,{children:e.name}),e.isCurrent&&(0,Q.jsx)(`span`,{className:`text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded`,children:`Current`})]},e.id))})]}),(0,Q.jsxs)(`button`,{onClick:()=>{B({sourceSessionId:``}),k(!0)},className:`flex items-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors`,children:[(0,Q.jsx)(Gn,{className:`w-4 h-4`}),`Copy from Session`]}),(0,Q.jsxs)(`button`,{onClick:()=>se(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Structure`]})]})]}),G&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg mb-6`,children:[(0,Q.jsx)(Mn,{className:`w-5 h-5 text-blue-600`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`span`,{className:`font-medium text-blue-800`,children:[`Viewing: `,G.name]}),G.isCurrent&&(0,Q.jsx)(`span`,{className:`ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded`,children:`Current Session`})]}),(0,Q.jsxs)(`span`,{className:`text-sm text-blue-600 ml-auto`,children:[l.length,` class-section combinations`]})]}),p?a.length===0||s.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(zn,{className:`w-16 h-16 text-yellow-400 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`Setup Required`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Please add classes and sections first before creating the structure.`})]}):(0,Q.jsx)(`div`,{className:`space-y-5`,children:fe.map(e=>(0,Q.jsxs)(`div`,{className:`border-2 border-gray-200 rounded-xl overflow-hidden shadow-sm`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between px-5 py-4 bg-gradient-to-r from-indigo-600 to-blue-600`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center`,children:(0,Q.jsx)(`span`,{className:`text-xl font-bold text-white`,children:e.numericValue||e.name.replace(`Class `,``)})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`text-lg font-bold text-white`,children:e.displayName}),(0,Q.jsxs)(`p`,{className:`text-sm text-blue-100`,children:[e.sections.length,` `,e.sections.length===1?`section`:`sections`,` assigned`]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>ue(e.id),className:`text-sm bg-white/20 hover:bg-white/30 text-white font-medium px-4 py-2 rounded-lg transition-colors backdrop-blur`,children:`+ Add All Sections`})]}),e.sections.length>0?(0,Q.jsx)(`div`,{className:`p-4 bg-gray-50 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:e.sections.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-sm transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-8 h-8 rounded bg-purple-100 flex items-center justify-center`,children:(0,Q.jsx)(`span`,{className:`font-semibold text-purple-600 text-sm`,children:e.sectionName})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 text-sm`,children:e.displayName}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-gray-500`,children:[(0,Q.jsx)(Jr,{className:`w-3 h-3`}),(0,Q.jsxs)(`span`,{children:[e.currentStrength||0,`/`,e.capacity]}),e.roomNumber&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`span`,{children:``}),(0,Q.jsx)(kn,{className:`w-3 h-3`}),(0,Q.jsx)(`span`,{children:e.roomNumber})]})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>se(e),className:`p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`structure`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]},e.id))}):(0,Q.jsxs)(`div`,{className:`p-6 bg-gray-50 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`No sections assigned to this class for this session`}),(0,Q.jsx)(`button`,{onClick:()=>ue(e.id),className:`mt-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium`,children:`Click here to add all sections`})]})]},e.id))}):(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 text-yellow-400 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`Select Academic Session`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Please select an academic session to view or configure class structure`})]})]}),b&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:M?`Edit Class`:`Add New Class`}),(0,Q.jsx)(`button`,{onClick:()=>x(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:te,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:P.name,onChange:e=>F({...P,name:e.target.value}),placeholder:`e.g., Class 1`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Display Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:P.displayName,onChange:e=>F({...P,displayName:e.target.value}),placeholder:`e.g., Class 1`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Numeric Value`}),(0,Q.jsx)(`input`,{type:`number`,value:P.numericValue,onChange:e=>F({...P,numericValue:e.target.value}),placeholder:`e.g., 1`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Order`}),(0,Q.jsx)(`input`,{type:`number`,value:P.orderIndex,onChange:e=>F({...P,orderIndex:parseInt(e.target.value)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:P.description,onChange:e=>F({...P,description:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`gradeActive`,checked:P.isActive,onChange:e=>F({...P,isActive:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`label`,{htmlFor:`gradeActive`,className:`text-sm text-gray-700`,children:`Active`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>x(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:M?`Update`:`Create`})]})]})]})}),S&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:M?`Edit Section`:`Add New Section`}),(0,Q.jsx)(`button`,{onClick:()=>C(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:ae,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:I.name,onChange:e=>L({...I,name:e.target.value}),placeholder:`e.g., A`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Display Name`}),(0,Q.jsx)(`input`,{type:`text`,value:I.displayName,onChange:e=>L({...I,displayName:e.target.value}),placeholder:`e.g., Section A`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:I.description,onChange:e=>L({...I,description:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Order`}),(0,Q.jsx)(`input`,{type:`number`,value:I.orderIndex,onChange:e=>L({...I,orderIndex:parseInt(e.target.value)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center pt-6`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`sectionActive`,checked:I.isActive,onChange:e=>L({...I,isActive:e.target.checked}),className:`w-4 h-4 text-purple-600 rounded`}),(0,Q.jsx)(`label`,{htmlFor:`sectionActive`,className:`ml-2 text-sm text-gray-700`,children:`Active`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>C(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700`,children:M?`Update`:`Create`})]})]})]})}),w&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:M?`Edit Class-Section`:`Add Class-Section`}),G&&(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500 mt-1`,children:[`Session: `,G.name]})]}),(0,Q.jsx)(`button`,{onClick:()=>T(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:ce,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class *`}),(0,Q.jsxs)(`select`,{value:R.classGradeId,onChange:e=>z({...R,classGradeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,disabled:!!M,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Class`}),a.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.displayName},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Section *`}),(0,Q.jsxs)(`select`,{value:R.sectionId,onChange:e=>z({...R,sectionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,disabled:!!M,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Section`}),s.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.displayName||e.name},e.id))]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Capacity`}),(0,Q.jsx)(`input`,{type:`number`,value:R.capacity,onChange:e=>z({...R,capacity:e.target.value}),placeholder:`40`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Room Number`}),(0,Q.jsx)(`input`,{type:`text`,value:R.roomNumber,onChange:e=>z({...R,roomNumber:e.target.value}),placeholder:`e.g., 101`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Building`}),(0,Q.jsx)(`input`,{type:`text`,value:R.building,onChange:e=>z({...R,building:e.target.value}),placeholder:`e.g., Main Building`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Floor`}),(0,Q.jsx)(`input`,{type:`text`,value:R.floor,onChange:e=>z({...R,floor:e.target.value}),placeholder:`e.g., Ground Floor`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`structureActive`,checked:R.isActive,onChange:e=>z({...R,isActive:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`label`,{htmlFor:`structureActive`,className:`text-sm text-gray-700`,children:`Active`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>T(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:M?`Update`:`Create`})]})]})]})}),O&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:`Copy Class Structure`}),(0,Q.jsx)(`button`,{onClick:()=>k(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-4 bg-gray-50 rounded-xl`,children:[(0,Q.jsxs)(`div`,{className:`text-center flex-1`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`FROM (Source)`}),(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mx-auto mb-1`,children:(0,Q.jsx)(Mn,{className:`w-6 h-6 text-green-600`})}),(0,Q.jsx)(`p`,{className:`text-sm font-medium text-gray-700`,children:`Previous Session`}),(0,Q.jsx)(`p`,{className:`text-xs text-green-600`,children:`Has class structure`})]}),(0,Q.jsx)(`div`,{className:`px-4`,children:(0,Q.jsx)(`div`,{className:`text-2xl text-gray-400`,children:``})}),(0,Q.jsxs)(`div`,{className:`text-center flex-1`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`TO (Target)`}),(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mx-auto mb-1`,children:(0,Q.jsx)(Mn,{className:`w-6 h-6 text-blue-600`})}),(0,Q.jsx)(`p`,{className:`text-sm font-medium text-gray-700`,children:G?.name||`Current`}),(0,Q.jsxs)(`p`,{className:`text-xs text-blue-600`,children:[l.length,` class sections`]})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Copy FROM Session (Source) *`}),(0,Q.jsxs)(`select`,{value:ee.sourceSessionId,onChange:e=>B({...ee,sourceSessionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select session with existing structure`}),d.filter(e=>e.id!==p).map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` `,e.isCurrent?`(Current)`:``]},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`p-3 bg-green-50 border border-green-200 rounded-lg`,children:[(0,Q.jsxs)(`p`,{className:`text-sm text-green-800`,children:[(0,Q.jsx)(`strong`,{children:` Copying TO:`}),` `,G?.name||`None selected`]}),(0,Q.jsxs)(`p`,{className:`text-xs text-green-600 mt-1`,children:[`Currently has `,l.length,` class sections`]})]}),(0,Q.jsx)(`div`,{className:`p-3 bg-yellow-50 border border-yellow-200 rounded-lg`,children:(0,Q.jsxs)(`p`,{className:`text-sm text-yellow-800`,children:[(0,Q.jsx)(`strong`,{children:`Note:`}),` Select a session that already has class structure configured. Existing configurations in the target session will be skipped.`]})}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>k(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:de,disabled:v||!ee.sourceSessionId,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50`,children:[v&&(0,Q.jsx)(cr,{className:`w-4 h-4 animate-spin`}),`Copy Structure`]})]})]})]})}),E&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-8 h-8 text-red-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Confirm Delete`}),(0,Q.jsxs)(`p`,{className:`text-gray-600 mb-6`,children:[`Are you sure you want to delete this `,E.type,`? This action cannot be undone.`]}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>D(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>{E.type===`grade`?ne(E.item.id):E.type===`section`?oe(E.item.id):E.type===`structure`&&le(E.item.id)},className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors`,children:`Delete`})]})]})})})]})},Wa=[{name:`English`,code:`ENG`,category:`core`,color:`#3B82F6`},{name:`Hindi`,code:`HIN`,category:`language`,color:`#F59E0B`},{name:`Mathematics`,code:`MATH`,category:`core`,color:`#10B981`},{name:`Science`,code:`SCI`,category:`core`,color:`#8B5CF6`},{name:`Social Studies`,code:`SST`,category:`core`,color:`#EC4899`},{name:`Computer Science`,code:`CS`,category:`elective`,color:`#06B6D4`},{name:`Physical Education`,code:`PE`,category:`co-curricular`,color:`#EF4444`},{name:`Art & Craft`,code:`ART`,category:`co-curricular`,color:`#F97316`},{name:`Music`,code:`MUS`,category:`co-curricular`,color:`#A855F7`},{name:`Sanskrit`,code:`SKT`,category:`language`,color:`#84CC16`},{name:`Environmental Studies`,code:`EVS`,category:`core`,color:`#22C55E`},{name:`General Knowledge`,code:`GK`,category:`elective`,color:`#6366F1`}],Ga=[{value:`core`,label:`Core Subject`,color:`bg-blue-100 text-blue-700`},{value:`elective`,label:`Elective`,color:`bg-purple-100 text-purple-700`},{value:`language`,label:`Language`,color:`bg-yellow-100 text-yellow-700`},{value:`vocational`,label:`Vocational`,color:`bg-green-100 text-green-700`},{value:`co-curricular`,label:`Co-Curricular`,color:`bg-pink-100 text-pink-700`}],Ka=()=>{let{currentSession:e,sessionId:t,sessions:n}=xi(),[r,i]=(0,_.useState)(`subjects`),[a,o]=(0,_.useState)([]),[s,c]=(0,_.useState)([]),[l,u]=(0,_.useState)([]),[d,f]=(0,_.useState)([]),[p,m]=(0,_.useState)([]),[h,g]=(0,_.useState)(null),[v,y]=(0,_.useState)(null),[b,x]=(0,_.useState)(!0),[S,C]=(0,_.useState)(!1),[w,T]=(0,_.useState)(!1),[E,D]=(0,_.useState)(null),[O,k]=(0,_.useState)(!1),[A,j]=(0,_.useState)(!1),[M,N]=(0,_.useState)(null),[P,F]=(0,_.useState)({name:``,code:``,displayName:``,description:``,category:`core`,departmentId:``,subjectType:`theory`,isMandatory:!0,creditHours:0,maxMarks:100,passingMarks:33,color:`#3B82F6`,isActive:!0}),[I,L]=(0,_.useState)({subjectId:``,periodsPerWeek:5,isOptional:!1});(0,_.useEffect)(()=>{t&&(g(t),R())},[t]),(0,_.useEffect)(()=>{n?.length>0&&f(n)},[n]),(0,_.useEffect)(()=>{h&&z()},[h]),(0,_.useEffect)(()=>{v&&h&&ee()},[v,h]);let R=async()=>{x(!0);try{let[e,n,r]=await Promise.all([ui.getAll({academic_session_id:t}),ci.getAll(),mi.getAll()]);e?.success&&o(e.data||[]),n?.success&&f(n.data||[]),r?.success&&c(r.data||[])}catch(e){console.error(`Error fetching data:`,e),Z.error(`Failed to load data`)}finally{x(!1)}},z=async()=>{if(h)try{let e=await li.getClassSections({academic_session_id:h});e?.success&&(m(e.data||[]),e.data?.length>0&&!v&&y(e.data[0].id))}catch(e){console.error(`Error fetching class sections:`,e)}},ee=async()=>{if(!(!v||!h))try{let e=await ui.getCurriculum({class_section_id:v,academic_session_id:h});e?.success&&u(e.data||[])}catch(e){console.error(`Error fetching curriculum:`,e)}},B=d.find(e=>e.id===h),V=p.find(e=>e.id===v),H=(e=null)=>{e?(N(e),F({name:e.name,code:e.code,displayName:e.displayName||``,description:e.description||``,category:e.category||`core`,departmentId:e.departmentId||``,subjectType:e.subjectType||`theory`,isMandatory:e.isMandatory!==!1,creditHours:e.creditHours||0,maxMarks:e.maxMarks||100,passingMarks:e.passingMarks||33,color:e.color||`#3B82F6`,isActive:e.isActive!==!1})):(N(null),F({name:``,code:``,displayName:``,description:``,category:`core`,departmentId:``,subjectType:`theory`,isMandatory:!0,creditHours:0,maxMarks:100,passingMarks:33,color:`#3B82F6`,isActive:!0})),C(!0)},U=async e=>{e.preventDefault();try{let e;e=M?await ui.update(M.id,P):await ui.create(P),e?.success?(Z.success(M?`Subject updated`:`Subject created`),C(!1),R()):Z.error(e?.message||`Operation failed`)}catch{Z.error(`Failed to save subject`)}},W=async e=>{try{let t=await ui.delete(e);t?.success?(Z.success(`Subject deleted`),D(null),R()):Z.error(t?.message||`Failed to delete`)}catch{Z.error(`Failed to delete subject`)}},G=async()=>{let e=a.map(e=>e.code),t=Wa.filter(t=>!e.includes(t.code));if(t.length===0){Z.info(`All common subjects already exist`);return}try{let e=await ui.bulkCreate(t);e?.success?(Z.success(e.message),R()):Z.error(e?.message||`Failed to add subjects`)}catch{Z.error(`Failed to add subjects`)}},K=()=>{L({subjectId:``,periodsPerWeek:5,isOptional:!1}),T(!0)},te=async e=>{if(e.preventDefault(),!v||!I.subjectId){Z.error(`Please select a class and subject`);return}try{let e=await ui.assignToClass({classSectionId:v,subjectId:I.subjectId,academicSessionId:h,periodsPerWeek:I.periodsPerWeek,isOptional:I.isOptional});e?.success?(Z.success(`Subject assigned to class`),T(!1),ee()):Z.error(e?.message||`Failed to assign`)}catch{Z.error(`Failed to assign subject`)}},ne=async e=>{try{let t=await ui.removeFromClass(e);t?.success?(Z.success(`Subject removed from class`),D(null),ee()):Z.error(t?.message||`Failed to remove`)}catch{Z.error(`Failed to remove subject`)}},re=async()=>{if(!v||a.length===0){Z.error(`Please select a class and ensure subjects exist`);return}let e=a.filter(e=>e.category===`core`||e.category===`language`);if(e.length===0){Z.info(`No core/language subjects to assign`);return}try{let t=await ui.bulkAssign({classSectionId:v,subjectIds:e.map(e=>e.id),academicSessionId:h,periodsPerWeek:5});t?.success?(Z.success(t.message),ee()):Z.error(t?.message||`Failed to assign subjects`)}catch{Z.error(`Failed to assign subjects`)}},ie=e=>Ga.find(t=>t.value===e)?.color||`bg-gray-100 text-gray-700`,ae=[{id:`subjects`,label:`Subjects`,icon:En,count:a.length},{id:`curriculum`,label:`Curriculum Mapping`,icon:ir,count:l.length}];return b?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:`Subject & Curriculum Configuration`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage subjects and assign them to classes`})]}),(0,Q.jsx)(`div`,{className:`flex gap-2 border-b border-gray-200 overflow-x-auto`,children:ae.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>i(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${r===e.id?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label,(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${r===e.id?`bg-blue-100 text-blue-600`:`bg-gray-100 text-gray-500`}`,children:e.count})]},e.id))}),r===`subjects`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Subjects Master List`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Define all subjects taught in your school`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:G,className:`px-4 py-2 border border-blue-200 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm`,children:`Quick Add Common`}),(0,Q.jsxs)(`button`,{onClick:()=>H(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Subject`]})]})]}),a.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(En,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Subjects Yet`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Start by adding subjects or use Quick Add`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:a.map(e=>(0,Q.jsxs)(`div`,{className:`p-4 rounded-xl border-2 border-gray-200 hover:border-blue-200 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold`,style:{backgroundColor:e.color||`#3B82F6`},children:e.code?.substring(0,2)||e.name?.substring(0,2)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.displayName||e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.code})]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>H(e),className:`p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`subject`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),(0,Q.jsxs)(`div`,{className:`mt-3 flex flex-wrap gap-2`,children:[e.departmentId&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-indigo-100 text-indigo-700 rounded-full font-medium`,children:s.find(t=>t.id===e.departmentId)?.name||`Department`}),(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${ie(e.category)}`,children:Ga.find(t=>t.value===e.category)?.label||e.category}),(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full`,children:e.subjectType}),e.isMandatory&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-red-100 text-red-600 rounded-full`,children:`Mandatory`})]})]},e.id))})]}),r===`curriculum`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6 pb-4 border-b border-gray-200`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Curriculum Mapping`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Assign subjects to classes for each academic session`})]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`button`,{onClick:()=>k(!O),className:`flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors min-w-[180px]`,children:[(0,Q.jsx)(Mn,{className:`w-4 h-4 text-gray-500`}),(0,Q.jsx)(`span`,{className:`flex-1 text-left text-sm`,children:B?.name||`Select Session`}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-400`})]}),O&&(0,Q.jsx)(`div`,{className:`absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-20 max-h-60 overflow-auto`,children:d.map(e=>(0,Q.jsx)(`button`,{onClick:()=>{g(e.id),k(!1),y(null)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 ${h===e.id?`bg-blue-50 text-blue-600`:``}`,children:e.name},e.id))})]}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`button`,{onClick:()=>j(!A),className:`flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors min-w-[180px]`,children:[(0,Q.jsx)(ir,{className:`w-4 h-4 text-gray-500`}),(0,Q.jsx)(`span`,{className:`flex-1 text-left text-sm`,children:V?.displayName||`Select Class`}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-400`})]}),A&&(0,Q.jsx)(`div`,{className:`absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-20 max-h-60 overflow-auto`,children:p.length===0?(0,Q.jsx)(`div`,{className:`px-4 py-3 text-sm text-gray-500`,children:`No classes for this session`}):p.map(e=>(0,Q.jsx)(`button`,{onClick:()=>{y(e.id),j(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 ${v===e.id?`bg-blue-50 text-blue-600`:``}`,children:e.displayName},e.id))})]}),(0,Q.jsx)(`button`,{onClick:re,className:`px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm`,children:`Assign Core Subjects`}),(0,Q.jsxs)(`button`,{onClick:K,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Assign Subject`]})]})]}),B&&V&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg mb-6`,children:[(0,Q.jsx)(ir,{className:`w-5 h-5 text-blue-600`}),(0,Q.jsxs)(`span`,{className:`font-medium text-blue-800`,children:[V.displayName,`  `,B.name]}),(0,Q.jsxs)(`span`,{className:`text-sm text-blue-600 ml-auto`,children:[l.length,` subjects assigned`]})]}),!h||!v?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(ir,{className:`w-16 h-16 text-yellow-400 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`Select Session & Class`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Please select an academic session and class to manage curriculum`})]}):l.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(En,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Subjects Assigned`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Assign subjects to this class`}),(0,Q.jsx)(`button`,{onClick:re,className:`text-blue-600 hover:text-blue-700 font-medium`,children:`Click here to assign all core subjects`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:l.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-4 rounded-xl border-2 border-gray-200 hover:border-blue-200 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm`,style:{backgroundColor:e.subjectColor||`#3B82F6`},children:e.subjectCode?.substring(0,2)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-medium text-gray-800`,children:e.subjectDisplayName||e.subjectName}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-gray-500`,children:[(0,Q.jsxs)(`span`,{children:[e.periodsPerWeek,` periods/week`]}),e.isOptional&&(0,Q.jsx)(`span`,{className:`px-1.5 py-0.5 bg-yellow-100 text-yellow-700 rounded`,children:`Optional`})]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`curriculum`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]},e.id))})]}),S&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200 sticky top-0 bg-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:M?`Edit Subject`:`Add New Subject`}),(0,Q.jsx)(`button`,{onClick:()=>C(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:U,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:P.name,onChange:e=>F({...P,name:e.target.value}),placeholder:`e.g., Mathematics`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Code *`}),(0,Q.jsx)(`input`,{type:`text`,value:P.code,onChange:e=>F({...P,code:e.target.value.toUpperCase()}),placeholder:`e.g., MATH`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Display Name`}),(0,Q.jsx)(`input`,{type:`text`,value:P.displayName,onChange:e=>F({...P,displayName:e.target.value}),placeholder:`e.g., Mathematics`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Department *`}),(0,Q.jsxs)(`select`,{value:P.departmentId,onChange:e=>F({...P,departmentId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Department`}),s.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Category`}),(0,Q.jsx)(`select`,{value:P.category,onChange:e=>F({...P,category:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:Ga.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Type`}),(0,Q.jsxs)(`select`,{value:P.subjectType,onChange:e=>F({...P,subjectType:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:`theory`,children:`Theory`}),(0,Q.jsx)(`option`,{value:`practical`,children:`Practical`}),(0,Q.jsx)(`option`,{value:`both`,children:`Theory & Practical`})]})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-3 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Max Marks`}),(0,Q.jsx)(`input`,{type:`number`,value:P.maxMarks,onChange:e=>F({...P,maxMarks:parseInt(e.target.value)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Pass Marks`}),(0,Q.jsx)(`input`,{type:`number`,value:P.passingMarks,onChange:e=>F({...P,passingMarks:parseInt(e.target.value)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Color`}),(0,Q.jsx)(`input`,{type:`color`,value:P.color,onChange:e=>F({...P,color:e.target.value}),className:`w-full h-10 border border-gray-200 rounded-lg cursor-pointer`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:P.description,onChange:e=>F({...P,description:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:P.isMandatory,onChange:e=>F({...P,isMandatory:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Mandatory`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:P.isActive,onChange:e=>F({...P,isActive:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Active`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>C(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:M?`Update`:`Create`})]})]})]})}),w&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:`Assign Subject`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:V?.displayName})]}),(0,Q.jsx)(`button`,{onClick:()=>T(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:te,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Subject *`}),(0,Q.jsxs)(`select`,{value:I.subjectId,onChange:e=>L({...I,subjectId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),a.filter(e=>!l.some(t=>t.subjectId===e.id)).map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.displayName||e.name,` (`,e.code,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Periods per Week`}),(0,Q.jsx)(`input`,{type:`number`,value:I.periodsPerWeek,onChange:e=>L({...I,periodsPerWeek:parseInt(e.target.value)}),min:`1`,max:`15`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:I.isOptional,onChange:e=>L({...I,isOptional:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Optional Subject`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>T(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700`,children:`Assign`})]})]})]})}),E&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-8 h-8 text-red-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Confirm Delete`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:E.type===`subject`?`Delete this subject? This will also remove it from all class assignments.`:`Remove this subject from the class?`}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>D(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>{E.type===`subject`?W(E.item.id):ne(E.item.id)},className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors`,children:`Delete`})]})]})})})]})},qa=[{name:`Tuition Fee`,code:`TUITION`,category:`academic`,frequency:`monthly`},{name:`Admission Fee`,code:`ADMISSION`,category:`admission`,frequency:`one-time`},{name:`Registration Fee`,code:`REG`,category:`admission`,frequency:`one-time`},{name:`Annual Fee`,code:`ANNUAL`,category:`academic`,frequency:`annual`},{name:`Exam Fee`,code:`EXAM`,category:`academic`,frequency:`term`},{name:`Lab Fee`,code:`LAB`,category:`academic`,frequency:`annual`},{name:`Library Fee`,code:`LIBRARY`,category:`academic`,frequency:`annual`},{name:`Sports Fee`,code:`SPORTS`,category:`co-curricular`,frequency:`annual`},{name:`Transport Fee`,code:`TRANSPORT`,category:`transport`,frequency:`monthly`},{name:`Computer Fee`,code:`COMPUTER`,category:`academic`,frequency:`annual`}],Ja=[{name:`Sibling Discount`,code:`SIBLING`,discountType:`percentage`,discountValue:10},{name:`Staff Child`,code:`STAFF`,discountType:`percentage`,discountValue:50},{name:`Merit Scholarship`,code:`MERIT`,discountType:`percentage`,discountValue:25},{name:`Early Bird`,code:`EARLY`,discountType:`percentage`,discountValue:5},{name:`Financial Aid`,code:`AID`,discountType:`percentage`,discountValue:100}],Ya=[{value:`academic`,label:`Academic`,color:`bg-blue-100 text-blue-700`},{value:`admission`,label:`Admission`,color:`bg-green-100 text-green-700`},{value:`transport`,label:`Transport`,color:`bg-yellow-100 text-yellow-700`},{value:`co-curricular`,label:`Co-Curricular`,color:`bg-purple-100 text-purple-700`},{value:`hostel`,label:`Hostel`,color:`bg-pink-100 text-pink-700`},{value:`other`,label:`Other`,color:`bg-gray-100 text-gray-700`}],Xa=[{value:`one-time`,label:`One-Time`},{value:`monthly`,label:`Monthly`},{value:`quarterly`,label:`Quarterly`},{value:`term`,label:`Per Term`},{value:`annual`,label:`Annual`}],Za=()=>{let{currentSession:e,sessionId:t,sessions:n}=xi(),[r,i]=(0,_.useState)(`types`),[a,o]=(0,_.useState)([]),[s,c]=(0,_.useState)([]),[l,u]=(0,_.useState)([]),[d,f]=(0,_.useState)([]),[p,m]=(0,_.useState)([]),[h,g]=(0,_.useState)(null),[v,y]=(0,_.useState)(!0),[b,x]=(0,_.useState)(!1),[S,C]=(0,_.useState)(!1),[w,T]=(0,_.useState)(!1),[E,D]=(0,_.useState)(null),[O,k]=(0,_.useState)(!1),[A,j]=(0,_.useState)(null),[M,N]=(0,_.useState)({name:``,code:``,description:``,category:`academic`,frequency:`monthly`,isMandatory:!0,isRefundable:!1,taxApplicable:!1,taxPercentage:0,lateFeeApplicable:!1,lateFeeType:`fixed`,lateFeeValue:0,isActive:!0}),[P,F]=(0,_.useState)({feeTypeId:``,classGradeId:``,amount:``,dueDay:10,isActive:!0}),[I,L]=(0,_.useState)({name:``,code:``,description:``,discountType:`percentage`,discountValue:``,maxDiscountAmount:``,eligibilityCriteria:``,requiresApproval:!1,isActive:!0});(0,_.useEffect)(()=>{t&&(g(t),R())},[t]),(0,_.useEffect)(()=>{n?.length>0&&f(n)},[n]),(0,_.useEffect)(()=>{h&&z()},[h]);let R=async()=>{y(!0);try{let[e,n,r,i]=await Promise.all([di.getTypes(),di.getDiscounts(),ci.getAll(),li.getGrades({academic_session_id:t})]);e?.success&&o(e.data||[]),n?.success&&u(n.data||[]),r?.success&&f(r.data||[]),i?.success&&m(i.data||[])}catch(e){console.error(`Error fetching data:`,e),Z.error(`Failed to load data`)}finally{y(!1)}},z=async()=>{if(h)try{let e=await di.getStructures({academic_session_id:h});e?.success&&c(e.data||[])}catch(e){console.error(`Error fetching fee structures:`,e)}},ee=d.find(e=>e.id===h),B=(e=null)=>{e?(j(e),N({name:e.name,code:e.code,description:e.description||``,category:e.category,frequency:e.frequency,isMandatory:e.isMandatory,isRefundable:e.isRefundable,taxApplicable:e.taxApplicable,taxPercentage:e.taxPercentage||0,lateFeeApplicable:e.lateFeeApplicable,lateFeeType:e.lateFeeType||`fixed`,lateFeeValue:e.lateFeeValue||0,isActive:e.isActive})):(j(null),N({name:``,code:``,description:``,category:`academic`,frequency:`monthly`,isMandatory:!0,isRefundable:!1,taxApplicable:!1,taxPercentage:0,lateFeeApplicable:!1,lateFeeType:`fixed`,lateFeeValue:0,isActive:!0})),x(!0)},V=async e=>{e.preventDefault();try{let e;e=A?await di.updateType(A.id,M):await di.createType(M),e?.success?(Z.success(A?`Fee type updated`:`Fee type created`),x(!1),R()):Z.error(e?.message||`Operation failed`)}catch{Z.error(`Failed to save fee type`)}},H=async e=>{try{let t=await di.deleteType(e);t?.success?(Z.success(`Fee type deleted`),D(null),R()):Z.error(t?.message||`Failed to delete`)}catch{Z.error(`Failed to delete fee type`)}},U=async()=>{let e=a.map(e=>e.code),t=qa.filter(t=>!e.includes(t.code));if(t.length===0){Z.info(`All common fee types already exist`);return}try{let e=await di.bulkCreateTypes(t);e?.success&&(Z.success(e.message),R())}catch{Z.error(`Failed to add fee types`)}},W=(e=null)=>{e?(j(e),F({feeTypeId:e.feeTypeId,classGradeId:e.classGradeId||``,amount:e.amount,dueDay:e.dueDay||10,isActive:e.isActive})):(j(null),F({feeTypeId:``,classGradeId:``,amount:``,dueDay:10,isActive:!0})),C(!0)},G=async e=>{if(e.preventDefault(),!h){Z.error(`Please select an academic session`);return}try{let e={...P,amount:parseFloat(P.amount),academicSessionId:h,classGradeId:P.classGradeId||null},t;t=A?await di.updateStructure(A.id,e):await di.createStructure(e),t?.success?(Z.success(A?`Fee structure updated`:`Fee structure created`),C(!1),z()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save fee structure`)}},K=async e=>{try{(await di.deleteStructure(e))?.success&&(Z.success(`Fee structure deleted`),D(null),z())}catch{Z.error(`Failed to delete fee structure`)}},te=async e=>{if(p.length===0){Z.error(`Please add classes first`);return}let t=prompt(`Enter fee amount for all classes:`);if(!t||isNaN(parseFloat(t))){Z.error(`Please enter a valid amount`);return}try{let n=await di.bulkCreateStructures({feeTypeId:e,classGradeIds:p.map(e=>e.id),academicSessionId:h,amount:parseFloat(t),dueDay:10});n?.success&&(Z.success(n.message),z())}catch{Z.error(`Failed to create fee structures`)}},ne=(e=null)=>{e?(j(e),L({name:e.name,code:e.code,description:e.description||``,discountType:e.discountType,discountValue:e.discountValue,maxDiscountAmount:e.maxDiscountAmount||``,eligibilityCriteria:e.eligibilityCriteria||``,requiresApproval:e.requiresApproval,isActive:e.isActive})):(j(null),L({name:``,code:``,description:``,discountType:`percentage`,discountValue:``,maxDiscountAmount:``,eligibilityCriteria:``,requiresApproval:!1,isActive:!0})),T(!0)},re=async e=>{e.preventDefault();try{let e={...I,discountValue:parseFloat(I.discountValue),maxDiscountAmount:I.maxDiscountAmount?parseFloat(I.maxDiscountAmount):null},t;t=A?await di.updateDiscount(A.id,e):await di.createDiscount(e),t?.success?(Z.success(A?`Discount updated`:`Discount created`),T(!1),R()):Z.error(t?.message||`Operation failed`)}catch{Z.error(`Failed to save discount`)}},ie=async e=>{try{(await di.deleteDiscount(e))?.success&&(Z.success(`Discount deleted`),D(null),R())}catch{Z.error(`Failed to delete discount`)}},ae=async()=>{let e=l.map(e=>e.code),t=Ja.filter(t=>!e.includes(t.code));if(t.length===0){Z.info(`All common discounts already exist`);return}try{let e=await di.bulkCreateDiscounts(t);e?.success&&(Z.success(e.message),R())}catch{Z.error(`Failed to add discounts`)}},oe=e=>Ya.find(t=>t.value===e)?.color||`bg-gray-100 text-gray-700`,q=a.map(e=>({...e,structures:s.filter(t=>t.feeTypeId===e.id)})),se=[{id:`types`,label:`Fee Types`,icon:Ir,count:a.length},{id:`structures`,label:`Fee Structure`,icon:ir,count:s.length},{id:`discounts`,label:`Discounts`,icon:yr,count:l.length}];return v?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:`Finance & Fee Configuration`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Configure fee types, structures, and discounts`})]}),(0,Q.jsx)(`div`,{className:`flex gap-2 border-b border-gray-200 overflow-x-auto`,children:se.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>i(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${r===e.id?`border-green-600 text-green-600`:`border-transparent text-gray-500 hover:text-gray-700`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label,(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${r===e.id?`bg-green-100 text-green-600`:`bg-gray-100 text-gray-500`}`,children:e.count})]},e.id))}),r===`types`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Fee Types`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Define types of fees collected by the school`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:U,className:`px-4 py-2 border border-green-200 text-green-600 rounded-lg hover:bg-green-50 transition-colors text-sm`,children:`Quick Add Common`}),(0,Q.jsxs)(`button`,{onClick:()=>B(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Fee Type`]})]})]}),a.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(tr,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Fee Types Yet`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Start by adding fee types or use Quick Add`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:a.map(e=>(0,Q.jsxs)(`div`,{className:`p-4 rounded-xl border-2 border-gray-200 hover:border-green-200 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center`,children:(0,Q.jsx)(tr,{className:`w-6 h-6 text-green-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.code})]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>B(e),className:`p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`feeType`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),(0,Q.jsxs)(`div`,{className:`mt-3 flex flex-wrap gap-2`,children:[(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${oe(e.category)}`,children:Ya.find(t=>t.value===e.category)?.label||e.category}),(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full`,children:Xa.find(t=>t.value===e.frequency)?.label||e.frequency}),e.isMandatory&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-red-100 text-red-600 rounded-full`,children:`Required`})]})]},e.id))})]}),r===`structures`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6 pb-4 border-b border-gray-200`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Fee Structure`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Define fee amounts per class per session`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsxs)(`button`,{onClick:()=>k(!O),className:`flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:border-green-300 transition-colors min-w-[180px]`,children:[(0,Q.jsx)(Mn,{className:`w-4 h-4 text-gray-500`}),(0,Q.jsx)(`span`,{className:`flex-1 text-left text-sm`,children:ee?.name||`Select Session`}),(0,Q.jsx)(In,{className:`w-4 h-4 text-gray-400`})]}),O&&(0,Q.jsx)(`div`,{className:`absolute top-full right-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-20`,children:d.map(e=>(0,Q.jsx)(`button`,{onClick:()=>{g(e.id),k(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 ${h===e.id?`bg-green-50 text-green-600`:``}`,children:e.name},e.id))})]}),(0,Q.jsxs)(`button`,{onClick:()=>W(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Structure`]})]})]}),ee&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg mb-6`,children:[(0,Q.jsx)(Mn,{className:`w-5 h-5 text-green-600`}),(0,Q.jsxs)(`span`,{className:`font-medium text-green-800`,children:[`Session: `,ee.name]}),(0,Q.jsxs)(`span`,{className:`text-sm text-green-600 ml-auto`,children:[s.length,` fee structures`]})]}),h?a.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(zn,{className:`w-16 h-16 text-yellow-400 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Fee Types`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Please create fee types first`})]}):(0,Q.jsx)(`div`,{className:`space-y-4`,children:q.map(e=>(0,Q.jsxs)(`div`,{className:`border-2 border-gray-200 rounded-xl overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between px-5 py-4 bg-gradient-to-r from-green-600 to-emerald-600`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center`,children:(0,Q.jsx)(tr,{className:`w-5 h-5 text-white`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-bold text-white`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-sm text-green-100`,children:[e.structures.length,` class structures`]})]})]}),(0,Q.jsx)(`button`,{onClick:()=>te(e.id),className:`text-sm bg-white/20 hover:bg-white/30 text-white font-medium px-4 py-2 rounded-lg transition-colors`,children:`+ Add for All Classes`})]}),e.structures.length>0?(0,Q.jsx)(`div`,{className:`p-4 bg-gray-50 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3`,children:e.structures.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.classDisplayName||`All Classes`}),(0,Q.jsxs)(`p`,{className:`text-lg font-bold text-green-600`,children:[``,e.amount.toLocaleString()]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>W(e),className:`p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`structure`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]},e.id))}):(0,Q.jsx)(`div`,{className:`p-6 bg-gray-50 text-center text-gray-500 text-sm`,children:`No fee structures defined for this fee type`})]},e.id))}):(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 text-yellow-400 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`Select Academic Session`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`Please select a session to configure fee structures`})]})]}),r===`discounts`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Discount Types`}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Define discounts and concessions`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:ae,className:`px-4 py-2 border border-purple-200 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors text-sm`,children:`Quick Add Common`}),(0,Q.jsxs)(`button`,{onClick:()=>ne(),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Discount`]})]})]}),l.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(yr,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Discounts Yet`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Add discount types or use Quick Add`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:l.map(e=>(0,Q.jsxs)(`div`,{className:`p-4 rounded-xl border-2 border-gray-200 hover:border-purple-200 transition-all`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center`,children:(0,Q.jsx)(yr,{className:`w-6 h-6 text-purple-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.code})]})]}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>ne(e),className:`p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>D({type:`discount`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),(0,Q.jsxs)(`div`,{className:`mt-3`,children:[(0,Q.jsx)(`p`,{className:`text-2xl font-bold text-purple-600`,children:e.discountType===`percentage`?`${e.discountValue}%`:`${e.discountValue}`}),e.description&&(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:e.description})]}),(0,Q.jsxs)(`div`,{className:`mt-3 flex flex-wrap gap-2`,children:[(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs rounded-full ${e.discountType===`percentage`?`bg-blue-100 text-blue-700`:`bg-green-100 text-green-700`}`,children:e.discountType===`percentage`?`Percentage`:`Fixed Amount`}),e.requiresApproval&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full`,children:`Needs Approval`})]})]},e.id))})]}),b&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200 sticky top-0 bg-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:A?`Edit Fee Type`:`Add Fee Type`}),(0,Q.jsx)(`button`,{onClick:()=>x(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:V,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:M.name,onChange:e=>N({...M,name:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Code *`}),(0,Q.jsx)(`input`,{type:`text`,value:M.code,onChange:e=>N({...M,code:e.target.value.toUpperCase()}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Category`}),(0,Q.jsx)(`select`,{value:M.category,onChange:e=>N({...M,category:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,children:Ya.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Frequency`}),(0,Q.jsx)(`select`,{value:M.frequency,onChange:e=>N({...M,frequency:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,children:Xa.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:M.description,onChange:e=>N({...M,description:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none`})]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:M.isMandatory,onChange:e=>N({...M,isMandatory:e.target.checked}),className:`w-4 h-4 text-green-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Mandatory`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:M.isRefundable,onChange:e=>N({...M,isRefundable:e.target.checked}),className:`w-4 h-4 text-green-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Refundable`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:M.lateFeeApplicable,onChange:e=>N({...M,lateFeeApplicable:e.target.checked}),className:`w-4 h-4 text-green-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Late Fee`})]})]}),M.lateFeeApplicable&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 p-3 bg-yellow-50 rounded-lg`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Late Fee Type`}),(0,Q.jsxs)(`select`,{value:M.lateFeeType,onChange:e=>N({...M,lateFeeType:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg`,children:[(0,Q.jsx)(`option`,{value:`fixed`,children:`Fixed Amount`}),(0,Q.jsx)(`option`,{value:`percentage`,children:`Percentage`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:[`Late Fee Value `,M.lateFeeType===`percentage`?`(%)`:`()`]}),(0,Q.jsx)(`input`,{type:`number`,value:M.lateFeeValue,onChange:e=>N({...M,lateFeeValue:parseFloat(e.target.value)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>x(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700`,children:A?`Update`:`Create`})]})]})]})}),S&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:A?`Edit Fee Structure`:`Add Fee Structure`}),(0,Q.jsx)(`button`,{onClick:()=>C(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:G,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Fee Type *`}),(0,Q.jsxs)(`select`,{value:P.feeTypeId,onChange:e=>F({...P,feeTypeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,required:!0,disabled:!!A,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Fee Type`}),a.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class (optional)`}),(0,Q.jsxs)(`select`,{value:P.classGradeId,onChange:e=>F({...P,classGradeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,disabled:!!A,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),p.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.displayName},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Amount () *`}),(0,Q.jsx)(`input`,{type:`number`,value:P.amount,onChange:e=>F({...P,amount:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Due Day`}),(0,Q.jsx)(`input`,{type:`number`,value:P.dueDay,onChange:e=>F({...P,dueDay:parseInt(e.target.value)}),min:`1`,max:`28`,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>C(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700`,children:A?`Update`:`Create`})]})]})]})}),w&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:A?`Edit Discount`:`Add Discount`}),(0,Q.jsx)(`button`,{onClick:()=>T(!1),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5 text-gray-500`})})]})}),(0,Q.jsxs)(`form`,{onSubmit:re,className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:I.name,onChange:e=>L({...I,name:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Code *`}),(0,Q.jsx)(`input`,{type:`text`,value:I.code,onChange:e=>L({...I,code:e.target.value.toUpperCase()}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Type`}),(0,Q.jsxs)(`select`,{value:I.discountType,onChange:e=>L({...I,discountType:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[(0,Q.jsx)(`option`,{value:`percentage`,children:`Percentage (%)`}),(0,Q.jsx)(`option`,{value:`fixed`,children:`Fixed Amount ()`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Value *`}),(0,Q.jsx)(`input`,{type:`number`,value:I.discountValue,onChange:e=>L({...I,discountValue:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500`,required:!0})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:I.description,onChange:e=>L({...I,description:e.target.value}),rows:2,className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:I.requiresApproval,onChange:e=>L({...I,requiresApproval:e.target.checked}),className:`w-4 h-4 text-purple-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Requires Approval`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4 border-t border-gray-200`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>T(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700`,children:A?`Update`:`Create`})]})]})]})}),E&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-8 h-8 text-red-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Confirm Delete`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`Are you sure you want to delete this item?`}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>D(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>{E.type===`feeType`?H(E.item.id):E.type===`structure`?K(E.item.id):E.type===`discount`&&ie(E.item.id)},className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700`,children:`Delete`})]})]})})})]})},Qa=[{value:`admin`,label:`Administration`},{value:`accounts`,label:`Accounts`},{value:`hr`,label:`Human Resources`},{value:`it`,label:`IT Support`},{value:`security`,label:`Security`},{value:`housekeeping`,label:`Housekeeping`},{value:`transport`,label:`Transport`},{value:`library`,label:`Library`},{value:`lab`,label:`Lab Assistant`},{value:`other`,label:`Other`}],$a=()=>{let[e,t]=(0,_.useState)(`staff`),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(!0),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(null),[m,h]=(0,_.useState)(null),[g,v]=(0,_.useState)(``),[y,b]=(0,_.useState)({name:``,code:``,description:``,isActive:!0}),[x,S]=(0,_.useState)({firstName:``,lastName:``,email:``,phone:``,employeeId:``,department:``,designation:``,joiningDate:``,status:`active`});(0,_.useEffect)(()=>{C()},[]);let C=async()=>{s(!0);try{let[e,t]=await Promise.all([fi.getRoles(),fi.getStaff()]);e?.success&&r(e.data||[]),t?.success&&a(t.data||[])}catch(e){console.error(`Error fetching data:`,e),Z.error(`Failed to load data`)}finally{s(!1)}},w=(e=null)=>{e?(h(e),b({name:e.name||``,code:e.code||``,description:e.description||``,isActive:e.isActive!==!1})):(h(null),b({name:``,code:``,description:``,isActive:!0})),l(!0)},T=async e=>{e.preventDefault();try{let e;e=m?await fi.updateRole(m.id,y):await fi.createRole(y),e?.success?(Z.success(m?`Role updated`:`Role created`),l(!1),C()):Z.error(e?.message||`Operation failed`)}catch{Z.error(`Failed to save role`)}},E=async e=>{try{(await fi.deleteRole(e))?.success&&(Z.success(`Role deleted`),p(null),C())}catch{Z.error(`Failed to delete role`)}},D=(e=null)=>{e?(h(e),S({firstName:e.firstName||``,lastName:e.lastName||``,email:e.email||``,phone:e.phone||``,employeeId:e.employeeId||``,department:e.department||``,designation:e.designation||``,joiningDate:e.joiningDate?.split(`T`)[0]||``,status:e.status||`active`})):(h(null),S({firstName:``,lastName:``,email:``,phone:``,employeeId:``,department:``,designation:``,joiningDate:``,status:`active`})),d(!0)},O=async e=>{e.preventDefault();try{let e;e=m?await fi.updateStaff(m.id,x):await fi.createStaff(x),e?.success?(Z.success(m?`Staff updated`:`Staff member added`),d(!1),C()):Z.error(e?.message||`Operation failed`)}catch{Z.error(`Failed to save staff member`)}},k=async e=>{try{(await fi.deleteStaff(e))?.success&&(Z.success(`Staff member deleted`),p(null),C())}catch{Z.error(`Failed to delete staff member`)}},A=i.filter(e=>`${e.firstName} ${e.lastName||``}`.toLowerCase().includes(g.toLowerCase())||e.email?.toLowerCase().includes(g.toLowerCase())||e.employeeId?.toLowerCase().includes(g.toLowerCase()));return o?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h2`,{className:`text-2xl font-semibold text-gray-800`,children:`Staff & Users Configuration`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage non-teaching staff and user roles`})]}),(0,Q.jsx)(`div`,{className:`border-b border-gray-200`,children:(0,Q.jsxs)(`nav`,{className:`flex gap-4`,children:[(0,Q.jsxs)(`button`,{onClick:()=>t(`staff`),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===`staff`?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700`}`,children:[(0,Q.jsx)(Dn,{className:`w-4 h-4 inline-block mr-2`}),`Staff Members`]}),(0,Q.jsxs)(`button`,{onClick:()=>t(`roles`),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===`roles`?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700`}`,children:[(0,Q.jsx)(kr,{className:`w-4 h-4 inline-block mr-2`}),`User Roles`]})]})}),e===`staff`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search staff...`,value:g,onChange:e=>v(e.target.value),className:`pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-72`})]}),(0,Q.jsxs)(`button`,{onClick:()=>D(),className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(Gr,{className:`w-4 h-4`}),`Add Staff`]})]}),A.length===0?(0,Q.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,Q.jsx)(Jr,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-lg font-medium text-gray-800 mb-2`,children:`No Staff Members`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-4`,children:`Add your first staff member to get started`}),(0,Q.jsxs)(`button`,{onClick:()=>D(),className:`inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Staff`]})]}):(0,Q.jsx)(`div`,{className:`card overflow-hidden`,children:(0,Q.jsxs)(`table`,{className:`w-full`,children:[(0,Q.jsx)(`thead`,{className:`bg-gray-50`,children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{className:`text-left py-3 px-4 text-sm font-semibold text-gray-600`,children:`Staff Member`}),(0,Q.jsx)(`th`,{className:`text-left py-3 px-4 text-sm font-semibold text-gray-600`,children:`Department`}),(0,Q.jsx)(`th`,{className:`text-left py-3 px-4 text-sm font-semibold text-gray-600`,children:`Contact`}),(0,Q.jsx)(`th`,{className:`text-left py-3 px-4 text-sm font-semibold text-gray-600`,children:`Status`}),(0,Q.jsx)(`th`,{className:`text-right py-3 px-4 text-sm font-semibold text-gray-600`,children:`Actions`})]})}),(0,Q.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:A.map(e=>(0,Q.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,Q.jsx)(`td`,{className:`py-3 px-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsxs)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-semibold text-sm`,children:[e.firstName?.[0],e.lastName?.[0]||``]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`p`,{className:`font-medium text-gray-800`,children:[e.firstName,` `,e.lastName]}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.employeeId||`No ID`})]})]})}),(0,Q.jsxs)(`td`,{className:`py-3 px-4`,children:[(0,Q.jsx)(`p`,{className:`text-gray-800`,children:e.department||`-`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.designation||``})]}),(0,Q.jsx)(`td`,{className:`py-3 px-4`,children:(0,Q.jsxs)(`div`,{className:`space-y-1`,children:[e.phone&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 text-sm text-gray-600`,children:[(0,Q.jsx)(br,{className:`w-3 h-3`}),` `,e.phone]}),e.email&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 text-sm text-gray-600`,children:[(0,Q.jsx)(fr,{className:`w-3 h-3`}),` `,e.email]})]})}),(0,Q.jsx)(`td`,{className:`py-3 px-4`,children:(0,Q.jsx)(`span`,{className:`px-2 py-1 text-xs rounded-full ${e.status===`active`?`bg-green-100 text-green-700`:`bg-gray-100 text-gray-700`}`,children:e.status||`active`})}),(0,Q.jsxs)(`td`,{className:`py-3 px-4 text-right`,children:[(0,Q.jsx)(`button`,{onClick:()=>D(e),className:`p-1.5 text-gray-400 hover:text-blue-600 rounded`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>p({type:`staff`,item:e}),className:`p-1.5 text-gray-400 hover:text-red-600 rounded`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]},e.id))})]})})]}),e===`roles`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`flex justify-end`,children:(0,Q.jsxs)(`button`,{onClick:()=>w(),className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),`Add Role`]})}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:n.filter(e=>e.code!==`TEACHER`&&e.code!==`PARENT`).map(e=>(0,Q.jsxs)(`div`,{className:`card border hover:shadow-lg transition-shadow`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center`,children:(0,Q.jsx)(kr,{className:`w-5 h-5 text-blue-600`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{className:`font-semibold text-gray-800`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:e.code})]})]}),e.isSystem?(0,Q.jsx)(`span`,{className:`text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded`,children:`System`}):(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>w(e),className:`p-1 text-gray-400 hover:text-blue-600`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>p({type:`role`,item:e}),className:`p-1 text-gray-400 hover:text-red-600`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:e.description||`No description`}),(0,Q.jsx)(`div`,{className:`mt-3 pt-3 border-t border-gray-100 flex items-center justify-between`,children:(0,Q.jsxs)(`span`,{className:`flex items-center gap-1 text-xs ${e.isActive?`text-green-600`:`text-gray-400`}`,children:[(0,Q.jsx)(Bn,{className:`w-3 h-3`}),e.isActive?`Active`:`Inactive`]})})]},e.id))})]}),u&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl w-full max-w-md`,children:[(0,Q.jsxs)(`div`,{className:`p-4 border-b border-gray-200 flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:m?`Edit Staff`:`Add Staff Member`}),(0,Q.jsx)(`button`,{onClick:()=>d(!1),className:`p-1 hover:bg-gray-100 rounded`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`form`,{onSubmit:O,className:`p-4 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`First Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:x.firstName,required:!0,onChange:e=>S({...x,firstName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Last Name`}),(0,Q.jsx)(`input`,{type:`text`,value:x.lastName,onChange:e=>S({...x,lastName:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Employee ID`}),(0,Q.jsx)(`input`,{type:`text`,value:x.employeeId,onChange:e=>S({...x,employeeId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Email`}),(0,Q.jsx)(`input`,{type:`email`,value:x.email,onChange:e=>S({...x,email:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Phone`}),(0,Q.jsx)(`input`,{type:`tel`,value:x.phone,onChange:e=>S({...x,phone:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Department`}),(0,Q.jsxs)(`select`,{value:x.department,onChange:e=>S({...x,department:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select`}),Qa.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Designation`}),(0,Q.jsx)(`input`,{type:`text`,value:x.designation,onChange:e=>S({...x,designation:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Joining Date`}),(0,Q.jsx)(`input`,{type:`date`,value:x.joiningDate,onChange:e=>S({...x,joiningDate:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Status`}),(0,Q.jsxs)(`select`,{value:x.status,onChange:e=>S({...x,status:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:`active`,children:`Active`}),(0,Q.jsx)(`option`,{value:`inactive`,children:`Inactive`}),(0,Q.jsx)(`option`,{value:`on_leave`,children:`On Leave`})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>d(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:m?`Update`:`Add Staff`})]})]})]})}),c&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl w-full max-w-md`,children:[(0,Q.jsxs)(`div`,{className:`p-4 border-b border-gray-200 flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:m?`Edit Role`:`Add User Role`}),(0,Q.jsx)(`button`,{onClick:()=>l(!1),className:`p-1 hover:bg-gray-100 rounded`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`form`,{onSubmit:T,className:`p-4 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Role Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:y.name,required:!0,onChange:e=>b({...y,name:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Role Code *`}),(0,Q.jsx)(`input`,{type:`text`,value:y.code,required:!0,onChange:e=>b({...y,code:e.target.value.toUpperCase().replace(/\s/g,`_`)}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:y.description,rows:2,onChange:e=>b({...y,description:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:y.isActive,onChange:e=>b({...y,isActive:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Active`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 pt-4`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>l(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:m?`Update`:`Add Role`})]})]})]})}),f&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-xl w-full max-w-sm p-6 text-center`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-6 h-6 text-red-600`})}),(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-2`,children:[`Delete `,f.type===`staff`?`Staff Member`:`Role`,`?`]}),(0,Q.jsxs)(`p`,{className:`text-gray-600 mb-6`,children:[`Are you sure you want to delete "`,f.item.name||f.item.firstName,`"?`]}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>p(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>f.type===`staff`?k(f.item.id):E(f.item.id),className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700`,children:`Delete`})]})]})})]})},eo={overloaded:{label:`Overloaded`,color:`bg-red-100 text-red-700`,icon:zn},heavy:{label:`Heavy`,color:`bg-amber-100 text-amber-700`,icon:Vr},moderate:{label:`Moderate`,color:`bg-blue-100 text-blue-700`,icon:Un},light:{label:`Light`,color:`bg-green-100 text-green-700`,icon:Bn},unassigned:{label:`Unassigned`,color:`bg-gray-100 text-gray-500`,icon:Vn}},to=[{id:`overview`,label:`Overview`,icon:Nn},{id:`by-teacher`,label:`By Teacher`,icon:Jr},{id:`by-subject`,label:`By Subject`,icon:En},{id:`by-class`,label:`By Class`,icon:kn},{id:`vacant`,label:`Vacant Positions`,icon:Lr}],no=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)({totalVacant:0,positions:[]}),[u,d]=(0,_.useState)(null),[f,p]=(0,_.useState)([]),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)([]),[y,b]=(0,_.useState)([]),[x,S]=(0,_.useState)(null),[C,w]=(0,_.useState)(!0),[T,E]=(0,_.useState)(`overview`),[D,O]=(0,_.useState)(!1),[k,A]=(0,_.useState)(null),[j,M]=(0,_.useState)(!1),[N,P]=(0,_.useState)(!1),[F,I]=(0,_.useState)(null),[L,R]=(0,_.useState)(null),[z,ee]=(0,_.useState)(``),[B,V]=(0,_.useState)(null),[H,U]=(0,_.useState)({teacherId:``,subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:0}),[W,G]=(0,_.useState)({teacherId:``,assignments:[]}),[K,te]=(0,_.useState)({teacherId:``,subjectId:``,classSectionIds:[],isPrimary:!1,periodsPerWeek:0}),[ne,re]=(0,_.useState)({fromTeacherId:``,toTeacherId:``,transferAll:!0,assignmentIds:[]}),[ie,ae]=(0,_.useState)({fromSessionId:``,toSessionId:``,teacherIds:[]});(0,_.useEffect)(()=>{oe()},[]),(0,_.useEffect)(()=>{x&&q()},[x]);let oe=async()=>{w(!0);try{let[e,t,n,r]=await Promise.all([ci.getAll(),ci.getCurrent(),ai.getAll(),ui.getAll()]);e?.success&&b(e.data||[]),t?.success&&S(t.data),n?.success&&p(n.data||[]),r?.success&&h(r.data||[])}catch(e){console.error(`Error:`,e),Z.error(`Failed to load initial data`)}finally{w(!1)}},q=async()=>{if(x?.id){w(!0);try{let e=x.id,[n,i,o,c,u,f,p]=await Promise.all([oi.getAll({academic_session_id:e}),oi.getByTeacher({academic_session_id:e}),oi.getBySubject({academic_session_id:e}),oi.getByClass({academic_session_id:e}),oi.getVacant({academic_session_id:e}),oi.getWorkload({academic_session_id:e}),li.getClassSections({academic_session_id:e})]);n?.success&&t(n.data||[]),i?.success&&r(i.data||[]),o?.success&&a(o.data||[]),c?.success&&s(c.data||[]),u?.success&&l(u.data||{totalVacant:0,positions:[]}),f?.success&&d(f.data),p?.success&&v(p.data||[])}catch(e){console.error(`Error:`,e)}finally{w(!1)}}},se=async()=>{if(!H.teacherId||!H.subjectId){Z.error(`Select teacher and subject first`);return}try{let e=await oi.checkConflicts({...H,academicSessionId:x?.id});e?.success&&(R(e.data),e.data.hasConflicts?Z.error(`Conflicts detected`):e.data.hasWarnings?Z.warning(`Warnings detected - you can still proceed`):Z.success(`No conflicts found`))}catch{Z.error(`Failed to check conflicts`)}},ce=async()=>{if(!H.teacherId||!H.subjectId){Z.error(`Teacher and Subject are required`);return}try{let e=await oi.assign({...H,academicSessionId:x?.id});e?.success?(Z.success(`Subject assigned`),O(!1),U({teacherId:``,subjectId:``,classSectionId:``,isPrimary:!1,periodsPerWeek:0}),R(null),q()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed to assign`)}},le=async()=>{if(!W.teacherId||W.assignments.length===0){Z.error(`Select teacher and at least one subject`);return}try{let e=await oi.bulkAssignToTeacher({teacherId:W.teacherId,assignments:W.assignments,academicSessionId:x?.id});e?.success?(Z.success(e.message),A(null),G({teacherId:``,assignments:[]}),q()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed`)}},ue=async()=>{if(!K.teacherId||!K.subjectId||K.classSectionIds.length===0){Z.error(`All fields required`);return}try{let e=await oi.bulkAssignToClasses({...K,academicSessionId:x?.id});e?.success?(Z.success(e.message),A(null),te({teacherId:``,subjectId:``,classSectionIds:[],isPrimary:!1,periodsPerWeek:0}),q()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed`)}},de=async()=>{if(!ne.fromTeacherId||!ne.toTeacherId){Z.error(`Select both teachers`);return}try{let e=await oi.transfer({...ne,academicSessionId:x?.id});e?.success?(Z.success(e.message),M(!1),re({fromTeacherId:``,toTeacherId:``,transferAll:!0,assignmentIds:[]}),q()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed`)}},fe=async()=>{if(!ie.fromSessionId||!ie.toSessionId){Z.error(`Select both sessions`);return}try{let e=await oi.copyToSession(ie);e?.success?(Z.success(e.message),P(!1),ae({fromSessionId:``,toSessionId:``,teacherIds:[]}),q()):Z.error(e?.message||`Failed`)}catch{Z.error(`Failed`)}},pe=async e=>{try{(await oi.delete(e))?.success&&(Z.success(`Assignment deleted`),I(null),q())}catch{Z.error(`Failed to delete`)}},me=e=>{U({teacherId:``,subjectId:e.subjectId,classSectionId:e.classSectionId||``,isPrimary:!0,periodsPerWeek:0}),O(!0)},he=(e,t)=>{G(n=>n.assignments.find(n=>n.subjectId===e&&n.classSectionId===t)?{...n,assignments:n.assignments.filter(n=>!(n.subjectId===e&&n.classSectionId===t))}:{...n,assignments:[...n.assignments,{subjectId:e,classSectionId:t,isPrimary:!1,periodsPerWeek:0}]})},J=e=>{te(t=>t.classSectionIds.includes(e)?{...t,classSectionIds:t.classSectionIds.filter(t=>t!==e)}:{...t,classSectionIds:[...t.classSectionIds,e]})};return C&&!x?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,Q.jsx)(cr,{className:`w-8 h-8 animate-spin text-blue-600`})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:`Subject Assignment`}),(0,Q.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Manage teacher-subject-class assignments with conflict detection`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`select`,{value:x?.id||``,onChange:e=>{let t=y.find(t=>t.id===e.target.value);S(t)},className:`px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:y.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))}),(0,Q.jsxs)(`button`,{onClick:()=>P(!0),className:`flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50`,children:[(0,Q.jsx)(Gn,{className:`w-4 h-4`}),` Copy from Session`]}),(0,Q.jsxs)(`button`,{onClick:()=>M(!0),className:`flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50`,children:[(0,Q.jsx)(Sn,{className:`w-4 h-4`}),` Transfer`]}),(0,Q.jsxs)(`button`,{onClick:()=>O(!0),className:`flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/25`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),` Assign Subject`]})]})]}),u&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 md:grid-cols-5 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-blue-100 text-sm`,children:`Total Assignments`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:e.length})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-green-100 text-sm`,children:`Teachers Assigned`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:u.summary.totalTeachers-u.summary.unassignedCount})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-red-100 text-sm`,children:`Overloaded`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:u.summary.overloadedCount})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-amber-100 text-sm`,children:`Vacant Positions`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:c.totalVacant})]}),(0,Q.jsxs)(`div`,{className:`bg-gradient-to-br from-slate-600 to-slate-700 rounded-xl p-4 text-white`,children:[(0,Q.jsx)(`p`,{className:`text-slate-300 text-sm`,children:`Avg Periods/Teacher`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:u.summary.averagePeriods})]})]}),(0,Q.jsx)(`div`,{className:`border-b border-gray-200`,children:(0,Q.jsx)(`nav`,{className:`flex gap-1 overflow-x-auto`,children:to.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>E(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${T===e.id?`border-blue-600 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),` `,e.label,e.id===`vacant`&&c.totalVacant>0&&(0,Q.jsx)(`span`,{className:`px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full`,children:c.totalVacant})]},e.id))})}),T===`overview`&&u&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Teacher Workload Distribution`}),(0,Q.jsx)(`div`,{className:`space-y-3`,children:u.allTeachers.slice(0,10).map(e=>{let t=eo[e.status],n=Math.min(e.totalPeriods/35*100,100);return(0,Q.jsxs)(`div`,{className:`space-y-1`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between text-sm`,children:[(0,Q.jsx)(`span`,{className:`font-medium text-gray-700`,children:e.teacherName}),(0,Q.jsxs)(`span`,{className:`px-2 py-0.5 rounded-full text-xs ${t.color}`,children:[e.totalPeriods,` periods`]})]}),(0,Q.jsx)(`div`,{className:`h-2 bg-gray-100 rounded-full overflow-hidden`,children:(0,Q.jsx)(`div`,{className:`h-full rounded-full transition-all ${e.status===`overloaded`?`bg-red-500`:e.status===`heavy`?`bg-amber-500`:e.status===`moderate`?`bg-blue-500`:`bg-green-500`}`,style:{width:`${n}%`}})})]},e.teacherId)})})]}),(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Quick Actions`}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,Q.jsxs)(`button`,{onClick:()=>A(`teacher`),className:`p-4 border border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 text-left transition-colors`,children:[(0,Q.jsx)(Jr,{className:`w-6 h-6 text-blue-600 mb-2`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Bulk Assign to Teacher`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Assign multiple subjects to one teacher`})]}),(0,Q.jsxs)(`button`,{onClick:()=>A(`classes`),className:`p-4 border border-gray-200 rounded-xl hover:border-green-300 hover:bg-green-50/50 text-left transition-colors`,children:[(0,Q.jsx)(kn,{className:`w-6 h-6 text-green-600 mb-2`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Bulk Assign to Classes`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Assign one subject to multiple classes`})]}),(0,Q.jsxs)(`button`,{onClick:()=>M(!0),className:`p-4 border border-gray-200 rounded-xl hover:border-amber-300 hover:bg-amber-50/50 text-left transition-colors`,children:[(0,Q.jsx)(Sn,{className:`w-6 h-6 text-amber-600 mb-2`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Transfer Assignments`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Move assignments between teachers`})]}),(0,Q.jsxs)(`button`,{onClick:()=>P(!0),className:`p-4 border border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 text-left transition-colors`,children:[(0,Q.jsx)(Gn,{className:`w-6 h-6 text-purple-600 mb-2`}),(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:`Copy to New Session`}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500`,children:`Copy assignments to another session`})]})]}),u.overloadedTeachers.length>0&&(0,Q.jsxs)(`div`,{className:`mt-4 p-3 bg-red-50 border border-red-200 rounded-lg`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-red-700 font-medium mb-2`,children:[(0,Q.jsx)(zn,{className:`w-4 h-4`}),` Overloaded Teachers`]}),(0,Q.jsx)(`div`,{className:`space-y-1`,children:u.overloadedTeachers.map(e=>(0,Q.jsxs)(`p`,{className:`text-sm text-red-600`,children:[e.name,` - `,e.periods,` periods/week`]},e.id))})]}),u.unassignedTeachers.length>0&&(0,Q.jsxs)(`div`,{className:`mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-amber-700 font-medium mb-2`,children:[(0,Q.jsx)(Vr,{className:`w-4 h-4`}),` Unassigned Teachers`]}),(0,Q.jsx)(`div`,{className:`space-y-1`,children:u.unassignedTeachers.slice(0,5).map(e=>(0,Q.jsxs)(`p`,{className:`text-sm text-amber-600`,children:[e.name,` (`,e.department||`No dept`,`)`]},e.id))})]})]})]}),T===`by-teacher`&&(0,Q.jsxs)(`div`,{className:`card`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,Q.jsxs)(`div`,{className:`relative flex-1`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search teachers...`,value:z,onChange:e=>ee(e.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsx)(`button`,{onClick:q,className:`p-2 text-gray-400 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]}),(0,Q.jsx)(`div`,{className:`space-y-3`,children:n.filter(e=>e.teacherName.toLowerCase().includes(z.toLowerCase())).map(e=>{let t=eo[e.workloadStatus],n=B===e.teacherId;return(0,Q.jsxs)(`div`,{className:`border border-gray-200 rounded-xl overflow-hidden`,children:[(0,Q.jsxs)(`button`,{onClick:()=>V(n?null:e.teacherId),className:`w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors text-left`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-semibold text-sm`,children:e.teacherName?.split(` `).map(e=>e[0]).join(``)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.teacherName}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.department||`No dept`,`  `,e.employeeId||`No ID`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`text-right`,children:[(0,Q.jsxs)(`p`,{className:`font-semibold text-gray-800`,children:[e.totalSubjects,` subjects`]}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.totalPeriods,` periods/week`]})]}),(0,Q.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs ${t.color}`,children:t.label}),(0,Q.jsx)(Rn,{className:`w-5 h-5 text-gray-400 transition-transform ${n?`rotate-90`:``}`})]})]}),n&&e.assignments.length>0&&(0,Q.jsx)(`div`,{className:`border-t border-gray-100 bg-gray-50 p-4`,children:(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2`,children:e.assignments.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 text-sm`,children:e.subjectName}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.classSection,`  `,e.periodsPerWeek,`p/w`]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[e.isPrimary&&(0,Q.jsx)(`span`,{className:`px-1.5 py-0.5 text-xs bg-green-100 text-green-700 rounded`,children:`Primary`}),(0,Q.jsx)(`button`,{onClick:()=>I(e),className:`p-1 text-gray-400 hover:text-red-600 rounded`,children:(0,Q.jsx)(zr,{className:`w-3.5 h-3.5`})})]})]},e.id))})})]},e.teacherId)})})]}),T===`by-subject`&&(0,Q.jsx)(`div`,{className:`card`,children:(0,Q.jsx)(`div`,{className:`space-y-3`,children:i.filter(e=>e.subjectName.toLowerCase().includes(z.toLowerCase())).map(e=>{let t=B===e.subjectId;return(0,Q.jsxs)(`div`,{className:`border border-gray-200 rounded-xl overflow-hidden`,children:[(0,Q.jsxs)(`button`,{onClick:()=>V(t?null:e.subjectId),className:`w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors text-left`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-semibold`,children:(0,Q.jsx)(En,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.subjectName}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.subjectCode,`  `,e.category||`General`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`text-right`,children:[(0,Q.jsxs)(`p`,{className:`font-semibold text-gray-800`,children:[e.totalTeachers,` teachers`]}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.totalAssignments,` assignments`]})]}),e.hasPrimaryTeacher&&(0,Q.jsx)(`span`,{className:`px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full`,children:`Has Primary`}),(0,Q.jsx)(Rn,{className:`w-5 h-5 text-gray-400 transition-transform ${t?`rotate-90`:``}`})]})]}),t&&e.assignments.length>0&&(0,Q.jsx)(`div`,{className:`border-t border-gray-100 bg-gray-50 p-4`,children:(0,Q.jsx)(`div`,{className:`space-y-2`,children:e.assignments.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`font-medium text-gray-800 text-sm`,children:e.teacherName}),(0,Q.jsxs)(`span`,{className:`text-xs text-gray-500`,children:[` `,e.classSection]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsxs)(`span`,{className:`text-xs text-gray-500`,children:[e.periodsPerWeek,`p/w`]}),e.isPrimary&&(0,Q.jsx)(`span`,{className:`px-1.5 py-0.5 text-xs bg-green-100 text-green-700 rounded`,children:`Primary`})]})]},e.id))})})]},e.subjectId)})})}),T===`by-class`&&(0,Q.jsx)(`div`,{className:`card`,children:(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:o.map(e=>(0,Q.jsxs)(`div`,{className:`border border-gray-200 rounded-xl p-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-semibold text-gray-800`,children:e.displayName}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.totalSubjects,` subjects  `,e.totalTeachers,` teachers`]})]}),(0,Q.jsxs)(`span`,{className:`px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full`,children:[e.totalPeriods,` periods`]})]}),e.assignments.length>0&&(0,Q.jsxs)(`div`,{className:`space-y-1`,children:[e.assignments.slice(0,5).map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between text-sm`,children:[(0,Q.jsx)(`span`,{className:`text-gray-700`,children:e.subjectName}),(0,Q.jsx)(`span`,{className:`text-gray-500 text-xs`,children:e.teacherName})]},e.id)),e.assignments.length>5&&(0,Q.jsxs)(`p`,{className:`text-xs text-blue-600`,children:[`+`,e.assignments.length-5,` more`]})]})]},e.classSectionId))})}),T===`vacant`&&(0,Q.jsx)(`div`,{className:`card`,children:c.totalVacant===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(Bn,{className:`w-16 h-16 text-green-500 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-medium text-gray-800`,children:`All Positions Filled!`}),(0,Q.jsx)(`p`,{className:`text-gray-600`,children:`All subjects have been assigned teachers`})]}):(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`div`,{className:`flex items-center justify-between mb-4`,children:(0,Q.jsxs)(`p`,{className:`text-gray-600`,children:[c.totalVacant,` vacant positions need teachers`]})}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:c.positions.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between p-3 border border-red-200 bg-red-50 rounded-xl`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.subjectName}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-600`,children:e.classSection})]}),(0,Q.jsx)(`button`,{onClick:()=>me(e),className:`px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:`Assign`})]},t))})]})}),D&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Assign Subject to Teacher`}),(0,Q.jsx)(`button`,{onClick:()=>{O(!1),R(null)},className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Teacher *`}),(0,Q.jsxs)(`select`,{value:H.teacherId,onChange:e=>U({...H,teacherId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),f.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.fullName,` (`,e.department||`N/A`,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Subject *`}),(0,Q.jsxs)(`select`,{value:H.subjectId,onChange:e=>U({...H,subjectId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),m.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.code,`)`]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Class-Section (optional)`}),(0,Q.jsxs)(`select`,{value:H.classSectionId,onChange:e=>U({...H,classSectionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),g.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Periods/Week`}),(0,Q.jsx)(`input`,{type:`number`,min:`0`,max:`20`,value:H.periodsPerWeek,onChange:e=>U({...H,periodsPerWeek:parseInt(e.target.value)||0}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,Q.jsx)(`div`,{className:`flex items-center`,children:(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:H.isPrimary,onChange:e=>U({...H,isPrimary:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Primary Teacher`})]})})]}),(0,Q.jsx)(`button`,{type:`button`,onClick:se,className:`w-full py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50`,children:`Check for Conflicts`}),L&&(0,Q.jsxs)(`div`,{className:`p-3 rounded-lg ${L.hasConflicts?`bg-red-50 border border-red-200`:L.hasWarnings?`bg-amber-50 border border-amber-200`:`bg-green-50 border border-green-200`}`,children:[L.conflicts.map((e,t)=>(0,Q.jsxs)(`p`,{className:`text-sm text-red-600 flex items-center gap-2`,children:[(0,Q.jsx)(Vn,{className:`w-4 h-4`}),` `,e.message]},t)),L.warnings.map((e,t)=>(0,Q.jsxs)(`p`,{className:`text-sm text-amber-600 flex items-center gap-2`,children:[(0,Q.jsx)(Vr,{className:`w-4 h-4`}),` `,e.message]},t)),!L.hasConflicts&&!L.hasWarnings&&(0,Q.jsxs)(`p`,{className:`text-sm text-green-600 flex items-center gap-2`,children:[(0,Q.jsx)(Bn,{className:`w-4 h-4`}),` No conflicts detected`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>{O(!1),R(null)},className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:ce,disabled:L?.hasConflicts,className:`px-4 py-2 text-white rounded-lg ${L?.hasConflicts?`bg-gray-400 cursor-not-allowed`:`bg-blue-600 hover:bg-blue-700`}`,children:`Assign`})]})]})}),k===`teacher`&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Bulk Assign Subjects to Teacher`}),(0,Q.jsx)(`button`,{onClick:()=>A(null),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6`,children:[(0,Q.jsxs)(`div`,{className:`mb-4`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Select Teacher *`}),(0,Q.jsxs)(`select`,{value:W.teacherId,onChange:e=>G({...W,teacherId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),f.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.fullName,` (`,e.department||`N/A`,`)`]},e.id))]})]}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-600 mb-3`,children:[`Select subjects to assign (`,W.assignments.length,` selected)`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-2`,children:m.map(e=>g.map(t=>{let n=W.assignments.some(n=>n.subjectId===e.id&&n.classSectionId===t.id);return(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>he(e.id,t.id),className:`p-2 rounded-lg border text-left text-sm transition-colors ${n?`border-blue-500 bg-blue-50`:`border-gray-200 hover:border-blue-300`}`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[t.gradeDisplayName||t.gradeName,` - `,t.sectionDisplayName||t.sectionName]})]},`${e.id}-${t.id}`)}))})]}),(0,Q.jsxs)(`div`,{className:`p-6 border-t border-gray-200 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>A(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:le,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[`Assign `,W.assignments.length,` Subjects`]})]})]})}),k===`classes`&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Assign Subject to Multiple Classes`}),(0,Q.jsx)(`button`,{onClick:()=>A(null),className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-6`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Teacher *`}),(0,Q.jsxs)(`select`,{value:K.teacherId,onChange:e=>te({...K,teacherId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),f.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`Subject *`}),(0,Q.jsxs)(`select`,{value:K.subjectId,onChange:e=>te({...K,subjectId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Subject`}),m.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]})]}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-600 mb-3`,children:[`Select classes (`,K.classSectionIds.length,` selected)`]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-3 gap-2`,children:g.map(e=>{let t=K.classSectionIds.includes(e.id);return(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>J(e.id),className:`p-2 rounded-lg border text-center text-sm transition-colors ${t?`border-blue-500 bg-blue-50 text-blue-700`:`border-gray-200 hover:border-blue-300`}`,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id)})}),(0,Q.jsxs)(`div`,{className:`mt-4 flex items-center gap-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:K.isPrimary,onChange:e=>te({...K,isPrimary:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Set as Primary Teacher`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Periods/Week:`}),(0,Q.jsx)(`input`,{type:`number`,min:`0`,max:`20`,value:K.periodsPerWeek,onChange:e=>te({...K,periodsPerWeek:parseInt(e.target.value)||0}),className:`w-16 px-2 py-1 border border-gray-200 rounded-lg`})]})]})]}),(0,Q.jsxs)(`div`,{className:`p-6 border-t border-gray-200 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>A(null),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:ue,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700`,children:[`Assign to `,K.classSectionIds.length,` Classes`]})]})]})}),j&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Transfer Assignments`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`From Teacher *`}),(0,Q.jsxs)(`select`,{value:ne.fromTeacherId,onChange:e=>re({...ne,fromTeacherId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),f.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsx)(`div`,{className:`flex items-center justify-center`,children:(0,Q.jsx)(Sn,{className:`w-6 h-6 text-gray-400`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`To Teacher *`}),(0,Q.jsxs)(`select`,{value:ne.toTeacherId,onChange:e=>re({...ne,toTeacherId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Teacher`}),f.filter(e=>e.id!==ne.fromTeacherId).map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.fullName},e.id))]})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:ne.transferAll,onChange:e=>re({...ne,transferAll:e.target.checked}),className:`w-4 h-4 text-blue-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Transfer all assignments`})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>M(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:de,className:`px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700`,children:`Transfer`})]})]})}),N&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-4`,children:`Copy Assignments to New Session`}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`From Session *`}),(0,Q.jsxs)(`select`,{value:ie.fromSessionId,onChange:e=>ae({...ie,fromSessionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Session`}),y.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-1`,children:`To Session *`}),(0,Q.jsxs)(`select`,{value:ie.toSessionId,onChange:e=>ae({...ie,toSessionId:e.target.value}),className:`w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select Session`}),y.filter(e=>e.id!==ie.fromSessionId).map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Leave empty to copy all teachers' assignments`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>P(!1),className:`px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:fe,className:`px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700`,children:`Copy`})]})]})}),F&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4`,children:(0,Q.jsx)(zr,{className:`w-8 h-8 text-red-600`})}),(0,Q.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-2`,children:`Delete Assignment?`}),(0,Q.jsxs)(`p`,{className:`text-gray-600 mb-6`,children:[`Remove `,(0,Q.jsx)(`strong`,{children:F.subjectName}),` from `,F.classSection,`?`]}),(0,Q.jsxs)(`div`,{className:`flex justify-center gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>I(null),className:`px-5 py-2.5 text-gray-700 hover:bg-gray-100 rounded-lg`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:()=>pe(F.id),className:`px-5 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700`,children:`Delete`})]})]})})]})},ro=[{id:0,name:`Sunday`,short:`Sun`},{id:1,name:`Monday`,short:`Mon`},{id:2,name:`Tuesday`,short:`Tue`},{id:3,name:`Wednesday`,short:`Wed`},{id:4,name:`Thursday`,short:`Thu`},{id:5,name:`Friday`,short:`Fri`},{id:6,name:`Saturday`,short:`Sat`}],io=[{value:`regular`,label:`Regular Class`,color:`bg-blue-500`},{value:`lab`,label:`Lab/Practical`,color:`bg-purple-500`},{value:`activity`,label:`Activity`,color:`bg-green-500`},{value:`assembly`,label:`Assembly`,color:`bg-amber-500`},{value:`sports`,label:`Sports/PT`,color:`bg-orange-500`}],ao=[{value:`short_break`,label:`Short Break`,icon:Wn,color:`bg-amber-400`},{value:`lunch`,label:`Lunch Break`,icon:Wn,color:`bg-orange-500`},{value:`assembly`,label:`Assembly`,icon:Jr,color:`bg-indigo-500`},{value:`prayer`,label:`Prayer`,icon:Nr,color:`bg-purple-500`}],oo=[{value:`holiday`,label:`Holiday`,color:`bg-red-500`},{value:`half_day`,label:`Half Day`,color:`bg-amber-500`},{value:`exam`,label:`Exam Day`,color:`bg-blue-500`},{value:`event`,label:`School Event`,color:`bg-green-500`},{value:`custom`,label:`Custom Timing`,color:`bg-purple-500`}],so=()=>{let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)(!0),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(`setup`),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)(null),[x,S]=(0,_.useState)(null),[C,w]=(0,_.useState)(!1),[T,E]=(0,_.useState)(!1),[D,O]=(0,_.useState)(null),[k,A]=(0,_.useState)({schoolStartTime:`08:00`,schoolEndTime:`15:00`,gateOpenTime:`07:30`,gateCloseTime:`09:00`,defaultPeriodDuration:45,defaultBreakDuration:15,defaultLunchDuration:45,bellBeforePeriod:5,workingDays:[1,2,3,4,5,6],timezone:`Asia/Kolkata`}),[j,M]=(0,_.useState)({name:``,code:``,description:``,isDefault:!1,applicableDays:[1,2,3,4,5,6]}),[N,P]=(0,_.useState)({periodNumber:1,name:``,shortName:``,startTime:``,endTime:``,periodType:`regular`}),[F,I]=(0,_.useState)({name:``,shortName:``,startTime:``,endTime:``,breakType:`short_break`,afterPeriod:1}),[L,R]=(0,_.useState)({schoolStartTime:`08:00`,periodsCount:8,periodDuration:45,breakAfterPeriods:[3],breakDuration:15,lunchAfterPeriod:5,lunchDuration:45}),[z,ee]=(0,_.useState)({exceptionDate:``,exceptionType:`holiday`,templateId:``,reason:``,isNoSchool:!1}),[B,V]=(0,_.useState)(!1),[H,U]=(0,_.useState)({startTime:`08:00`,periodsCount:8,periodDuration:45,shortBreakDuration:15,shortBreakAfter:[3],lunchDuration:45,lunchAfterPeriod:5});(0,_.useEffect)(()=>{W()},[]);let W=async()=>{d(!0);try{let[e,n,i,a]=await Promise.all([pi.getSettings(),pi.getTemplates(),pi.getExceptions(),pi.getDayWise()]);if(e?.success&&e.data&&(t(e.data),A({schoolStartTime:e.data.schoolStartTime||`08:00`,schoolEndTime:e.data.schoolEndTime||`15:00`,gateOpenTime:e.data.gateOpenTime||`07:30`,gateCloseTime:e.data.gateCloseTime||`09:00`,defaultPeriodDuration:e.data.defaultPeriodDuration||45,defaultBreakDuration:e.data.defaultBreakDuration||15,defaultLunchDuration:e.data.defaultLunchDuration||45,bellBeforePeriod:e.data.bellBeforePeriod||5,workingDays:e.data.workingDays||[1,2,3,4,5,6],timezone:e.data.timezone||`Asia/Kolkata`}),e.data.isConfigured||E(!0)),n?.success){r(n.data||[]);let e=n.data?.find(e=>e.isDefault);e&&G(e.id)}i?.success&&s(i.data||[]),a?.success&&l(a.data||[])}catch(e){console.error(`Error:`,e),Z.error(`Failed to load timing data`)}finally{d(!1)}},G=async e=>{try{let t=await pi.getTemplateById(e);t?.success&&a(t.data)}catch(e){console.error(`Error loading template:`,e)}},K=async()=>{p(!0);try{let n=await pi.saveSettings(k);n?.success?(Z.success(`Settings saved successfully!`),t({...e,...k,isConfigured:!0})):Z.error(n?.message||`Failed to save settings`)}catch{Z.error(`Something went wrong`)}finally{p(!1)}},te=async()=>{p(!0);try{let e=await pi.generateDefault(L);e?.success?(Z.success(`Timing configuration generated successfully!`),E(!1),W()):Z.error(e?.message||`Failed to generate configuration`)}catch{Z.error(`Something went wrong`)}finally{p(!1)}},ne=async()=>{if(!j.name||!j.code){Z.error(`Name and code are required`);return}p(!0);try{let e;e=D?await pi.updateTemplate(D.id,j):await pi.createTemplate(j),e?.success?(Z.success(D?`Template updated!`:`Template created!`),v(!1),O(null),M({name:``,code:``,description:``,isDefault:!1,applicableDays:[1,2,3,4,5,6]}),W()):Z.error(e?.message||`Failed to save template`)}catch{Z.error(`Something went wrong`)}finally{p(!1)}},re=async e=>{if(confirm(`Are you sure you want to delete this template?`))try{let t=await pi.deleteTemplate(e);t?.success?(Z.success(`Template deleted`),W()):Z.error(t?.message||`Cannot delete default template`)}catch{Z.error(`Failed to delete`)}},ie=async()=>{if(i){if(!i.periods||i.periods.length===0){Z.error(`Add at least one period before saving`);return}p(!0);try{let e=await pi.savePeriods(i.id,i.periods);e?.success?(Z.success(e.message||`Periods saved!`),G(i.id)):Z.error(e?.message||`Failed to save periods`)}catch{Z.error(`Failed to save periods`)}finally{p(!1)}}},ae=async()=>{if(i){p(!0);try{let e=await pi.saveBreaks(i.id,i.breaks||[]);e?.success?(Z.success(e.message||`Breaks saved!`),G(i.id)):Z.error(e?.message||`Failed to save breaks`)}catch{Z.error(`Failed to save breaks`)}finally{p(!1)}}},oe=()=>{if(!i)return;let e=e=>{let t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,`0`)}:${String(n).padStart(2,`0`)}`},[t,n]=H.startTime.split(`:`).map(Number),r=t*60+n,o=[],s=[];for(let t=1;t<=H.periodsCount;t++){let n=e(r);r+=H.periodDuration;let i=e(r);if(o.push({id:`gen-period-${t}`,periodNumber:t,name:`Period ${t}`,shortName:`P${t}`,startTime:n,endTime:i,periodType:`regular`,orderIndex:o.length}),t===H.lunchAfterPeriod&&t<H.periodsCount){let n=e(r);r+=H.lunchDuration;let i=e(r);s.push({id:`gen-lunch-${t}`,name:`Lunch Break`,shortName:`Lunch`,startTime:n,endTime:i,breakType:`lunch`,afterPeriod:t,orderIndex:s.length})}else if(H.shortBreakAfter.includes(t)&&t<H.periodsCount&&t!==H.lunchAfterPeriod){let n=e(r);r+=H.shortBreakDuration;let i=e(r);s.push({id:`gen-break-${t}`,name:`Short Break`,shortName:`Break`,startTime:n,endTime:i,breakType:`short_break`,afterPeriod:t,orderIndex:s.length})}}a(e=>({...e,periods:o,breaks:s})),V(!1),Z.success(`Generated ${o.length} periods and ${s.length} breaks! Click "Save All" to persist.`)},q=e=>{U(t=>({...t,shortBreakAfter:t.shortBreakAfter.includes(e)?t.shortBreakAfter.filter(t=>t!==e):[...t.shortBreakAfter,e].sort((e,t)=>e-t)}))},se=async()=>{if(i){p(!0);try{let[e,t]=await Promise.all([pi.savePeriods(i.id,i.periods||[]),pi.saveBreaks(i.id,i.breaks||[])]);e?.success&&t?.success?(Z.success(`Template saved successfully!`),G(i.id),W()):Z.error(e?.message||t?.message||`Failed to save`)}catch{Z.error(`Failed to save template`)}finally{p(!1)}}},ce=(e,t)=>!e||!t?!0:e<t,le=(e,t,n,r)=>e<r&&t>n,ue=(e,t,n=-1)=>{if(!i)return null;for(let r=0;r<i.periods.length;r++){if(r===n)continue;let a=i.periods[r];if(le(e,t,a.startTime,a.endTime))return`Overlaps with ${a.name} (${a.startTime} - ${a.endTime})`}for(let n of i.breaks||[])if(le(e,t,n.startTime,n.endTime))return`Overlaps with ${n.name} (${n.startTime} - ${n.endTime})`;return null},de=()=>{if(!N.name||!N.startTime||!N.endTime){Z.error(`Fill all required fields`);return}if(!ce(N.startTime,N.endTime)){Z.error(`End time must be after start time`);return}let e=ue(N.startTime,N.endTime);if(e){Z.error(`Time conflict: ${e}`);return}let t={...N,id:`temp-${Date.now()}`,orderIndex:i.periods.length};a(e=>({...e,periods:[...e.periods,t].sort((e,t)=>(e.startTime||``).localeCompare(t.startTime||``))})),P({periodNumber:i.periods.length+2,name:``,shortName:``,startTime:``,endTime:``,periodType:`regular`}),b(null),Z.success(`Period added! Click "Save" to persist changes.`)},fe=e=>{a(t=>({...t,periods:t.periods.filter((t,n)=>n!==e)}))},pe=(e,t,n=-1)=>{if(!i)return null;for(let n of i.periods||[])if(le(e,t,n.startTime,n.endTime))return`Overlaps with ${n.name} (${n.startTime} - ${n.endTime})`;for(let r=0;r<(i.breaks||[]).length;r++){if(r===n)continue;let a=i.breaks[r];if(le(e,t,a.startTime,a.endTime))return`Overlaps with ${a.name} (${a.startTime} - ${a.endTime})`}return null},me=()=>{if(!F.name||!F.startTime||!F.endTime){Z.error(`Fill all required fields`);return}if(!ce(F.startTime,F.endTime)){Z.error(`End time must be after start time`);return}let e=pe(F.startTime,F.endTime);if(e){Z.error(`Time conflict: ${e}`);return}let t={...F,id:`temp-${Date.now()}`,orderIndex:i.breaks.length};a(e=>({...e,breaks:[...e.breaks,t].sort((e,t)=>(e.startTime||``).localeCompare(t.startTime||``))})),I({name:``,shortName:``,startTime:``,endTime:``,breakType:`short_break`,afterPeriod:1}),S(null),Z.success(`Break added! Click "Save" to persist changes.`)},he=e=>{a(t=>({...t,breaks:t.breaks.filter((t,n)=>n!==e)}))},J=async()=>{if(!z.exceptionDate||!z.exceptionType){Z.error(`Date and type are required`);return}p(!0);try{(await pi.createException(z))?.success&&(Z.success(`Exception saved!`),w(!1),ee({exceptionDate:``,exceptionType:`holiday`,templateId:``,reason:``,isNoSchool:!1}),W())}catch{Z.error(`Failed to save exception`)}finally{p(!1)}},ge=e=>{A(t=>({...t,workingDays:t.workingDays.includes(e)?t.workingDays.filter(t=>t!==e):[...t.workingDays,e].sort()}))},_e=e=>{if(!e)return``;let[t,n]=e.split(`:`),r=parseInt(t),i=r>=12?`PM`:`AM`;return`${r%12||12}:${n} ${i}`},ve=()=>{if(!i)return[];let e=[];return i.periods?.forEach(t=>{e.push({...t,type:`period`})}),i.breaks?.forEach(t=>{e.push({...t,type:`break`})}),e.sort((e,t)=>(e.startTime||``).localeCompare(t.startTime||``))};return u?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading timing configuration...`})]})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(Un,{className:`w-8 h-8`}),`Class Timing Configuration`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Configure school hours, periods, breaks and schedules`})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-3`,children:!e?.isConfigured&&(0,Q.jsxs)(`button`,{onClick:()=>E(!0),className:`flex items-center gap-2 px-5 py-2.5 bg-white text-indigo-600 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all`,children:[(0,Q.jsx)(Yr,{className:`w-5 h-5`}),` Quick Setup`]})})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:n.length}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Templates`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:i?.periods?.length||0}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Periods`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:k.workingDays.length}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Working Days`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:o.length}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Exceptions`})]})]})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 bg-gray-100 p-1.5 rounded-xl w-fit overflow-x-auto`,children:[{id:`setup`,label:`Default Hours`,icon:Or},{id:`daywise`,label:`Day-wise Hours`,icon:Mn},{id:`templates`,label:`Schedule Templates`,icon:Qn},{id:`exceptions`,label:`Holidays & Exceptions`,icon:jn}].map(e=>(0,Q.jsxs)(`button`,{onClick:()=>h(e.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-all whitespace-nowrap ${m===e.id?`bg-white text-indigo-600 shadow-md`:`text-gray-600 hover:text-gray-800`}`,children:[(0,Q.jsx)(e.icon,{className:`w-4 h-4`}),e.label]},e.id))}),m===`setup`&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2`,children:[(0,Q.jsx)(Nr,{className:`w-5 h-5 text-amber-500`}),`School Hours`]}),(0,Q.jsxs)(`div`,{className:`space-y-5`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`School Start Time`}),(0,Q.jsx)(`input`,{type:`time`,value:k.schoolStartTime,onChange:e=>A({...k,schoolStartTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg font-medium`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`School End Time`}),(0,Q.jsx)(`input`,{type:`time`,value:k.schoolEndTime,onChange:e=>A({...k,schoolEndTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg font-medium`})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Gate Opens`}),(0,Q.jsx)(`input`,{type:`time`,value:k.gateOpenTime,onChange:e=>A({...k,gateOpenTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Gate Closes`}),(0,Q.jsx)(`input`,{type:`time`,value:k.gateCloseTime,onChange:e=>A({...k,gateCloseTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-3`,children:`Working Days`}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:ro.map(e=>(0,Q.jsx)(`button`,{onClick:()=>ge(e.id),className:`px-4 py-2 rounded-xl font-medium text-sm transition-all ${k.workingDays.includes(e.id)?`bg-indigo-600 text-white shadow-lg`:`bg-gray-100 text-gray-600 hover:bg-gray-200`}`,children:e.short},e.id))})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2`,children:[(0,Q.jsx)(Rr,{className:`w-5 h-5 text-blue-500`}),`Default Durations`]}),(0,Q.jsxs)(`div`,{className:`space-y-5`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Period Duration (minutes)`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`input`,{type:`range`,min:`30`,max:`60`,value:k.defaultPeriodDuration,onChange:e=>A({...k,defaultPeriodDuration:parseInt(e.target.value)}),className:`flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600`}),(0,Q.jsx)(`span`,{className:`w-16 text-center font-bold text-2xl text-indigo-600`,children:k.defaultPeriodDuration})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Short Break Duration (minutes)`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`input`,{type:`range`,min:`5`,max:`30`,value:k.defaultBreakDuration,onChange:e=>A({...k,defaultBreakDuration:parseInt(e.target.value)}),className:`flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-amber-500`}),(0,Q.jsx)(`span`,{className:`w-16 text-center font-bold text-2xl text-amber-600`,children:k.defaultBreakDuration})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Lunch Duration (minutes)`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`input`,{type:`range`,min:`30`,max:`60`,value:k.defaultLunchDuration,onChange:e=>A({...k,defaultLunchDuration:parseInt(e.target.value)}),className:`flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-orange-500`}),(0,Q.jsx)(`span`,{className:`w-16 text-center font-bold text-2xl text-orange-600`,children:k.defaultLunchDuration})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Bell Before Period (minutes)`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Tn,{className:`w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:`number`,min:`0`,max:`15`,value:k.bellBeforePeriod,onChange:e=>A({...k,bellBeforePeriod:parseInt(e.target.value)}),className:`w-20 px-3 py-2 bg-gray-50 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-center font-bold`}),(0,Q.jsx)(`span`,{className:`text-gray-500`,children:`minutes before each period`})]})]})]}),(0,Q.jsxs)(`button`,{onClick:K,disabled:f,className:`w-full mt-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50`,children:[f?(0,Q.jsx)(wr,{className:`w-5 h-5 animate-spin`}):(0,Q.jsx)(Er,{className:`w-5 h-5`}),`Save Settings`]})]})]}),m===`daywise`&&(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Mn,{className:`w-5 h-5 text-indigo-500`}),`Day-wise School Hours`]}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:`Configure different hours for each day of the week`})]}),(0,Q.jsxs)(`button`,{onClick:async()=>{p(!0);try{let e=await pi.saveDayWise(c);e?.success?Z.success(`Day-wise timings saved!`):Z.error(e?.message||`Failed to save`)}catch{Z.error(`Something went wrong`)}finally{p(!1)}},disabled:f,className:`flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50`,children:[f?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Er,{className:`w-4 h-4`}),`Save All`]})]}),(0,Q.jsx)(`div`,{className:`space-y-3`,children:c.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${e.isWorkingDay?`bg-white border-gray-200 hover:border-indigo-300`:`bg-gray-50 border-gray-100`}`,children:[(0,Q.jsxs)(`div`,{className:`w-28`,children:[(0,Q.jsx)(`p`,{className:`font-semibold ${e.isWorkingDay?`text-gray-800`:`text-gray-400`}`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-400`,children:e.short})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isWorkingDay,onChange:e=>{let n=[...c];n[t]={...n[t],isWorkingDay:e.target.checked},l(n)},className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-600`,children:`Working`})]}),e.isWorkingDay&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(Pr,{className:`w-4 h-4 text-amber-500`}),(0,Q.jsx)(`input`,{type:`time`,value:e.schoolStartTime||`08:00`,onChange:e=>{let n=[...c];n[t]={...n[t],schoolStartTime:e.target.value},l(n)},className:`px-3 py-2 bg-gray-50 border-0 rounded-lg focus:ring-2 focus:ring-indigo-500 font-medium`})]}),(0,Q.jsx)(`span`,{className:`text-gray-400`,children:`to`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(hr,{className:`w-4 h-4 text-indigo-500`}),(0,Q.jsx)(`input`,{type:`time`,value:e.schoolEndTime||`15:00`,onChange:e=>{let n=[...c];n[t]={...n[t],schoolEndTime:e.target.value},l(n)},className:`px-3 py-2 bg-gray-50 border-0 rounded-lg focus:ring-2 focus:ring-indigo-500 font-medium`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer ml-4`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isHalfDay||!1,onChange:e=>{let n=[...c];n[t]={...n[t],isHalfDay:e.target.checked},e.target.checked&&n[t].schoolEndTime>`13:00`&&(n[t].schoolEndTime=`12:30`),l(n)},className:`w-4 h-4 text-amber-500 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-amber-600 font-medium`,children:`Half Day`})]}),n.length>0&&(0,Q.jsxs)(`select`,{value:e.templateId||``,onChange:e=>{let n=[...c];n[t]={...n[t],templateId:e.target.value||null},l(n)},className:`ml-auto px-3 py-2 bg-gray-50 border-0 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm`,children:[(0,Q.jsx)(`option`,{value:``,children:`Default Template`}),n.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),!e.isWorkingDay&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-400`,children:[(0,Q.jsx)(Vn,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`text-sm`,children:`Day Off`})]})]},e.id))}),c.length===0&&(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(Mn,{className:`w-16 h-16 text-gray-200 mx-auto mb-4`}),(0,Q.jsx)(`h4`,{className:`text-lg font-medium text-gray-600`,children:`No Day Configuration`}),(0,Q.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Save default settings first to configure day-wise hours`})]}),(0,Q.jsx)(`div`,{className:`mt-6 p-4 bg-blue-50 rounded-xl`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,Q.jsx)(nr,{className:`w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5`}),(0,Q.jsxs)(`div`,{className:`text-sm text-blue-700`,children:[(0,Q.jsx)(`p`,{className:`font-medium mb-1`,children:`How Day-wise Configuration Works`}),(0,Q.jsxs)(`ul`,{className:`list-disc list-inside space-y-1 text-blue-600`,children:[(0,Q.jsx)(`li`,{children:`Configure different school hours for each day (e.g., Saturday = half day)`}),(0,Q.jsx)(`li`,{children:`Assign specific schedule templates to different days`}),(0,Q.jsx)(`li`,{children:`Day-wise settings override default school hours`}),(0,Q.jsx)(`li`,{children:`Exceptions (holidays) override day-wise settings`})]})]})]})})]}),m===`templates`&&(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-6`,children:[(0,Q.jsx)(`div`,{className:`lg:col-span-1`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsx)(`h3`,{className:`font-semibold text-gray-800`,children:`Templates`}),(0,Q.jsx)(`button`,{onClick:()=>{O(null),v(!0)},className:`p-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200`,children:(0,Q.jsx)(Cr,{className:`w-5 h-5`})})]}),n.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-8`,children:[(0,Q.jsx)(Qn,{className:`w-12 h-12 text-gray-200 mx-auto mb-2`}),(0,Q.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`No templates yet`}),(0,Q.jsx)(`button`,{onClick:()=>E(!0),className:`mt-3 text-indigo-600 text-sm font-medium`,children:`Use Quick Setup `})]}):(0,Q.jsx)(`div`,{className:`space-y-2`,children:n.map(e=>(0,Q.jsxs)(`button`,{onClick:()=>G(e.id),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all text-left ${i?.id===e.id?`bg-indigo-50 border-2 border-indigo-300`:`hover:bg-gray-50 border-2 border-transparent`}`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e.isDefault?`bg-indigo-500 text-white`:`bg-gray-100 text-gray-600`}`,children:(0,Q.jsx)(Un,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.periodCount,` periods  `,e.breakCount,` breaks`]})]})]}),e.isDefault&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full`,children:`Default`})]},e.id))})]})}),(0,Q.jsx)(`div`,{className:`lg:col-span-2`,children:i?(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold text-gray-800`,children:i.name}),(0,Q.jsx)(`p`,{className:`text-gray-500`,children:i.description||`No description`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>V(!0),className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all`,children:[(0,Q.jsx)(Yr,{className:`w-4 h-4`}),` Auto Generate`]}),(0,Q.jsxs)(`button`,{onClick:se,disabled:f,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all disabled:opacity-50`,children:[f?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Er,{className:`w-4 h-4`}),`Save All`]}),(0,Q.jsx)(`button`,{onClick:()=>{O(i),M(i),v(!0)},className:`p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg`,children:(0,Q.jsx)(vr,{className:`w-5 h-5`})}),!i.isDefault&&(0,Q.jsx)(`button`,{onClick:()=>re(i.id),className:`p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg`,children:(0,Q.jsx)(zr,{className:`w-5 h-5`})})]})]}),ve().length>0?(0,Q.jsxs)(`div`,{className:`mt-6`,children:[(0,Q.jsx)(`h4`,{className:`text-sm font-medium text-gray-700 mb-3`,children:`Daily Schedule Preview`}),(0,Q.jsx)(`div`,{className:`flex items-stretch gap-1 h-14 rounded-xl overflow-hidden bg-gray-100 p-1`,children:ve().map((e,t)=>(0,Q.jsx)(`div`,{title:`${e.name}: ${_e(e.startTime)} - ${_e(e.endTime)}`,className:`flex-1 rounded-lg flex items-center justify-center text-white text-xs font-medium ${e.type===`break`?`bg-amber-400`:`bg-indigo-500`}`,children:e.shortName||e.name?.split(` `)[0]},t))})]}):(0,Q.jsxs)(`div`,{className:`mt-6 p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border-2 border-dashed border-purple-200 text-center`,children:[(0,Q.jsx)(Yr,{className:`w-10 h-10 text-purple-400 mx-auto mb-3`}),(0,Q.jsx)(`p`,{className:`text-purple-700 font-medium`,children:`No periods configured yet`}),(0,Q.jsx)(`p`,{className:`text-purple-500 text-sm mt-1`,children:`Click "Auto Generate" to quickly create all periods and breaks`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(En,{className:`w-5 h-5 text-indigo-500`}),`Periods (`,i.periods?.length||0,`)`]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>b(`add`),className:`flex items-center gap-1 px-3 py-1.5 bg-indigo-100 text-indigo-600 rounded-lg text-sm font-medium hover:bg-indigo-200`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Period`]}),(0,Q.jsxs)(`button`,{onClick:ie,disabled:f,className:`flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-600 rounded-lg text-sm font-medium hover:bg-green-200`,children:[(0,Q.jsx)(Er,{className:`w-4 h-4`}),` Save`]})]})]}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:i.periods?.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 p-3 bg-gray-50 rounded-xl group`,children:[(0,Q.jsxs)(`div`,{className:`w-10 h-10 rounded-lg bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold`,children:[`P`,e.periodNumber]}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[_e(e.startTime),` - `,_e(e.endTime)]})]}),(0,Q.jsxs)(`span`,{className:`px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:[e.durationMinutes||`--`,` min`]}),(0,Q.jsx)(`button`,{onClick:()=>fe(t),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]},e.id))})]}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`h4`,{className:`font-semibold text-gray-800 flex items-center gap-2`,children:[(0,Q.jsx)(Wn,{className:`w-5 h-5 text-amber-500`}),`Breaks (`,i.breaks?.length||0,`)`]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>S(`add`),className:`flex items-center gap-1 px-3 py-1.5 bg-amber-100 text-amber-600 rounded-lg text-sm font-medium hover:bg-amber-200`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Break`]}),(0,Q.jsxs)(`button`,{onClick:ae,disabled:f,className:`flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-600 rounded-lg text-sm font-medium hover:bg-green-200`,children:[(0,Q.jsx)(Er,{className:`w-4 h-4`}),` Save`]})]})]}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:i.breaks?.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 p-3 bg-amber-50 rounded-xl group`,children:[(0,Q.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-amber-100 text-amber-700 flex items-center justify-center`,children:(0,Q.jsx)(Wn,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:e.name}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[_e(e.startTime),` - `,_e(e.endTime),` (after P`,e.afterPeriod,`)`]})]}),(0,Q.jsxs)(`span`,{className:`px-2 py-1 bg-amber-100 text-amber-700 text-xs rounded-full`,children:[e.durationMinutes||`--`,` min`]}),(0,Q.jsx)(`button`,{onClick:()=>he(t),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]},e.id))})]})]}):(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-12 text-center`,children:[(0,Q.jsx)(Un,{className:`w-16 h-16 text-gray-200 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-medium text-gray-600`,children:`Select a Template`}),(0,Q.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Choose a template from the left to edit its periods and breaks`})]})})]}),m===`exceptions`&&(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-6`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800`,children:`Holidays & Special Days`}),(0,Q.jsxs)(`button`,{onClick:()=>w(!0),className:`flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium`,children:[(0,Q.jsx)(Cr,{className:`w-4 h-4`}),` Add Exception`]})]}),o.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12`,children:[(0,Q.jsx)(jn,{className:`w-16 h-16 text-gray-200 mx-auto mb-4`}),(0,Q.jsx)(`h4`,{className:`text-lg font-medium text-gray-600`,children:`No Exceptions`}),(0,Q.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Add holidays, half-days, or special timing days`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:o.map(e=>{let t=oo.find(t=>t.value===e.exceptionType);return(0,Q.jsxs)(`div`,{className:`relative p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow`,children:[(0,Q.jsx)(`div`,{className:`absolute top-0 left-0 w-1 h-full ${t?.color} rounded-l-xl`}),(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800`,children:new Date(e.exceptionDate).toLocaleDateString(`en-IN`,{weekday:`short`,day:`numeric`,month:`short`,year:`numeric`})}),(0,Q.jsx)(`span`,{className:`inline-block mt-1 px-2 py-0.5 text-xs font-medium rounded-full ${t?.color} text-white`,children:t?.label}),e.reason&&(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-2`,children:e.reason})]}),(0,Q.jsx)(`button`,{onClick:async()=>{await pi.deleteException(e.id),W()},className:`p-1 text-gray-400 hover:text-red-600`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]},e.id)})})]}),T&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Yr,{className:`w-8 h-8`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold`,children:`Quick Setup`}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Generate timing in seconds`})]})]}),(0,Q.jsx)(`button`,{onClick:()=>E(!1),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-5`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`School Starts At`}),(0,Q.jsx)(`input`,{type:`time`,value:L.schoolStartTime,onChange:e=>R({...L,schoolStartTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 text-lg font-medium`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Number of Periods`}),(0,Q.jsx)(`input`,{type:`number`,min:`4`,max:`12`,value:L.periodsCount,onChange:e=>R({...L,periodsCount:parseInt(e.target.value)}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 text-lg font-medium text-center`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Period Duration: `,L.periodDuration,` minutes`]}),(0,Q.jsx)(`input`,{type:`range`,min:`30`,max:`60`,value:L.periodDuration,onChange:e=>R({...L,periodDuration:parseInt(e.target.value)}),className:`w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Lunch After Period`}),(0,Q.jsx)(`select`,{value:L.lunchAfterPeriod,onChange:e=>R({...L,lunchAfterPeriod:parseInt(e.target.value)}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:Array.from({length:L.periodsCount-1},(e,t)=>t+1).map(e=>(0,Q.jsxs)(`option`,{value:e,children:[`Period `,e]},e))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Lunch Duration`}),(0,Q.jsxs)(`select`,{value:L.lunchDuration,onChange:e=>R({...L,lunchDuration:parseInt(e.target.value)}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:30,children:`30 minutes`}),(0,Q.jsx)(`option`,{value:45,children:`45 minutes`}),(0,Q.jsx)(`option`,{value:60,children:`60 minutes`})]})]})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-indigo-50 rounded-xl`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-indigo-700`,children:[(0,Q.jsx)(nr,{className:`w-5 h-5`}),(0,Q.jsx)(`p`,{className:`text-sm font-medium`,children:`This will create a "Regular Day" template with your settings`})]})})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>E(!1),className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:te,disabled:f,className:`flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium shadow-lg disabled:opacity-50`,children:[f?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Yr,{className:`w-4 h-4`}),`Generate Timetable`]})]})]})}),g&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b`,children:(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:D?`Edit Template`:`Create Template`})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Template Name`}),(0,Q.jsx)(`input`,{type:`text`,value:j.name,placeholder:`e.g., Regular Day, Exam Day`,onChange:e=>M({...j,name:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Code`}),(0,Q.jsx)(`input`,{type:`text`,value:j.code,placeholder:`e.g., REGULAR, EXAM`,onChange:e=>M({...j,code:e.target.value.toUpperCase()}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 uppercase`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:j.description,rows:2,onChange:e=>M({...j,description:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 resize-none`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:j.isDefault,onChange:e=>M({...j,isDefault:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Set as default template`})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>{v(!1),O(null)},className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:ne,disabled:f,className:`px-5 py-2 bg-indigo-600 text-white rounded-xl font-medium`,children:D?`Update`:`Create`})]})]})}),y&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b`,children:(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:`Add Period`})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Period Number`}),(0,Q.jsx)(`input`,{type:`number`,value:N.periodNumber,min:1,onChange:e=>P({...N,periodNumber:parseInt(e.target.value)}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Type`}),(0,Q.jsx)(`select`,{value:N.periodType,onChange:e=>P({...N,periodType:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:io.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Name`}),(0,Q.jsx)(`input`,{type:`text`,value:N.name,placeholder:`e.g., Period 1`,onChange:e=>P({...N,name:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Start Time`}),(0,Q.jsx)(`input`,{type:`time`,value:N.startTime,onChange:e=>P({...N,startTime:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`End Time`}),(0,Q.jsx)(`input`,{type:`time`,value:N.endTime,onChange:e=>P({...N,endTime:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>b(null),className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:de,className:`px-5 py-2 bg-indigo-600 text-white rounded-xl font-medium`,children:`Add Period`})]})]})}),x&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b`,children:(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:`Add Break`})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Name`}),(0,Q.jsx)(`input`,{type:`text`,value:F.name,placeholder:`e.g., Lunch Break`,onChange:e=>I({...F,name:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-amber-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Type`}),(0,Q.jsx)(`select`,{value:F.breakType,onChange:e=>I({...F,breakType:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-amber-500`,children:ao.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Start Time`}),(0,Q.jsx)(`input`,{type:`time`,value:F.startTime,onChange:e=>I({...F,startTime:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-amber-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`End Time`}),(0,Q.jsx)(`input`,{type:`time`,value:F.endTime,onChange:e=>I({...F,endTime:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-amber-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`After Period`}),(0,Q.jsx)(`select`,{value:F.afterPeriod,onChange:e=>I({...F,afterPeriod:parseInt(e.target.value)}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-amber-500`,children:i?.periods?.map(e=>(0,Q.jsxs)(`option`,{value:e.periodNumber,children:[`After Period `,e.periodNumber]},e.periodNumber))})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>S(null),className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:me,className:`px-5 py-2 bg-amber-500 text-white rounded-xl font-medium`,children:`Add Break`})]})]})}),C&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b`,children:(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:`Add Exception`})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Date`}),(0,Q.jsx)(`input`,{type:`date`,value:z.exceptionDate,onChange:e=>ee({...z,exceptionDate:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Exception Type`}),(0,Q.jsx)(`div`,{className:`grid grid-cols-3 gap-2`,children:oo.map(e=>(0,Q.jsx)(`button`,{type:`button`,onClick:()=>ee({...z,exceptionType:e.value,isNoSchool:e.value===`holiday`}),className:`p-2 rounded-xl text-sm font-medium transition-all ${z.exceptionType===e.value?`${e.color} text-white`:`bg-gray-100 text-gray-600 hover:bg-gray-200`}`,children:e.label},e.value))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Reason`}),(0,Q.jsx)(`input`,{type:`text`,value:z.reason,placeholder:`e.g., Diwali Holiday`,onChange:e=>ee({...z,reason:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),z.exceptionType!==`holiday`&&(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Use Template`}),(0,Q.jsxs)(`select`,{value:z.templateId,onChange:e=>ee({...z,templateId:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Default Template`}),n.map(e=>(0,Q.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:z.isNoSchool,onChange:e=>ee({...z,isNoSchool:e.target.checked}),className:`w-5 h-5 text-red-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`No school on this day`})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>w(!1),className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:J,disabled:f,className:`px-5 py-2 bg-indigo-600 text-white rounded-xl font-medium`,children:`Save Exception`})]})]})}),B&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-2xl w-full max-w-xl overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 p-6 text-white`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center`,children:(0,Q.jsx)(Yr,{className:`w-6 h-6`})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`text-xl font-bold`,children:`Auto Generate Schedule`}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Configure all periods & breaks in one click`})]})]}),(0,Q.jsx)(`button`,{onClick:()=>V(!1),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(Pr,{className:`w-4 h-4 inline mr-1 text-amber-500`}),` School Starts At`]}),(0,Q.jsx)(`input`,{type:`time`,value:H.startTime,onChange:e=>U({...H,startTime:e.target.value}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-purple-500 text-lg font-semibold`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(En,{className:`w-4 h-4 inline mr-1 text-indigo-500`}),` Number of Periods`]}),(0,Q.jsx)(`input`,{type:`number`,min:`4`,max:`12`,value:H.periodsCount,onChange:e=>U({...H,periodsCount:parseInt(e.target.value)||8}),className:`w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-purple-500 text-lg font-semibold text-center`})]})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Period Duration: `,(0,Q.jsxs)(`span`,{className:`text-purple-600 font-bold`,children:[H.periodDuration,` min`]})]}),(0,Q.jsx)(`input`,{type:`range`,min:`30`,max:`60`,step:`5`,value:H.periodDuration,onChange:e=>U({...H,periodDuration:parseInt(e.target.value)}),className:`w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600`}),(0,Q.jsxs)(`div`,{className:`flex justify-between text-xs text-gray-500 mt-1`,children:[(0,Q.jsx)(`span`,{children:`30 min`}),(0,Q.jsx)(`span`,{children:`45 min`}),(0,Q.jsx)(`span`,{children:`60 min`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[`Short Break Duration: `,(0,Q.jsxs)(`span`,{className:`text-amber-600 font-bold`,children:[H.shortBreakDuration,` min`]})]}),(0,Q.jsx)(`input`,{type:`range`,min:`5`,max:`20`,step:`5`,value:H.shortBreakDuration,onChange:e=>U({...H,shortBreakDuration:parseInt(e.target.value)}),className:`w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-amber-500`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-3`,children:[(0,Q.jsx)(Wn,{className:`w-4 h-4 inline mr-1 text-amber-500`}),` Short Breaks After Period`]}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:Array.from({length:H.periodsCount-1},(e,t)=>t+1).map(e=>(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>e!==H.lunchAfterPeriod&&q(e),disabled:e===H.lunchAfterPeriod,className:`w-10 h-10 rounded-xl font-bold text-sm transition-all ${e===H.lunchAfterPeriod?`bg-orange-100 text-orange-400 cursor-not-allowed`:H.shortBreakAfter.includes(e)?`bg-amber-500 text-white shadow-lg`:`bg-gray-100 text-gray-600 hover:bg-gray-200`}`,children:[`P`,e]},e))}),(0,Q.jsx)(`p`,{className:`text-xs text-gray-500 mt-2`,children:`Click to toggle. Orange = Lunch (can't add break there)`})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center`,children:(0,Q.jsx)(Wn,{className:`w-6 h-6 text-orange-600`})}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsx)(`p`,{className:`font-semibold text-orange-800`,children:`Lunch Break`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 mt-2`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`text-xs text-orange-600`,children:`After Period`}),(0,Q.jsx)(`select`,{value:H.lunchAfterPeriod,onChange:e=>U({...H,lunchAfterPeriod:parseInt(e.target.value),shortBreakAfter:H.shortBreakAfter.filter(t=>t!==parseInt(e.target.value))}),className:`ml-2 px-3 py-1.5 bg-white border-0 rounded-lg focus:ring-2 focus:ring-orange-500 text-sm font-semibold`,children:Array.from({length:H.periodsCount-1},(e,t)=>t+1).map(e=>(0,Q.jsxs)(`option`,{value:e,children:[`P`,e]},e))})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`text-xs text-orange-600`,children:`Duration`}),(0,Q.jsxs)(`select`,{value:H.lunchDuration,onChange:e=>U({...H,lunchDuration:parseInt(e.target.value)}),className:`ml-2 px-3 py-1.5 bg-white border-0 rounded-lg focus:ring-2 focus:ring-orange-500 text-sm font-semibold`,children:[(0,Q.jsx)(`option`,{value:30,children:`30 min`}),(0,Q.jsx)(`option`,{value:45,children:`45 min`}),(0,Q.jsx)(`option`,{value:60,children:`60 min`})]})]})]})]})]})}),(0,Q.jsx)(`div`,{className:`p-4 bg-gray-50 rounded-xl`,children:(0,Q.jsxs)(`p`,{className:`text-sm text-gray-600 flex items-center gap-2`,children:[(0,Q.jsx)(nr,{className:`w-4 h-4`}),(0,Q.jsxs)(`span`,{children:[`This will generate `,(0,Q.jsxs)(`strong`,{children:[H.periodsCount,` periods`]}),`,`,(0,Q.jsxs)(`strong`,{children:[` `,H.shortBreakAfter.length,` short breaks`]}),`, and `,(0,Q.jsx)(`strong`,{children:`1 lunch break`})]})]})})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>V(!1),className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:oe,className:`flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all`,children:[(0,Q.jsx)(Yr,{className:`w-4 h-4`}),` Generate Schedule`]})]})]})})]})},co=[{value:`#4F46E5`,label:`Indigo`},{value:`#10B981`,label:`Green`},{value:`#3B82F6`,label:`Blue`},{value:`#8B5CF6`,label:`Purple`},{value:`#F59E0B`,label:`Amber`},{value:`#EC4899`,label:`Pink`},{value:`#EF4444`,label:`Red`},{value:`#06B6D4`,label:`Cyan`},{value:`#14B8A6`,label:`Teal`},{value:`#F97316`,label:`Orange`}],lo=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(!0),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(null),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)({name:``,code:``,description:``,headTeacherId:``,color:`#4F46E5`,isActive:!0});(0,_.useEffect)(()=>{g()},[]);let g=async()=>{a(!0);try{let[e,n]=await Promise.all([mi.getAll(),ai.getAll({status:`active`})]);e?.success&&t(e.data||[]),n?.success&&r(n.data||[])}catch(e){console.error(`Error:`,e),Z.error(`Failed to load data`)}finally{a(!1)}},v=async()=>{if(!m.name||!m.code){Z.error(`Name and code are required`);return}s(!0);try{let e;e=u?await mi.update(u.id,m):await mi.create(m),e?.success?(Z.success(u?`Department updated!`:`Department created!`),l(!1),x(),g()):Z.error(e?.message||`Operation failed`)}catch{Z.error(`Something went wrong`)}finally{s(!1)}},y=async e=>{if(confirm(`Are you sure you want to delete this department?`))try{let t=await mi.delete(e);t?.success?(Z.success(`Department deleted`),g()):Z.error(t?.message||`Cannot delete department`)}catch{Z.error(`Failed to delete`)}},b=e=>{d(e),h({name:e.name,code:e.code,description:e.description||``,headTeacherId:e.headTeacherId||``,color:e.color||`#4F46E5`,isActive:e.isActive}),l(!0)},x=()=>{d(null),h({name:``,code:``,description:``,headTeacherId:``,color:`#4F46E5`,isActive:!0})},S=e.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.code.toLowerCase().includes(f.toLowerCase())),C={total:e.length,active:e.filter(e=>e.isActive).length,withHead:e.filter(e=>e.headTeacherId).length,totalSubjects:e.reduce((e,t)=>e+(t.subjectCount||0),0)};return i?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsxs)(`div`,{className:`text-center`,children:[(0,Q.jsx)(`div`,{className:`w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto`}),(0,Q.jsx)(`p`,{className:`mt-4 text-gray-500`,children:`Loading departments...`})]})}):(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white shadow-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h1`,{className:`text-2xl font-bold flex items-center gap-3`,children:[(0,Q.jsx)(On,{className:`w-8 h-8`}),`Departments Configuration`]}),(0,Q.jsx)(`p`,{className:`text-white/80 mt-1`,children:`Manage academic departments and their heads`})]}),(0,Q.jsxs)(`button`,{onClick:()=>{x(),l(!0)},className:`flex items-center gap-2 px-5 py-2.5 bg-white text-indigo-600 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all`,children:[(0,Q.jsx)(Cr,{className:`w-5 h-5`}),` Add Department`]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 gap-4 mt-6`,children:[(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:C.total}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Total Departments`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:C.active}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Active`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:C.withHead}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`With Head`})]}),(0,Q.jsxs)(`div`,{className:`bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center`,children:[(0,Q.jsx)(`p`,{className:`text-3xl font-bold`,children:C.totalSubjects}),(0,Q.jsx)(`p`,{className:`text-white/70 text-sm`,children:`Total Subjects`})]})]})]}),(0,Q.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex-1 relative`,children:[(0,Q.jsx)(Dr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Search departments...`,value:f,onChange:e=>p(e.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsx)(`button`,{onClick:g,className:`p-2.5 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200`,children:(0,Q.jsx)(wr,{className:`w-5 h-5`})})]})}),S.length===0?(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg p-12 text-center`,children:[(0,Q.jsx)(On,{className:`w-16 h-16 text-gray-200 mx-auto mb-4`}),(0,Q.jsx)(`h3`,{className:`text-xl font-medium text-gray-600`,children:`No Departments`}),(0,Q.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Create departments to organize subjects and teachers`}),(0,Q.jsx)(`button`,{onClick:()=>{x(),l(!0)},className:`mt-4 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-medium`,children:`Create First Department`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:S.map(e=>(0,Q.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border-l-4 p-5 hover:shadow-md transition-all group ${e.isActive?``:`opacity-60`}`,style:{borderLeftColor:e.color},children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg`,style:{backgroundColor:e.color},children:e.code.substring(0,2)}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`font-semibold text-gray-800`,children:e.name}),(0,Q.jsx)(`p`,{className:`text-sm text-gray-500`,children:e.code})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity`,children:[(0,Q.jsx)(`button`,{onClick:()=>b(e),className:`p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg`,children:(0,Q.jsx)(vr,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{onClick:()=>y(e.id),className:`p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg`,children:(0,Q.jsx)(zr,{className:`w-4 h-4`})})]})]}),e.description&&(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mt-3 line-clamp-2`,children:e.description}),(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mt-4 pt-4 border-t border-gray-100`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 text-sm text-gray-500`,children:[(0,Q.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(En,{className:`w-4 h-4`}),e.subjectCount||0,` subjects`]}),(0,Q.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(Jr,{className:`w-4 h-4`}),e.teacherCount||0,` teachers`]})]}),!e.isActive&&(0,Q.jsx)(`span`,{className:`px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded-full`,children:`Inactive`})]}),e.headTeacherName&&(0,Q.jsxs)(`div`,{className:`mt-3 flex items-center gap-2 text-sm`,children:[(0,Q.jsx)(`span`,{className:`text-gray-500`,children:`Head:`}),(0,Q.jsx)(`span`,{className:`font-medium text-gray-700`,children:e.headTeacherName})]})]},e.id))}),c&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden`,children:[(0,Q.jsx)(`div`,{className:`p-6 border-b`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-semibold`,children:u?`Edit Department`:`Add Department`}),(0,Q.jsx)(`button`,{onClick:()=>{l(!1),x()},className:`p-2 hover:bg-gray-100 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]})}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-5`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Department Name *`}),(0,Q.jsx)(`input`,{type:`text`,value:m.name,onChange:e=>h({...m,name:e.target.value}),placeholder:`e.g., Science`,className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Code *`}),(0,Q.jsx)(`input`,{type:`text`,value:m.code,onChange:e=>h({...m,code:e.target.value.toUpperCase()}),placeholder:`e.g., SCI`,className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 uppercase`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description`}),(0,Q.jsx)(`textarea`,{value:m.description,onChange:e=>h({...m,description:e.target.value}),rows:2,placeholder:`Brief description of the department`,className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 resize-none`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Department Head`}),(0,Q.jsxs)(`select`,{value:m.headTeacherId,onChange:e=>h({...m,headTeacherId:e.target.value}),className:`w-full px-4 py-2.5 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`Select a teacher (optional)`}),n.map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.firstName,` `,e.lastName]},e.id))]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[(0,Q.jsx)(gr,{className:`w-4 h-4 inline mr-1`}),` Color`]}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:co.map(e=>(0,Q.jsx)(`button`,{type:`button`,onClick:()=>h({...m,color:e.value}),className:`w-8 h-8 rounded-lg transition-all ${m.color===e.value?`ring-2 ring-offset-2 ring-gray-400 scale-110`:``}`,style:{backgroundColor:e.value},title:e.label},e.value))})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:m.isActive,onChange:e=>h({...m,isActive:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{className:`text-sm text-gray-700`,children:`Active Department`})]})]}),(0,Q.jsxs)(`div`,{className:`px-6 py-4 bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>{l(!1),x()},className:`px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-xl`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:v,disabled:o,className:`flex items-center gap-2 px-5 py-2 bg-indigo-600 text-white rounded-xl font-medium disabled:opacity-50`,children:[o?(0,Q.jsx)(wr,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Fn,{className:`w-4 h-4`}),u?`Update`:`Create`]})]})]})})]})},uo=()=>{let[e,t]=(0,_.useState)({admission_number:null,roll_number:null}),[n,r]=(0,_.useState)(!0),[i,a]=(0,_.useState)(!1),[o,s]=(0,_.useState)(`admission_number`),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(`admission`),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)([]),[y,b]=(0,_.useState)(null),[x,S]=(0,_.useState)([]),[C,w]=(0,_.useState)([]),[T,E]=(0,_.useState)(``),[D,O]=(0,_.useState)({prefix:`ADM`,suffix:``,separator:`/`,startNumber:1,numberLength:4,includeYear:!0,yearFormat:`YY`,includeClass:!1,includeSection:!1,resetYearly:!0,autoIncrement:!0}),[k,A]=(0,_.useState)({prefix:``,suffix:``,separator:``,startNumber:1,numberLength:2,rollNumberType:`sequential`,rollPerClass:!0});(0,_.useEffect)(()=>{M(),j()},[]);let j=async()=>{try{let[e,t]=await Promise.all([ci.getCurrent(),li.getClassSections()]);e?.success&&b(e.data),t?.success&&v(t.data||[])}catch(e){console.error(`Error fetching initial data:`,e)}};(0,_.useEffect)(()=>{N()},[D,k,o]);let M=async()=>{r(!0);try{let e=await gi.getAll();e?.success&&e.data&&(t(e.data),e.data.admission_number&&O({prefix:e.data.admission_number.prefix||`ADM`,suffix:e.data.admission_number.suffix||``,separator:e.data.admission_number.separator||`/`,startNumber:e.data.admission_number.startNumber||1,numberLength:e.data.admission_number.numberLength||4,includeYear:e.data.admission_number.includeYear!==!1,yearFormat:e.data.admission_number.yearFormat||`YY`,includeClass:e.data.admission_number.includeClass||!1,includeSection:e.data.admission_number.includeSection||!1,resetYearly:e.data.admission_number.resetYearly!==!1,autoIncrement:e.data.admission_number.autoIncrement!==!1}),e.data.roll_number&&A({prefix:e.data.roll_number.prefix||``,suffix:e.data.roll_number.suffix||``,separator:e.data.roll_number.separator||``,startNumber:e.data.roll_number.startNumber||1,numberLength:e.data.roll_number.numberLength||2,rollNumberType:e.data.roll_number.rollNumberType||`sequential`,rollPerClass:e.data.roll_number.rollPerClass!==!1}))}catch(e){console.error(`Error fetching settings:`,e),Z.error(`Failed to load settings`)}finally{r(!1)}},N=()=>{if(o===`admission_number`){let e=[];if(D.prefix&&e.push(D.prefix),D.includeYear){let t=new Date().getFullYear();e.push(D.yearFormat===`YYYY`?t.toString():t.toString().slice(-2))}D.includeClass&&e.push(`01`),D.includeSection&&e.push(`A`),e.push(`1`.padStart(D.numberLength,`0`)),D.suffix&&e.push(D.suffix),l(e.join(D.separator||`/`))}else{let e=``;k.prefix&&(e+=k.prefix+(k.separator||``)),e+=`1`.padStart(k.numberLength,`0`),k.suffix&&(e+=(k.separator||``)+k.suffix),l(e)}},P=async()=>{a(!0);try{let e=await gi.update(`admission_number`,D);e?.success?(Z.success(`Admission number settings saved`),M()):Z.error(e?.message||`Failed to save`)}catch{Z.error(`Failed to save settings`)}finally{a(!1)}},F=async()=>{a(!0);try{let e=await gi.update(`roll_number`,k);e?.success?(Z.success(`Roll number settings saved`),M()):Z.error(e?.message||`Failed to save`)}catch{Z.error(`Failed to save settings`)}finally{a(!1)}},I=async e=>{if(confirm(`Are you sure you want to reset the ${e.replace(`_`,` `)} sequence? This will start numbering from the beginning.`))try{let t=await gi.reset(e,{startFrom:e===`admission_number`?D.startNumber:k.startNumber});t?.success?(Z.success(`Sequence reset successfully`),M()):Z.error(t?.message||`Failed to reset`)}catch{Z.error(`Failed to reset sequence`)}},L=async e=>{p(e),h(!0),d(!0),w([]),E(``);try{let t={academic_session_id:y?.id,status:`active`,limit:500},n=await ii.getAll(t);if(n?.success){let t=n.data||[];t=e===`admission`?t.filter(e=>!e.admissionNumber||e.admissionNumber.trim()===``):t.filter(e=>!e.rollNumber||e.rollNumber.trim()===``),S(t)}}catch(e){console.error(`Error fetching students:`,e),Z.error(`Failed to load students`)}finally{h(!1)}},R=async()=>{if(C.length===0){Z.error(`Please select at least one student`);return}h(!0);try{let e=await gi.bulkGenerate({type:f,studentIds:C,classSectionId:T||null});e?.success?(Z.success(`Generated ${f===`admission`?`admission`:`roll`} numbers for ${e.data?.updated||C.length} students`),d(!1),M()):Z.error(e?.message||`Failed to generate numbers`)}catch(e){console.error(`Error generating numbers:`,e),Z.error(`Failed to generate numbers`)}finally{h(!1)}},z=e=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ee=()=>{let e=B();C.length===e.length?w([]):w(e.map(e=>e.id))},B=()=>T?x.filter(e=>e.classSectionId===T):x;return n?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-96`,children:(0,Q.jsx)(wr,{className:`w-8 h-8 animate-spin text-teal-600`})}):(0,Q.jsxs)(`div`,{className:`p-6 max-w-5xl mx-auto`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-indigo-600 via-purple-600 to-violet-600 rounded-2xl p-6 text-white mb-6`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)($n,{className:`w-8 h-8`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-2xl font-bold`,children:`Number Generation Settings`}),(0,Q.jsx)(`p`,{className:`text-white/80`,children:`Configure admission number and roll number formats`})]})]})}),(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden`,children:[(0,Q.jsxs)(`div`,{className:`flex border-b`,children:[(0,Q.jsxs)(`button`,{onClick:()=>s(`admission_number`),className:`flex-1 px-6 py-4 font-medium flex items-center justify-center gap-2 transition-colors ${o===`admission_number`?`bg-indigo-50 text-indigo-700 border-b-2 border-indigo-600`:`text-gray-500 hover:bg-gray-50`}`,children:[(0,Q.jsx)(Xn,{className:`w-5 h-5`}),`Admission Number`]}),(0,Q.jsxs)(`button`,{onClick:()=>s(`roll_number`),className:`flex-1 px-6 py-4 font-medium flex items-center justify-center gap-2 transition-colors ${o===`roll_number`?`bg-indigo-50 text-indigo-700 border-b-2 border-indigo-600`:`text-gray-500 hover:bg-gray-50`}`,children:[(0,Q.jsx)(Jr,{className:`w-5 h-5`}),`Roll Number`]})]}),(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsx)(`div`,{className:`bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6 mb-6 border-2 border-dashed border-gray-200`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`text-sm text-gray-500 mb-1`,children:`Preview`}),(0,Q.jsx)(`p`,{className:`text-3xl font-bold text-gray-800 font-mono tracking-wide`,children:c})]}),(0,Q.jsx)(Jn,{className:`w-10 h-10 text-gray-300`})]})}),o===`admission_number`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[e.admission_number&&(0,Q.jsxs)(`div`,{className:`bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Bn,{className:`w-5 h-5 text-blue-600`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-blue-800`,children:`Current Sequence`}),(0,Q.jsxs)(`p`,{className:`text-sm text-blue-600`,children:[`Last used: `,e.admission_number.currentNumber||0]})]})]}),(0,Q.jsxs)(`button`,{onClick:()=>I(`admission_number`),className:`px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg flex items-center gap-2`,children:[(0,Q.jsx)(Tr,{className:`w-4 h-4`}),`Reset`]})]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Prefix`}),(0,Q.jsx)(`input`,{type:`text`,value:D.prefix,onChange:e=>O({...D,prefix:e.target.value.toUpperCase()}),placeholder:`e.g., ADM, STU`,className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Separator`}),(0,Q.jsxs)(`select`,{value:D.separator,onChange:e=>O({...D,separator:e.target.value}),className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:`/`,children:`/`}),(0,Q.jsx)(`option`,{value:`-`,children:`-`}),(0,Q.jsx)(`option`,{value:``,children:`None`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Number Length`}),(0,Q.jsxs)(`select`,{value:D.numberLength,onChange:e=>O({...D,numberLength:parseInt(e.target.value)}),className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:3,children:`3 digits (001)`}),(0,Q.jsx)(`option`,{value:4,children:`4 digits (0001)`}),(0,Q.jsx)(`option`,{value:5,children:`5 digits (00001)`}),(0,Q.jsx)(`option`,{value:6,children:`6 digits (000001)`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Start From`}),(0,Q.jsx)(`input`,{type:`number`,value:D.startNumber,onChange:e=>O({...D,startNumber:parseInt(e.target.value)||1}),min:1,className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Include Year`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:D.includeYear,onChange:e=>O({...D,includeYear:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Yes`})]}),D.includeYear&&(0,Q.jsxs)(`select`,{value:D.yearFormat,onChange:e=>O({...D,yearFormat:e.target.value}),className:`px-3 py-2 border border-gray-200 rounded-lg`,children:[(0,Q.jsx)(`option`,{value:`YY`,children:`Short (25)`}),(0,Q.jsx)(`option`,{value:`YYYY`,children:`Full (2025)`})]})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Reset Every Year`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:D.resetYearly,onChange:e=>O({...D,resetYearly:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Start from 1 each new year`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Auto Increment`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:D.autoIncrement,onChange:e=>O({...D,autoIncrement:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Auto-increment after each student`})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-gray-50 rounded-xl p-4`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-700 mb-3`,children:`Include in Format`}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-4`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:D.includeClass,onChange:e=>O({...D,includeClass:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Class Number`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:D.includeSection,onChange:e=>O({...D,includeSection:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Section Letter`})]})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Suffix (Optional)`}),(0,Q.jsx)(`input`,{type:`text`,value:D.suffix,onChange:e=>O({...D,suffix:e.target.value.toUpperCase()}),placeholder:`e.g., SCH`,className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,Q.jsxs)(`button`,{onClick:()=>L(`admission`),className:`px-5 py-3 border-2 border-indigo-600 text-indigo-600 rounded-xl font-medium flex items-center gap-2 hover:bg-indigo-50 transition-all`,children:[(0,Q.jsx)(sr,{className:`w-5 h-5`}),`Bulk Generate Admission Numbers`]}),(0,Q.jsxs)(`button`,{onClick:P,disabled:i,className:`px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium flex items-center gap-2 hover:shadow-lg transition-all disabled:opacity-50`,children:[i?(0,Q.jsx)(wr,{className:`w-5 h-5 animate-spin`}):(0,Q.jsx)(Er,{className:`w-5 h-5`}),`Save Settings`]})]})]}),o===`roll_number`&&(0,Q.jsxs)(`div`,{className:`space-y-6`,children:[e.roll_number&&(0,Q.jsx)(`div`,{className:`bg-green-50 border border-green-200 rounded-xl p-4 flex items-center justify-between`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(Bn,{className:`w-5 h-5 text-green-600`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-green-800`,children:`Roll Number Type`}),(0,Q.jsxs)(`p`,{className:`text-sm text-green-600 capitalize`,children:[e.roll_number.rollNumberType||`Sequential`,e.roll_number.rollPerClass&&` (Per Class)`]})]})]})}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Prefix (Optional)`}),(0,Q.jsx)(`input`,{type:`text`,value:k.prefix,onChange:e=>A({...k,prefix:e.target.value.toUpperCase()}),placeholder:`e.g., R`,className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Number Length`}),(0,Q.jsxs)(`select`,{value:k.numberLength,onChange:e=>A({...k,numberLength:parseInt(e.target.value)}),className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:1,children:`1 digit (1)`}),(0,Q.jsx)(`option`,{value:2,children:`2 digits (01)`}),(0,Q.jsx)(`option`,{value:3,children:`3 digits (001)`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Start From`}),(0,Q.jsx)(`input`,{type:`number`,value:k.startNumber,onChange:e=>A({...k,startNumber:parseInt(e.target.value)||1}),min:1,className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Numbering Type`}),(0,Q.jsxs)(`select`,{value:k.rollNumberType,onChange:e=>A({...k,rollNumberType:e.target.value}),className:`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:`sequential`,children:`Sequential (1, 2, 3...)`}),(0,Q.jsx)(`option`,{value:`padded`,children:`Padded (01, 02, 03...)`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Reset Per Class`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:k.rollPerClass,onChange:e=>A({...k,rollPerClass:e.target.checked}),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsx)(`span`,{children:`Each class starts from 1`})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,Q.jsxs)(`button`,{onClick:()=>L(`roll`),className:`px-5 py-3 border-2 border-indigo-600 text-indigo-600 rounded-xl font-medium flex items-center gap-2 hover:bg-indigo-50 transition-all`,children:[(0,Q.jsx)(sr,{className:`w-5 h-5`}),`Bulk Generate Roll Numbers`]}),(0,Q.jsxs)(`button`,{onClick:F,disabled:i,className:`px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium flex items-center gap-2 hover:shadow-lg transition-all disabled:opacity-50`,children:[i?(0,Q.jsx)(wr,{className:`w-5 h-5 animate-spin`}):(0,Q.jsx)(Er,{className:`w-5 h-5`}),`Save Settings`]})]})]})]})]}),u&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(sr,{className:`w-6 h-6`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-bold`,children:[`Bulk Generate `,f===`admission`?`Admission`:`Roll`,` Numbers`]}),(0,Q.jsx)(`p`,{className:`text-white/80 text-sm`,children:`Select students to generate numbers for`})]})]}),(0,Q.jsx)(`button`,{onClick:()=>d(!1),className:`p-2 hover:bg-white/20 rounded-lg`,children:(0,Q.jsx)(X,{className:`w-5 h-5`})})]}),(0,Q.jsx)(`div`,{className:`p-4 border-b bg-gray-50`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`label`,{className:`text-sm font-medium text-gray-700`,children:`Filter by Class:`}),(0,Q.jsxs)(`select`,{value:T,onChange:e=>E(e.target.value),className:`px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500`,children:[(0,Q.jsx)(`option`,{value:``,children:`All Classes`}),(()=>g.filter(e=>e.academicSessionId===y?.id))().map(e=>(0,Q.jsxs)(`option`,{value:e.id,children:[e.gradeDisplayName||e.gradeName,` - `,e.sectionDisplayName||e.sectionName]},e.id))]}),(0,Q.jsxs)(`span`,{className:`text-sm text-gray-500`,children:[B().length,` students without `,f===`admission`?`admission`:`roll`,` number`]})]})}),(0,Q.jsx)(`div`,{className:`flex-1 overflow-auto p-4`,children:m?(0,Q.jsx)(`div`,{className:`flex items-center justify-center h-48`,children:(0,Q.jsx)(wr,{className:`w-8 h-8 animate-spin text-indigo-600`})}):B().length===0?(0,Q.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-48 text-gray-400`,children:[(0,Q.jsx)(Bn,{className:`w-16 h-16 mb-4`}),(0,Q.jsxs)(`p`,{className:`text-lg font-medium`,children:[`All students have `,f===`admission`?`admission`:`roll`,` numbers!`]})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-4 pb-4 border-b`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:C.length===B().length&&B().length>0,onChange:ee,className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsxs)(`span`,{className:`font-medium text-gray-700`,children:[`Select All (`,B().length,` students)`]}),C.length>0&&(0,Q.jsxs)(`span`,{className:`px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm`,children:[C.length,` selected`]})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-3`,children:B().map(e=>(0,Q.jsxs)(`label`,{className:`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${C.includes(e.id)?`border-indigo-500 bg-indigo-50`:`border-gray-200 hover:border-gray-300`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:C.includes(e.id),onChange:()=>z(e.id),className:`w-5 h-5 text-indigo-600 rounded`}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`p`,{className:`font-medium text-gray-800 truncate`,children:e.fullName}),(0,Q.jsxs)(`p`,{className:`text-sm text-gray-500 truncate`,children:[e.className||`No class`,`  `,e.admissionNumber||`No Adm #`]})]})]},e.id))})]})}),(0,Q.jsxs)(`div`,{className:`p-4 border-t bg-gray-50 flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>d(!1),className:`px-5 py-2.5 text-gray-600 hover:bg-gray-200 rounded-xl font-medium`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:R,disabled:m||C.length===0,className:`px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-medium flex items-center gap-2 disabled:opacity-50`,children:[m?(0,Q.jsx)(wr,{className:`w-5 h-5 animate-spin`}):(0,Q.jsx)(Sr,{className:`w-5 h-5`}),`Generate `,C.length,` Numbers`]})]})]})}),(0,Q.jsx)(`div`,{className:`mt-6 bg-amber-50 border border-amber-200 rounded-xl p-4`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,Q.jsx)(zn,{className:`w-5 h-5 text-amber-600 mt-0.5`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`p`,{className:`font-medium text-amber-800`,children:`How it works`}),(0,Q.jsxs)(`ul`,{className:`mt-2 text-sm text-amber-700 space-y-1`,children:[(0,Q.jsxs)(`li`,{children:[` `,(0,Q.jsx)(`strong`,{children:`Admission Number`}),`: Auto-generated when adding a new student`]}),(0,Q.jsxs)(`li`,{children:[` `,(0,Q.jsx)(`strong`,{children:`Roll Number`}),`: Auto-generated based on class and existing students`]}),(0,Q.jsx)(`li`,{children:` Numbers can be manually edited during student creation if needed`}),(0,Q.jsx)(`li`,{children:` Use "Reset" to restart the sequence (useful at start of new academic year)`})]})]})]})})]})},fo=({children:e})=>localStorage.getItem(`schoolAdmin_token`)?e:(0,Q.jsx)(tt,{to:`/login`,replace:!0}),po=({children:e})=>{if(localStorage.getItem(`schoolAdmin_token`)){let e=localStorage.getItem(`schoolAdmin_info`);if(e)try{if(JSON.parse(e).mustChangePassword)return(0,Q.jsx)(tt,{to:`/change-password`,replace:!0})}catch{}return(0,Q.jsx)(tt,{to:`/dashboard`,replace:!0})}return e};function mo(){return(0,Q.jsx)(Wt,{children:(0,Q.jsxs)(at,{children:[(0,Q.jsx)(rt,{path:`/login`,element:(0,Q.jsx)(po,{children:(0,Q.jsx)(Ei,{})})}),(0,Q.jsx)(rt,{path:`/forgot-password`,element:(0,Q.jsx)(Di,{})}),(0,Q.jsx)(rt,{path:`/reset-password`,element:(0,Q.jsx)(Oi,{})}),(0,Q.jsxs)(rt,{path:`/`,element:(0,Q.jsx)(fo,{children:(0,Q.jsx)(bi,{children:(0,Q.jsx)(Ci,{})})}),children:[(0,Q.jsx)(rt,{index:!0,element:(0,Q.jsx)(tt,{to:`/dashboard`,replace:!0})}),(0,Q.jsx)(rt,{path:`dashboard`,element:(0,Q.jsx)(ua,{})}),(0,Q.jsx)(rt,{path:`students`,element:(0,Q.jsx)(da,{})}),(0,Q.jsx)(rt,{path:`students/:id`,element:(0,Q.jsx)(fa,{})}),(0,Q.jsx)(rt,{path:`teachers`,element:(0,Q.jsx)(Na,{})}),(0,Q.jsx)(rt,{path:`teachers/subject-assignment`,element:(0,Q.jsx)(no,{})}),(0,Q.jsx)(rt,{path:`classes`,element:(0,Q.jsx)(Pa,{})}),(0,Q.jsx)(rt,{path:`attendance`,element:(0,Q.jsx)(Fa,{})}),(0,Q.jsx)(rt,{path:`exams`,element:(0,Q.jsx)(Ia,{})}),(0,Q.jsx)(rt,{path:`fees`,element:(0,Q.jsx)(La,{})}),(0,Q.jsx)(rt,{path:`reports`,element:(0,Q.jsx)(Ra,{})}),(0,Q.jsx)(rt,{path:`school-details`,element:(0,Q.jsx)(Ba,{})}),(0,Q.jsx)(rt,{path:`settings`,element:(0,Q.jsx)(za,{})}),(0,Q.jsx)(rt,{path:`settings/academic-sessions`,element:(0,Q.jsx)(Ha,{})}),(0,Q.jsx)(rt,{path:`settings/class-configuration`,element:(0,Q.jsx)(Ua,{})}),(0,Q.jsx)(rt,{path:`settings/subjects`,element:(0,Q.jsx)(Ka,{})}),(0,Q.jsx)(rt,{path:`settings/fees`,element:(0,Q.jsx)(Za,{})}),(0,Q.jsx)(rt,{path:`settings/people`,element:(0,Q.jsx)($a,{})}),(0,Q.jsx)(rt,{path:`settings/class-timings`,element:(0,Q.jsx)(so,{})}),(0,Q.jsx)(rt,{path:`settings/departments`,element:(0,Q.jsx)(lo,{})}),(0,Q.jsx)(rt,{path:`settings/number-settings`,element:(0,Q.jsx)(uo,{})}),(0,Q.jsx)(rt,{path:`change-password`,element:(0,Q.jsx)(Va,{})})]}),(0,Q.jsx)(rt,{path:`*`,element:(0,Q.jsx)(tt,{to:`/dashboard`,replace:!0})})]})})}var ho=mo;(0,g.createRoot)(document.getElementById(`root`)).render((0,Q.jsx)(_.StrictMode,{children:(0,Q.jsx)(ho,{})}));